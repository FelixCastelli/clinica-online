import{A as Ke,B as uf,C as lf,D as df,E as hf,F as ff,G as ii,a as B,b as ve,c as O,d as w0,e as $c,f as E0,g as I0,h as C0,i as Hc,j as af,k as qc,l as D0,m as b0,n as cf,o as zc,p as T0,q as at,r as ti,s as Gn,t as Gc,u as ni,v as Us,w as Wc,x as S0,y as ri,z as Kc}from"./chunk-LCLSOM7X.js";function A0(t,e){return Object.is(t,e)}var Je=null,Qc=!1,Zc=1,Wn=Symbol("SIGNAL");function _e(t){let e=Je;return Je=t,e}function x0(){return Je}var $s={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gf(t){if(Qc)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(t);let e=Je.nextProducerIndex++;if(eu(Je),e<Je.producerNode.length&&Je.producerNode[e]!==t&&Bs(Je)){let n=Je.producerNode[e];Xc(n,Je.producerIndexOfThis[e])}Je.producerNode[e]!==t&&(Je.producerNode[e]=t,Je.producerIndexOfThis[e]=Bs(Je)?P0(t,Je,e):0),Je.producerLastReadVersion[e]=t.version}function UA(){Zc++}function M0(t){if(!(Bs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zc)){if(!t.producerMustRecompute(t)&&!vf(t)){t.dirty=!1,t.lastCleanEpoch=Zc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zc}}function R0(t){if(t.liveConsumerNode===void 0)return;let e=Qc;Qc=!0;try{for(let n of t.liveConsumerNode)n.dirty||BA(n)}finally{Qc=e}}function N0(){return Je?.consumerAllowSignalWrites!==!1}function BA(t){t.dirty=!0,R0(t),t.consumerMarkedDirty?.(t)}function Jc(t){return t&&(t.nextProducerIndex=0),_e(t)}function yf(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vf(t){eu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(M0(n),r!==n.version))return!0}return!1}function _f(t){if(eu(t),Bs(t))for(let e=0;e<t.producerNode.length;e++)Xc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function P0(t,e,n){if(k0(t),t.liveConsumerNode.length===0&&O0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=P0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xc(t,e){if(k0(t),t.liveConsumerNode.length===1&&O0(t))for(let r=0;r<t.producerNode.length;r++)Xc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];eu(i),i.producerIndexOfThis[r]=e}}function Bs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function eu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function k0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function O0(t){return t.producerNode!==void 0}function F0(t){let e=Object.create($A);e.computation=t;let n=()=>{if(M0(e),gf(e),e.value===Yc)throw e.error;return e.value};return n[Wn]=e,n}var pf=Symbol("UNSET"),mf=Symbol("COMPUTING"),Yc=Symbol("ERRORED"),$A=ve(B({},$s),{value:pf,dirty:!0,error:null,equal:A0,producerMustRecompute(t){return t.value===pf||t.value===mf},producerRecomputeValue(t){if(t.value===mf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=mf;let n=Jc(t),r;try{r=t.computation()}catch(i){r=Yc,t.error=i}finally{yf(t,n)}if(e!==pf&&e!==Yc&&r!==Yc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function HA(){throw new Error}var V0=HA;function L0(){V0()}function j0(t){V0=t}var qA=null;function U0(t){let e=Object.create($0);e.value=t;let n=()=>(gf(e),e.value);return n[Wn]=e,n}function wf(t,e){N0()||L0(),t.equal(t.value,e)||(t.value=e,zA(t))}function B0(t,e){N0()||L0(),wf(t,e(t.value))}var $0=ve(B({},$s),{equal:A0,value:void 0});function zA(t){t.version++,UA(),R0(t),qA?.()}function re(t){return typeof t=="function"}function Wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tu=Wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof tu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{H0(o)}catch(s){e=e??[],s instanceof tu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)H0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oi(n,e)}remove(e){let{_finalizers:n}=this;n&&oi(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var Ef=$e.EMPTY;function nu(t){return t instanceof $e||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function H0(t){re(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(t,e,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ru(t){Ki.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function Hs(){}var q0=If("C",void 0,void 0);function z0(t){return If("E",void 0,t)}function G0(t){return If("N",t,void 0)}function If(t,e,n){return{kind:t,value:e,error:n}}var si=null;function Qi(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!si;if(e&&(si={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=si;if(si=null,n)throw r}}else t()}function W0(t){sn.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=t)}var ai=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nu(e)&&e.add(this)):this.destination=KA}static create(e,n,r){return new Kn(e,n,r)}next(e){this.isStopped?Df(G0(e),this):this._next(e)}error(e){this.isStopped?Df(z0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Df(q0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GA=Function.prototype.bind;function Cf(t,e){return GA.call(t,e)}var bf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){iu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){iu(r)}else iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){iu(n)}}},Kn=class extends ai{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cf(e.next,o),error:e.error&&Cf(e.error,o),complete:e.complete&&Cf(e.complete,o)}):i=e}this.destination=new bf(i)}};function iu(t){sn.useDeprecatedSynchronousErrorHandling?W0(t):ru(t)}function WA(t){throw t}function Df(t,e){let{onStoppedNotification:n}=sn;n&&Ki.setTimeout(()=>n(t,e))}var KA={closed:!0,next:Hs,error:WA,complete:Hs};var Zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(t){return t}function ou(...t){return Tf(t)}function Tf(t){return t.length===0?Vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ZA(n)?n:new Kn(n,r,i);return Qi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=K0(r),new r((i,o)=>{let s=new Kn({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zi](){return this}pipe(...n){return Tf(n)(this)}toPromise(n){return n=K0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function K0(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function QA(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function ZA(t){return t&&t instanceof ai||QA(t)&&nu(t)}function Sf(t){return re(t?.lift)}function me(t){return e=>{if(Sf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Af(t,e,n,r,i)}var Af=class extends ai{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yi(){return me((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ji=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Yi()(this)}};var Q0=Wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new su(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Q0}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ef:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new su(e,n),t})(),su=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ef}};var Xe=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qs={now(){return(qs.delegate||Date).now()},delegate:void 0};var au=class extends je{constructor(e=1/0,n=1/0,r=qs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var cu=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Xi=class extends cu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var eo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};eo.now=qs.now;var to=class extends eo{constructor(e,n=eo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xf=new to(Xi);var uu=class extends Xi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lu=class extends to{};var Mf=new lu(uu);var Ct=new de(t=>t.complete());function Z0(t){return t&&re(t.schedule)}function Rf(t){return t[t.length-1]}function du(t){return re(Rf(t))?t.pop():void 0}function vn(t){return Z0(Rf(t))?t.pop():void 0}function Y0(t,e){return typeof Rf(t)=="number"?t.pop():e}var hu=t=>t&&typeof t.length=="number"&&typeof t!="function";function fu(t){return re(t?.then)}function pu(t){return re(t[Zi])}function mu(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function gu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yu=YA();function vu(t){return re(t?.[yu])}function _u(t){return E0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $c(n.read());if(i)return yield $c(void 0);yield yield $c(r)}}finally{n.releaseLock()}})}function wu(t){return re(t?.getReader)}function ke(t){if(t instanceof de)return t;if(t!=null){if(pu(t))return JA(t);if(hu(t))return XA(t);if(fu(t))return ex(t);if(mu(t))return J0(t);if(vu(t))return tx(t);if(wu(t))return nx(t)}throw gu(t)}function JA(t){return new de(e=>{let n=t[Zi]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XA(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ex(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ru)})}function tx(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function J0(t){return new de(e=>{rx(t,e).catch(n=>e.error(n))})}function nx(t){return J0(_u(t))}function rx(t,e){var n,r,i,o;return w0(this,void 0,void 0,function*(){try{for(n=I0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function xt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Lt(t,e=0){return me((n,r)=>{n.subscribe(ge(r,i=>xt(r,t,()=>r.next(i),e),()=>xt(r,t,()=>r.complete(),e),i=>xt(r,t,()=>r.error(i),e)))})}function zt(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function X0(t,e){return ke(t).pipe(zt(e),Lt(e))}function ew(t,e){return ke(t).pipe(zt(e),Lt(e))}function tw(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function nw(t,e){return new de(n=>{let r;return xt(n,e,()=>{r=t[yu](),xt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Eu(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{xt(n,e,()=>{let r=t[Symbol.asyncIterator]();xt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rw(t,e){return Eu(_u(t),e)}function iw(t,e){if(t!=null){if(pu(t))return X0(t,e);if(hu(t))return tw(t,e);if(fu(t))return ew(t,e);if(mu(t))return Eu(t,e);if(vu(t))return nw(t,e);if(wu(t))return rw(t,e)}throw gu(t)}function Me(t,e){return e?iw(t,e):ke(t)}function te(...t){let e=vn(t);return Me(t,e)}function no(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function Nf(t){return!!t&&(t instanceof de||re(t.lift)&&re(t.subscribe))}var Qn=Wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function se(t,e){return me((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:ix}=Array;function ox(t,e){return ix(e)?t(...e):t(e)}function Iu(t){return se(e=>ox(t,e))}var{isArray:sx}=Array,{getPrototypeOf:ax,prototype:cx,keys:ux}=Object;function Cu(t){if(t.length===1){let e=t[0];if(sx(e))return{args:e,keys:null};if(lx(e)){let n=ux(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lx(t){return t&&typeof t=="object"&&ax(t)===cx}function Du(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bu(...t){let e=vn(t),n=du(t),{args:r,keys:i}=Cu(t);if(r.length===0)return Me([],e);let o=new de(dx(r,e,i?s=>Du(i,s):Vt));return n?o.pipe(Iu(n)):o}function dx(t,e,n=Vt){return r=>{ow(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)ow(e,()=>{let l=Me(t[u],e),h=!1;l.subscribe(ge(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ow(t,e,n){t?xt(n,t,e):e()}function sw(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let D=!1;ke(n(P,h++)).subscribe(ge(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;u.length&&l<r;){let L=u.shift();s?xt(e,s,()=>A(L)):A(L)}g()}catch(L){e.error(L)}}))};return t.subscribe(ge(e,v,()=>{p=!0,g()})),()=>{c?.()}}function et(t,e,n=1/0){return re(e)?et((r,i)=>se((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>sw(r,i,t,n)))}function Gs(t=1/0){return et(Vt,t)}function aw(){return Gs(1)}function ro(...t){return aw()(Me(t,vn(t)))}function Tu(t){return new de(e=>{ke(t()).subscribe(e)})}function Pf(...t){let e=du(t),{args:n,keys:r}=Cu(t),i=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ke(n[h]).subscribe(ge(o,g=>{p||(p=!0,l--),c[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Du(r,c):c),o.complete())}))}});return e?i.pipe(Iu(e)):i}function kf(...t){let e=vn(t),n=Y0(t,1/0),r=t;return r.length?r.length===1?ke(r[0]):Gs(n)(Me(r,e)):Ct}function Mt(t,e){return me((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Sr(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=ke(t(s,Sr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ge(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function io(t,e){return re(e)?et(t,e,1):et(t,1)}function Ar(t){return me((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Zn(t){return t<=0?()=>Ct:me((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Of(t){return se(()=>t)}function Su(t=hx){return me((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hx(){return new Qn}function Ws(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):Vt,Zn(1),n?Ar(e):Su(()=>new Qn))}function oo(t){return t<=0?()=>Ct:me((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ff(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):Vt,oo(1),n?Ar(e):Su(()=>new Qn))}function Au(t,e){return me(cw(t,e,arguments.length>=2,!0))}function uw(t={}){let{connector:e=()=>new je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,h=!1,p=!1,g=()=>{c?.unsubscribe(),c=void 0},v=()=>{g(),s=u=void 0,h=p=!1},A=()=>{let P=s;v(),P?.unsubscribe()};return me((P,D)=>{l++,!p&&!h&&g();let L=u=u??e();D.add(()=>{l--,l===0&&!p&&!h&&(c=Vf(A,i))}),L.subscribe(D),!s&&l>0&&(s=new Kn({next:R=>L.next(R),error:R=>{p=!0,g(),c=Vf(v,n,R),L.error(R)},complete:()=>{h=!0,g(),c=Vf(v,r),L.complete()}}),ke(P).subscribe(s))})(o)}}function Vf(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Kn({next:()=>{r.unsubscribe(),t()}});return ke(e(...n)).subscribe(r)}function xu(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,uw({connector:()=>new au(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Mu(...t){let e=vn(t);return me((n,r)=>{(e?ro(t,n,e):ro(t,n)).subscribe(r)})}function Ge(t,e){return me((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=o++;ke(t(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Ru(t,e){return re(e)?Ge(()=>t,e):Ge(()=>t)}function Lf(t){return me((e,n)=>{ke(t).subscribe(ge(n,()=>n.complete(),Hs)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Vt}var Kw="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,n){super(Bp(e,n)),this.code=e}};function Bp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ia(t){return{toString:t}.toString()}var Nu="__parameters__";function fx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Qw(t,e,n){return ia(()=>{let r=fx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Nu)?u[Nu]:Object.defineProperty(u,Nu,{value:[]})[Nu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function px(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var mx=Re({__forward_ref__:Re});function Jt(t){return t.__forward_ref__=Jt,t.toString=function(){return bt(this())},t}function Dt(t){return Zw(t)?t():t}function Zw(t){return typeof t=="function"&&t.hasOwnProperty(mx)&&t.__forward_ref__===Jt}function Q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function er(t){return{providers:t.providers||[],imports:t.imports||[]}}function hl(t){return dw(t,Jw)||dw(t,Xw)}function Yw(t){return hl(t)!==null}function dw(t,e){return t.hasOwnProperty(e)?t[e]:null}function gx(t){let e=t&&(t[Jw]||t[Xw]);return e||null}function hw(t){return t&&(t.hasOwnProperty(fw)||t.hasOwnProperty(yx))?t[fw]:null}var Jw=Re({\u0275prov:Re}),fw=Re({\u0275inj:Re}),Xw=Re({ngInjectableDef:Re}),yx=Re({ngInjectorDef:Re}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function eE(t){return t&&!!t.\u0275providers}var vx=Re({\u0275cmp:Re}),_x=Re({\u0275dir:Re}),wx=Re({\u0275pipe:Re}),Ex=Re({\u0275mod:Re}),Bu=Re({\u0275fac:Re}),Zs=Re({__NG_ELEMENT_ID__:Re}),pw=Re({__NG_ENV_ID__:Re});function ho(t){return typeof t=="string"?t:t==null?"":String(t)}function Ix(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ho(t)}function Cx(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function $p(t,e){throw new Z(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),Jf;function tE(){return Jf}function Wt(t){let e=Jf;return Jf=t,e}function nE(t,e,n){let r=hl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;$p(t,"Injector")}var Dx={},Ys=Dx,Xf="__NG_DI_FLAG__",$u="ngTempTokenPath",bx="ngTokenPath",Tx=/\n/gm,Sx="\u0275",mw="__source",uo;function Ax(){return uo}function xr(t){let e=uo;return uo=t,e}function xx(t,e=he.Default){if(uo===void 0)throw new Z(-203,!1);return uo===null?nE(t,void 0,e):uo.get(t,e&he.Optional?null:void 0,e)}function ee(t,e=he.Default){return(tE()||xx)(Dt(t),e)}function H(t,e=he.Default){return ee(t,fl(e))}function fl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ep(t){let e=[];for(let n=0;n<t.length;n++){let r=Dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let c=r[s],u=Mx(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ee(i,o))}else e.push(ee(r))}return e}function rE(t,e){return t[Xf]=e,t.prototype[Xf]=e,t}function Mx(t){return t[Xf]}function Rx(t,e,n,r){let i=t[$u];throw e[mw]&&i.unshift(e[mw]),t.message=Nx(`
`+t.message,i,n,r),t[bx]=i,t[$u]=null,t}function Nx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Sx?t.slice(2):t;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):bt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Tx,`
  `)}`}var mt=rE(Qw("Optional"),8);var iE=rE(Qw("SkipSelf"),4);function fo(t,e){let n=t.hasOwnProperty(Bu);return n?t[Bu]:null}function Hp(t,e){t.forEach(n=>Array.isArray(n)?Hp(n,e):e(n))}function oE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Px(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function kx(t,e,n){let r=oa(t,e);return r>=0?t[r|1]=n:(r=~r,Px(t,r,e,n)),r}function jf(t,e){let n=oa(t,e);if(n>=0)return t[n|1]}function oa(t,e){return Ox(t,e,1)}function Ox(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var po={},Kt=[],mo=new G(""),sE=new G("",-1),aE=new G(""),qu=class{get(e,n=Ys){if(n===Ys){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return n}},cE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cE||{}),En=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(En||{}),Nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nr||{});function Fx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function tp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];Lx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Vx(t){return t===3||t===4||t===6}function Lx(t){return t.charCodeAt(0)===64}function Js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gw(t,n,i,null,e[++r]):gw(t,n,i,null,null))}}return t}function gw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var uE="ng-template";function jx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Fx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qp(t){return t.type===4&&t.value!==uE}function Ux(t,e,n){let r=t.type===4&&!n?uE:t.value;return e===r}function Bx(t,e,n){let r=4,i=t.attrs,o=i!==null?qx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!an(r)&&!an(u))return!1;if(s&&an(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Ux(t,u,n)||u===""&&e.length===1){if(an(r))return!1;s=!0}}else if(r&8){if(i===null||!jx(t,i,u,n)){if(an(r))return!1;s=!0}}else{let l=e[++c],h=$x(u,i,qp(t),n);if(h===-1){if(an(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(an(r))return!1;s=!0}}}}return an(r)||s}function an(t){return(t&1)===0}function $x(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zx(e,t)}function Hx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Bx(t,e[r],n))return!0;return!1}function qx(t){for(let e=0;e<t.length;e++){let n=t[e];if(Vx(n))return e}return t.length}function zx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yw(t,e){return t?":not("+e.trim()+")":e}function Gx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!an(s)&&(e+=yw(o,i),i=""),r=s,o=o||!an(r);n++}return i!==""&&(e+=yw(o,i)),e}function Wx(t){return t.map(Gx).join(",")}function Kx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!an(i))break;i=o}r++}return{attrs:e,classes:n}}function gt(t){return ia(()=>{let e=pE(t),n=ve(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||En.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""});mE(n);let r=t.dependencies;return n.directiveDefs=_w(r,!1),n.pipeDefs=_w(r,!0),n.id=Yx(n),n})}function Qx(t){return ui(t)||lE(t)}function Zx(t){return t!==null}function tr(t){return ia(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vw(t,e){if(t==null)return po;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Nr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Nr.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Oe(t){return ia(()=>{let e=pE(t);return mE(e),e})}function ui(t){return t[vx]||null}function lE(t){return t[_x]||null}function dE(t){return t[wx]||null}function hE(t){let e=ui(t)||lE(t)||dE(t);return e!==null?e.standalone:!1}function fE(t,e){let n=t[Ex]||null;if(!n&&e===!0)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function pE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||po,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vw(t.inputs,e),outputs:vw(t.outputs),debugInfo:null}}function mE(t){t.features?.forEach(e=>e(t))}function _w(t,e){if(!t)return null;let n=e?dE:Qx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Zx)}function Yx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tn(t){return{\u0275providers:t}}function Jx(...t){return{\u0275providers:gE(!0,t),\u0275fromNgModule:!0}}function gE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Hp(e,s=>{let c=s;np(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&yE(i,o),n}function yE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zp(i,o=>{e(o,r)})}}function np(t,e,n,r){if(t=Dt(t),!t)return!1;let i=null,o=hw(t),s=!o&&ui(t);if(!o&&!s){let u=t.ngModule;if(o=hw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)np(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Hp(o.imports,h=>{np(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&yE(l,e)}if(!c){let l=fo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:aE,useValue:i,multi:!0},i),e({provide:mo,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;zp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function zp(t,e){for(let n of t)eE(n)&&(n=n.\u0275providers),Array.isArray(n)?zp(n,e):e(n)}var Xx=Re({provide:String,useValue:Re});function vE(t){return t!==null&&typeof t=="object"&&Xx in t}function eM(t){return!!(t&&t.useExisting)}function tM(t){return!!(t&&t.useFactory)}function go(t){return typeof t=="function"}function nM(t){return!!t.useClass}var pl=new G(""),Fu={},rM={},Uf;function Gp(){return Uf===void 0&&(Uf=new qu),Uf}var Zt=class{},Xs=class extends Zt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ip(e,s=>this.processProvider(s)),this.records.set(sE,so(void 0,this)),i.has("environment")&&this.records.set(Zt,so(void 0,this));let o=this.records.get(pl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aE,Kt,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=xr(this),r=Wt(void 0),i;try{return e()}finally{xr(n),Wt(r)}}get(e,n=Ys,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pw))return e[pw](this);r=fl(r);let i,o=xr(this),s=Wt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=cM(e)&&hl(e);l&&this.injectableDefInScope(l)?u=so(rp(e),Fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&he.Self?Gp():this.parent;return n=r&he.Optional&&n===Ys?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[$u]=c[$u]||[]).unshift(bt(e)),o)throw c;return Rx(c,e,"R3InjectorError",this.source)}else throw c}finally{Wt(s),xr(o)}}resolveInjectorInitializers(){let e=_e(null),n=xr(this),r=Wt(void 0),i;try{let o=this.get(mo,Kt,he.Self);for(let s of o)s()}finally{xr(n),Wt(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Dt(e);let n=go(e)?e:Dt(e&&e.provide),r=oM(e);if(!go(e)&&e.multi===!0){let i=this.records.get(n);i||(i=so(void 0,Fu,!0),i.factory=()=>ep(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===Fu&&(n.value=rM,n.value=n.factory()),typeof n.value=="object"&&n.value&&aM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rp(t){let e=hl(t),n=e!==null?e.factory:fo(t);if(n!==null)return n;if(t instanceof G)throw new Z(204,!1);if(t instanceof Function)return iM(t);throw new Z(204,!1)}function iM(t){if(t.length>0)throw new Z(204,!1);let n=gx(t);return n!==null?()=>n.factory(t):()=>new t}function oM(t){if(vE(t))return so(void 0,t.useValue);{let e=_E(t);return so(e,Fu)}}function _E(t,e,n){let r;if(go(t)){let i=Dt(t);return fo(i)||rp(i)}else if(vE(t))r=()=>Dt(t.useValue);else if(tM(t))r=()=>t.useFactory(...ep(t.deps||[]));else if(eM(t))r=()=>ee(Dt(t.useExisting));else{let i=Dt(t&&(t.useClass||t.provide));if(sM(t))r=()=>new i(...ep(t.deps));else return fo(i)||rp(i)}return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sM(t){return!!t.deps}function aM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cM(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function ip(t,e){for(let n of t)Array.isArray(n)?ip(n,e):n&&eE(n)?ip(n.\u0275providers,e):e(n)}function nr(t,e){t instanceof Xs&&t.assertNotDestroyed();let n,r=xr(t),i=Wt(void 0);try{return e()}finally{xr(r),Wt(i)}}function uM(){return tE()!==void 0||Ax()!=null}function lM(t){return typeof t=="function"}var rr=0,fe=1,ie=2,Tt=3,cn=4,un=5,zu=6,Gu=7,Yt=8,yo=9,In=10,nt=11,ea=12,ww=13,bo=14,Cn=15,vo=16,ao=17,_o=18,ml=19,wE=20,Mr=21,Bf=22,Qt=23,Dn=25,EE=1;var li=7,Wu=8,Ku=9,jt=10,Qu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qu||{});function Rr(t){return Array.isArray(t)&&typeof t[EE]=="object"}function ir(t){return Array.isArray(t)&&t[EE]===!0}function IE(t){return(t.flags&4)!==0}function gl(t){return t.componentOffset>-1}function Wp(t){return(t.flags&1)===1}function Pr(t){return!!t.template}function op(t){return(t[ie]&512)!==0}var sp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function or(){return DE}function DE(t){return t.type.prototype.ngOnChanges&&(t.setInput=hM),dM}or.ngInherit=!0;function dM(){let t=TE(this),e=t?.current;if(e){let n=t.previous;if(n===po)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function hM(t,e,n,r,i){let o=this.declaredInputs[r],s=TE(t)||fM(t,{previous:po,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new sp(l&&l.currentValue,n,u===po),CE(t,e,i,n)}var bE="__ngSimpleChanges__";function TE(t){return t[bE]||null}function fM(t,e){return t[bE]=e}var Ew=null;var _n=function(t,e,n){Ew?.(t,e,n)},SE="svg",pM="math";function bn(t){for(;Array.isArray(t);)t=t[rr];return t}function AE(t,e){return bn(e[t])}function Xt(t,e){return bn(e[t.index])}function Kp(t,e){return t.data[e]}function Fr(t,e){let n=e[t];return Rr(n)?n:n[rr]}function Qp(t){return(t[ie]&128)===128}function mM(t){return ir(t[Tt])}function Zu(t,e){return e==null?null:t[e]}function xE(t){t[ao]=0}function ME(t){t[ie]&1024||(t[ie]|=1024,Qp(t)&&vl(t))}function gM(t,e){for(;t>0;)e=e[bo],t--;return e}function yl(t){return!!(t[ie]&9216||t[Qt]?.dirty)}function ap(t){t[In].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),yl(t)&&vl(t)}function vl(t){t[In].changeDetectionScheduler?.notify(0);let e=di(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Qp(e)));)e=di(e)}function RE(t,e){if((t[ie]&256)===256)throw new Z(911,!1);t[Mr]===null&&(t[Mr]=[]),t[Mr].push(e)}function yM(t,e){if(t[Mr]===null)return;let n=t[Mr].indexOf(e);n!==-1&&t[Mr].splice(n,1)}function di(t){let e=t[Tt];return ir(e)?e[Tt]:e}var pe={lFrame:BE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var NE=!1;function vM(){return pe.lFrame.elementDepthCount}function _M(){pe.lFrame.elementDepthCount++}function wM(){pe.lFrame.elementDepthCount--}function PE(){return pe.bindingsEnabled}function EM(){return pe.skipHydrationRootTNode!==null}function IM(t){return pe.skipHydrationRootTNode===t}function CM(){pe.skipHydrationRootTNode=null}function Ne(){return pe.lFrame.lView}function Ut(){return pe.lFrame.tView}function rt(t){return pe.lFrame.contextLView=t,t[Yt]}function it(t){return pe.lFrame.contextLView=null,t}function Nt(){let t=kE();for(;t!==null&&t.type===64;)t=t.parent;return t}function kE(){return pe.lFrame.currentTNode}function DM(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function sa(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function OE(){return pe.lFrame.isParent}function bM(){pe.lFrame.isParent=!1}function FE(){return NE}function Iw(t){NE=t}function TM(){return pe.lFrame.bindingIndex}function SM(t){return pe.lFrame.bindingIndex=t}function aa(){return pe.lFrame.bindingIndex++}function VE(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AM(){return pe.lFrame.inI18n}function xM(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,cp(e)}function MM(){return pe.lFrame.currentDirectiveIndex}function cp(t){pe.lFrame.currentDirectiveIndex=t}function RM(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function LE(t){pe.lFrame.currentQueryIndex=t}function NM(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[un]:null}function jE(t,e,n){if(n&he.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&he.Host);)if(i=NM(o),i===null||(o=o[bo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=UE();return r.currentTNode=e,r.lView=t,!0}function Zp(t){let e=UE(),n=t[fe];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UE(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?BE(t):e}function BE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $E(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HE=$E;function Yp(){let t=$E();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function PM(t){return(pe.lFrame.contextLView=gM(t,pe.lFrame.contextLView))[Yt]}function yi(){return pe.lFrame.selectedIndex}function hi(t){pe.lFrame.selectedIndex=t}function Jp(){let t=pe.lFrame;return Kp(t.tView,t.selectedIndex)}function ca(){pe.lFrame.currentNamespace=SE}function kM(){return pe.lFrame.currentNamespace}var qE=!0;function Xp(){return qE}function em(t){qE=t}function OM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function tm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Vu(t,e,n){zE(t,e,3,n)}function Lu(t,e,n,r){(t[ie]&3)===n&&zE(t,e,n,r)}function $f(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function zE(t,e,n,r){let i=r!==void 0?t[ao]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ao]+=65536),(c<o||o==-1)&&(FM(t,n,e,u),t[ao]=(t[ao]&4294901760)+u+2),u++}function Cw(t,e){_n(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),_n(5,t,e)}}function FM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[ie]>>14<t[ao]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,Cw(c,o)):Cw(c,o)}var lo=-1,fi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function VM(t){return t instanceof fi}function LM(t){return(t.flags&8)!==0}function jM(t){return(t.flags&16)!==0}var Hf={},up=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fl(r);let i=this.injector.get(e,Hf,r);return i!==Hf||n===Hf?i:this.parentInjector.get(e,n,r)}};function GE(t){return t!==lo}function Yu(t){return t&32767}function UM(t){return t>>16}function Ju(t,e){let n=UM(t),r=e;for(;n>0;)r=r[bo],n--;return r}var lp=!0;function Dw(t){let e=lp;return lp=t,e}var BM=256,WE=BM-1,KE=5,$M=0,wn={};function HM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zs)&&(r=n[Zs]),r==null&&(r=n[Zs]=$M++);let i=r&WE,o=1<<i;e.data[t+(i>>KE)]|=o}function Xu(t,e){let n=QE(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,qf(r.data,t),qf(e,null),qf(r.blueprint,null));let i=nm(t,e),o=t.injectorIndex;if(GE(i)){let s=Yu(i),c=Ju(i,e),u=c[fe].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function nm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=eI(i),r===null)return lo;if(n++,i=i[bo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lo}function dp(t,e,n){HM(t,e,n)}function ZE(t,e,n){if(n&he.Optional||t!==void 0)return t;$p(e,"NodeInjector")}function YE(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let i=t[yo],o=Wt(void 0);try{return i?i.get(e,r,n&he.Optional):nE(e,r,n&he.Optional)}finally{Wt(o)}}return ZE(r,e,n)}function JE(t,e,n,r=he.Default,i){if(t!==null){if(e[ie]&2048&&!(r&he.Self)){let s=KM(t,e,n,r,wn);if(s!==wn)return s}let o=XE(t,e,n,r,wn);if(o!==wn)return o}return YE(e,n,r,i)}function XE(t,e,n,r,i){let o=GM(n);if(typeof o=="function"){if(!jE(e,t,r))return r&he.Host?ZE(i,n,r):YE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))$p(n);else return s}finally{HE()}}else if(typeof o=="number"){let s=null,c=QE(t,e),u=lo,l=r&he.Host?e[Cn][un]:null;for((c===-1||r&he.SkipSelf)&&(u=c===-1?nm(t,e):e[c+8],u===lo||!Tw(r,!1)?c=-1:(s=e[fe],c=Yu(u),e=Ju(u,e)));c!==-1;){let h=e[fe];if(bw(o,c,h.data)){let p=qM(c,e,n,s,r,l);if(p!==wn)return p}u=e[c+8],u!==lo&&Tw(r,e[fe].data[c+8]===l)&&bw(o,c,e)?(s=h,c=Yu(u),e=Ju(u,e)):c=-1}}return i}function qM(t,e,n,r,i,o){let s=e[fe],c=s.data[t+8],u=r==null?gl(c)&&lp:r!=s&&(c.type&3)!==0,l=i&he.Host&&o===c,h=zM(c,s,n,u,l);return h!==null?wo(e,s,h,c):wn}function zM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,g=i?c+h:l;for(let v=p;v<g;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&Pr(v)&&v.type===n)return u}return null}function wo(t,e,n,r){let i=t[n],o=e.data;if(VM(i)){let s=i;s.resolving&&Cx(Ix(o[n]));let c=Dw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Wt(s.injectImpl):null,h=jE(t,r,he.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&OM(n,o[n],e)}finally{l!==null&&Wt(l),Dw(c),s.resolving=!1,HE()}}return i}function GM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zs)?t[Zs]:void 0;return typeof e=="number"?e>=0?e&WE:WM:e}function bw(t,e,n){let r=1<<t;return!!(n[e+(t>>KE)]&r)}function Tw(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var ci=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return JE(this._tNode,this._lView,e,fl(r),n)}};function WM(){return new ci(Nt(),Ne())}function sr(t){return ia(()=>{let e=t.prototype.constructor,n=e[Bu]||hp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Bu]||hp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hp(t){return Zw(t)?()=>{let e=hp(Dt(t));return e&&e()}:fo(t)}function KM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let c=XE(o,s,n,r|he.Self,wn);if(c!==wn)return c;let u=o.parent;if(!u){let l=s[wE];if(l){let h=l.get(n,wn,r);if(h!==wn)return h}u=eI(s),s=s[bo]}o=u}return i}function eI(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[un]:null}function Sw(t,e=null,n=null,r){let i=tI(t,e,n,r);return i.resolveInjectorInitializers(),i}function tI(t,e=null,n=null,r,i=new Set){let o=[n||Kt,Jx(t)];return r=r||(typeof t=="object"?void 0:bt(t)),new Xs(o,e||Gp(),r||null,i)}var Rt=class t{static{this.THROW_IF_NOT_FOUND=Ys}static{this.NULL=new qu}static create(e,n){if(Array.isArray(e))return Sw({name:""},n,e,"");{let r=e.name??"";return Sw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Q({token:t,providedIn:"any",factory:()=>ee(sE)})}static{this.__NG_ELEMENT_ID__=-1}};var QM=new G("");QM.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(t&he.Optional)return null;throw new Z(204,!1)};var ZM="ngOriginalError";function zf(t){return t[ZM]}var nI=!0,rI=(()=>{class t{static{this.__NG_ELEMENT_ID__=YM}static{this.__NG_ENV_ID__=n=>n}}return t})(),fp=class extends rI{constructor(e){super(),this._lView=e}onDestroy(e){return RE(this._lView,e),()=>yM(this._lView,e)}};function YM(){return new fp(Ne())}var To=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Q({token:t,providedIn:"root",factory:()=>new t})}}return t})();var pp=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,uM()&&(this.destroyRef=H(rI,{optional:!0})??void 0,this.pendingTasks=H(To,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},He=pp;function el(...t){}function iI(t){let e,n;function r(){t=el;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Aw(t){return queueMicrotask(()=>t()),()=>{t=el}}var rm="isAngularZone",tl=rm+"_ID",JM=0,Te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nI}=e;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XM,el,el);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XM={};function im(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){iI(()=>{t.callbackScheduled=!1,mp(t),t.isCheckStableRunning=!0,im(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),mp(t)}function tR(t){let e=()=>{eR(t)},n=JM++;t._inner=t._inner.fork({name:"angular",properties:{[rm]:!0,[tl]:n,[tl+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(nR(u))return r.invokeTask(o,s,c,u);try{return xw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Mw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return xw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rR(u)&&e(),Mw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,mp(t),im(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function mp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mw(t){t._nesting--,im(t)}var gp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nR(t){return oI(t,"__ignore_ng_zone__")}function rR(t){return oI(t,"__scheduler_tick__")}function oI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Yn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zf(e);for(;n&&zf(n);)n=zf(n);return n||null}},iR=new G("",{providedIn:"root",factory:()=>{let t=H(Te),e=H(Yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oR(){return _l(Nt(),Ne())}function _l(t,e){return new Sn(Xt(t,e))}var Sn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=oR}}return t})();function sI(t){return(t.flags&128)===128}var aI=new Map,sR=0;function aR(){return sR++}function cR(t){aI.set(t[ml],t)}function yp(t){aI.delete(t[ml])}var Rw="__ngContext__";function pi(t,e){Rr(e)?(t[Rw]=e[ml],cR(e)):t[Rw]=e}function cI(t){return lI(t[ea])}function uI(t){return lI(t[cn])}function lI(t){for(;t!==null&&!ir(t);)t=t[cn];return t}var vp;function dI(t){vp=t}function uR(){if(vp!==void 0)return vp;if(typeof document<"u")return document;throw new Z(210,!1)}var om=new G("",{providedIn:"root",factory:()=>lR}),lR="ng",sm=new G(""),ln=new G("",{providedIn:"platform",factory:()=>"unknown"});var am=new G("",{providedIn:"root",factory:()=>uR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dR="h",hR="b";var fR=()=>null;function cm(t,e,n=!1){return fR(t,e,n)}var hI=!1,pR=new G("",{providedIn:"root",factory:()=>hI});var nl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kw})`}};function wl(t){return t instanceof nl?t.changingThisBreaksApplicationSecurity:t}function fI(t,e){let n=mR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Kw})`)}return n===e}function mR(t){return t instanceof nl&&t.getTypeName()||null}var gR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pI(t){return t=String(t),t.match(gR)?t:"unsafe:"+t}var um=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(um||{});function dn(t){let e=yR();return e?e.sanitize(um.URL,t)||"":fI(t,"URL")?wl(t):pI(ho(t))}function yR(){let t=Ne();return t&&t[In].sanitizer}function mI(t){return t instanceof Function?t():t}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),vR;function lm(t,e){return vR(t,e)}function co(t,e,n,r,i){if(r!=null){let o,s=!1;ir(r)?o=r:Rr(r)&&(s=!0,r=r[rr]);let c=bn(r);t===0&&n!==null?i==null?_I(e,n,c):il(e,n,c,i||null,!0):t===1&&n!==null?il(e,n,c,i||null,!0):t===2?PR(e,c,s):t===3&&e.destroyNode(c),o!=null&&OR(e,t,o,n,i)}}function _R(t,e){return t.createText(e)}function wR(t,e,n){t.setValue(e,n)}function gI(t,e,n){return t.createElement(e,n)}function ER(t,e){yI(t,e),e[rr]=null,e[un]=null}function IR(t,e,n,r,i,o){r[rr]=i,r[un]=e,El(t,r,n,1,i,o)}function yI(t,e){e[In].changeDetectionScheduler?.notify(9),El(t,e,e[nt],2,null,null)}function CR(t){let e=t[ea];if(!e)return Gf(t[fe],t);for(;e;){let n=null;if(Rr(e))n=e[ea];else{let r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[cn]&&e!==t;)Rr(e)&&Gf(e[fe],e),e=e[Tt];e===null&&(e=t),Rr(e)&&Gf(e[fe],e),n=e&&e[cn]}e=n}}function DR(t,e,n,r){let i=jt+r,o=n.length;r>0&&(n[i-1][cn]=e),r<o-jt?(e[cn]=n[i],oE(n,jt+r,e)):(n.push(e),e[cn]=null),e[Tt]=n;let s=e[vo];s!==null&&n!==s&&vI(s,e);let c=e[_o];c!==null&&c.insertView(t),ap(e),e[ie]|=128}function vI(t,e){let n=t[Ku],r=e[Tt];if(Rr(r))t[ie]|=Qu.HasTransplantedViews;else{let i=r[Tt][Cn];e[Cn]!==i&&(t[ie]|=Qu.HasTransplantedViews)}n===null?t[Ku]=[e]:n.push(e)}function dm(t,e){let n=t[Ku],r=n.indexOf(e);n.splice(r,1)}function rl(t,e){if(t.length<=jt)return;let n=jt+e,r=t[n];if(r){let i=r[vo];i!==null&&i!==t&&dm(i,r),e>0&&(t[n-1][cn]=r[cn]);let o=Hu(t,jt+e);ER(r[fe],r);let s=o[_o];s!==null&&s.detachView(o[fe]),r[Tt]=null,r[cn]=null,r[ie]&=-129}return r}function hm(t,e){if(!(e[ie]&256)){let n=e[nt];n.destroyNode&&El(t,e,n,3,null,null),CR(e)}}function Gf(t,e){if(e[ie]&256)return;let n=_e(null);try{e[ie]&=-129,e[ie]|=256,e[Qt]&&_f(e[Qt]),TR(t,e),bR(t,e),e[fe].type===1&&e[nt].destroy();let r=e[vo];if(r!==null&&ir(e[Tt])){r!==e[Tt]&&dm(r,e);let i=e[_o];i!==null&&i.detachView(t)}yp(e)}finally{_e(n)}}function bR(t,e){let n=t.cleanup,r=e[Gu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Gu]=null);let i=e[Mr];if(i!==null){e[Mr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function TR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];_n(4,c,u);try{u.call(c)}finally{_n(5,c,u)}}else{_n(4,i,o);try{o.call(i)}finally{_n(5,i,o)}}}}}function SR(t,e,n){return AR(t,e.parent,n)}function AR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===En.None||o===En.Emulated)return null}return Xt(r,n)}}function il(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _I(t,e,n){t.appendChild(e,n)}function Nw(t,e,n,r,i){r!==null?il(t,e,n,r,i):_I(t,e,n)}function wI(t,e){return t.parentNode(e)}function xR(t,e){return t.nextSibling(e)}function MR(t,e,n){return NR(t,e,n)}function RR(t,e,n){return t.type&40?Xt(t,n):null}var NR=RR,Pw;function fm(t,e,n,r){let i=SR(t,r,e),o=e[nt],s=r.parent||e[un],c=MR(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Nw(o,i,n[u],c,!1);else Nw(o,i,n,c,!1);Pw!==void 0&&Pw(o,r,e,n,i)}function Ks(t,e){if(e!==null){let n=e.type;if(n&3)return Xt(e,t);if(n&4)return _p(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ks(t,r);{let i=t[e.index];return ir(i)?_p(-1,i):bn(i)}}else{if(n&128)return Ks(t,e.next);if(n&32)return lm(e,t)()||bn(t[e.index]);{let r=EI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=di(t[Cn]);return Ks(i,r)}else return Ks(t,e.next)}}}return null}function EI(t,e){if(e!==null){let r=t[Cn][un],i=e.projection;return r.projection[i]}return null}function _p(t,e){let n=jt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return Ks(r,i)}return e[li]}function PR(t,e,n){t.removeChild(null,e,n)}function pm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&pi(bn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)pm(t,e,n.child,r,i,o,!1),co(e,t,i,c,o);else if(u&32){let l=lm(n,r),h;for(;h=l();)co(e,t,i,h,o);co(e,t,i,c,o)}else u&16?kR(t,e,r,n,i,o):co(e,t,i,c,o);n=s?n.projectionNext:n.next}}function El(t,e,n,r,i,o){pm(n,r,t.firstChild,e,i,o,!1)}function kR(t,e,n,r,i,o){let s=n[Cn],u=s[un].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];co(e,t,i,h,o)}else{let l=u,h=s[Tt];sI(r)&&(l.flags|=128),pm(t,e,l,h,i,o,!0)}}function OR(t,e,n,r,i){let o=n[li],s=bn(n);o!==s&&co(e,t,r,o,i);for(let c=jt;c<n.length;c++){let u=n[c];El(u[fe],u,t,e,r,o)}}function FR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),t.setStyle(n,r,i,o))}}function VR(t,e,n){t.setAttribute(e,"style",n)}function II(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function CI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&tp(t,e,r),i!==null&&II(t,e,i),o!==null&&VR(t,e,o)}var ar={};function k(t=1){DI(Ut(),Ne(),yi()+t,!1)}function DI(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lu(e,o,0,n)}hi(n)}function z(t,e=he.Default){let n=Ne();if(n===null)return ee(t,e);let r=Nt();return JE(r,n,Dt(t),e)}function bI(t,e,n,r,i,o){let s=_e(null);try{let c=null;i&Nr.SignalBased&&(c=e[r][Wn]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Nr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):CE(e,c,r,o)}finally{_e(s)}}function LR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hi(~i);else{let o=i,s=n[++r],c=n[++r];xM(s,o);let u=e[o];c(2,u)}}}finally{hi(-1)}}function Il(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[rr]=i,p[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(p[ie]|=2048),xE(p),p[Tt]=p[bo]=t,p[Yt]=n,p[In]=s||t&&t[In],p[nt]=c||t&&t[nt],p[yo]=u||t&&t[yo]||null,p[un]=o,p[ml]=aR(),p[zu]=h,p[wE]=l,p[Cn]=e.type==2?t[Cn]:p,p}function Cl(t,e,n,r,i){let o=t.data[e];if(o===null)o=jR(t,e,n,r,i),AM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=DM();o.injectorIndex=s===null?-1:s.injectorIndex}return sa(o,!0),o}function jR(t,e,n,r,i){let o=kE(),s=OE(),c=s?o:o&&o.parent,u=t.data[e]=qR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function TI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function SI(t,e,n,r,i){let o=yi(),s=r&2;try{hi(-1),s&&e.length>Dn&&DI(t,e,Dn,!1),_n(s?2:0,i),n(r,i)}finally{hi(o),_n(s?3:1,i)}}function AI(t,e,n){if(IE(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{_e(r)}}}function xI(t,e,n){PE()&&(ZR(t,e,n,Xt(n,e)),(n.flags&64)===64&&OI(t,e,n))}function MI(t,e,n=Xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function RI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=mm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function mm(t,e,n,r,i,o,s,c,u,l,h){let p=Dn+r,g=p+i,v=UR(p,g),A=typeof l=="function"?l():l;return v[fe]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function UR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ar);return n}function BR(t,e,n,r){let o=r.get(pR,hI)||n===En.ShadowDom,s=t.selectRootElement(e,o);return $R(s),s}function $R(t){HR(t)}var HR=()=>null;function qR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return EM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Nr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Ow(r,n,l,c,u):Ow(r,n,l,c)}return r}function Ow(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function zR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,v=g?g.inputs:null,A=g?g.outputs:null;u=kw(0,p.inputs,h,u,v),l=kw(1,p.outputs,h,l,A);let P=u!==null&&s!==null&&!qp(e)?a1(u,h,s):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function GR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function NI(t,e,n,r,i,o,s,c){let u=Xt(e,n),l=e.inputs,h;!c&&l!=null&&(h=l[r])?(gm(t,n,h,r,i),gl(e)&&WR(n,e.index)):e.type&3?(r=GR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function WR(t,e){let n=Fr(e,t);n[ie]&16||(n[ie]|=64)}function PI(t,e,n,r){if(PE()){let i=r===null?null:{"":-1},o=JR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&kI(t,e,n,s,i,c),i&&XR(n,r,i)}n.mergedAttrs=Js(n.mergedAttrs,n.attrs)}function kI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)dp(Xu(n,e),t,r[l].type);t1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,c=!1,u=TI(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Js(n.mergedAttrs,h.hostAttrs),n1(t,n,e,u,h),e1(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}zR(t,n,o)}function KR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;QR(s)!=c&&s.push(c),s.push(n,r,o)}}function QR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ZR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gl(n)&&r1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xu(n,e),pi(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=wo(e,t,c,n);if(pi(l,e),s!==null&&s1(e,c-i,l,u,n,s),Pr(u)){let h=Fr(n.index,e);h[Yt]=wo(e,t,c,n)}}}function OI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MM();try{hi(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];cp(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YR(u,l)}}finally{hi(-1),cp(s)}}function YR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function JR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Hx(e,s.selectors,!1))if(r||(r=[]),Pr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;wp(t,e,u)}else r.unshift(s),wp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function wp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function XR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}}function e1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function t1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function n1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=fo(i.type,!0)),s=new fi(o,Pr(i),z);t.blueprint[r]=s,n[r]=s,KR(t,e,r,TI(t,n,i.hostVars,ar),i)}function r1(t,e,n){let r=Xt(e,t),i=RI(n),o=t[In].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=Dl(t,Il(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function i1(t,e,n,r,i,o){let s=Xt(t,e);o1(e[nt],s,o,t.value,n,r,i)}function o1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?ho(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function s1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],h=s[c++],p=s[c++];bI(r,n,u,l,h,p)}}function a1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function FI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function VI(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];LE(o),c.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Dl(t,e){return t[ea]?t[ww][cn]=e:t[ea]=e,t[ww]=e,e}function Ep(t,e,n){LE(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function c1(t){return t[Gu]??=[]}function u1(t){return t.cleanup??=[]}function LI(t,e){let n=t[yo],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function gm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],h=t.data[s];bI(h,l,r,c,u,i)}}function jI(t,e,n){let r=AE(e,t);wR(t[nt],r,n)}function l1(t,e){let n=Fr(e,t),r=n[fe];d1(r,n);let i=n[rr];i!==null&&n[zu]===null&&(n[zu]=cm(i,n[yo])),ym(r,n,n[Yt])}function d1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ym(t,e,n){Zp(e);try{let r=t.viewQuery;r!==null&&Ep(1,r,n);let i=t.template;i!==null&&SI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_o]?.finishViewCreation(t),t.staticContentQueries&&VI(t,e),t.staticViewQueries&&Ep(2,t.viewQuery,n);let o=t.components;o!==null&&h1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Yp()}}function h1(t,e){for(let n=0;n<e.length;n++)l1(t,e[n])}function UI(t,e,n,r){let i=_e(null);try{let o=e.tView,c=t[ie]&4096?4096:16,u=Il(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[vo]=l;let h=t[_o];return h!==null&&(u[_o]=h.createEmbeddedView(o)),ym(o,u,n),u}finally{_e(i)}}function f1(t,e){let n=jt+e;if(n<t.length)return t[n]}function Ip(t,e){return!e||e.firstChild===null||sI(t)}function BI(t,e,n,r=!0){let i=e[fe];if(DR(i,e,t,n),r){let s=_p(n,t),c=e[nt],u=wI(c,t[li]);u!==null&&IR(i,t[un],c,e,u,s)}let o=e[zu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function p1(t,e){let n=rl(t,e);return n!==void 0&&hm(n[fe],n),n}function ol(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(bn(o)),ir(o)&&m1(o,r);let s=n.type;if(s&8)ol(t,e,n.child,r);else if(s&32){let c=lm(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=EI(e,n);if(Array.isArray(c))r.push(...c);else{let u=di(e[Cn]);ol(u[fe],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function m1(t,e){for(let n=jt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&ol(r[fe],r,i,e)}t[li]!==t[rr]&&e.push(t[li])}var $I=[];function g1(t){return t[Qt]??y1(t)}function y1(t){let e=$I.pop()??Object.create(_1);return e.lView=t,e}function v1(t){t.lView[Qt]!==t&&(t.lView=null,$I.push(t))}var _1=ve(B({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vl(t.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function w1(t){let e=t[Qt]??Object.create(E1);return e.lView=t,e}var E1=ve(B({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=di(t.lView);for(;e&&!HI(e[fe]);)e=di(e);e&&ME(e)},consumerOnSignalRead(){this.lView[Qt]=this}});function HI(t){return t.type!==2}var I1=100;function qI(t,e=!0,n=0){let r=t[In],i=r.rendererFactory,o=!1;o||i.begin?.();try{C1(t,n)}catch(s){throw e&&LI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function C1(t,e){let n=FE();try{Iw(!0),Cp(t,e);let r=0;for(;yl(t);){if(r===I1)throw new Z(103,!1);r++,Cp(t,1)}}finally{Iw(n)}}function D1(t,e,n,r){let i=e[ie];if((i&256)===256)return;let o=!1,s=!1;!o&&e[In].inlineEffectRunner?.flush(),Zp(e);let c=!0,u=null,l=null;o||(HI(t)?(l=g1(e),u=Jc(l)):x0()===null?(c=!1,l=w1(e),u=Jc(l)):e[Qt]&&(_f(e[Qt]),e[Qt]=null));try{xE(e),SM(t.bindingStartIndex),n!==null&&SI(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&Vu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Lu(e,v,0,null),$f(e,0)}if(s||b1(e),zI(e,0),t.contentQueries!==null&&VI(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&Vu(e,v)}else{let v=t.contentHooks;v!==null&&Lu(e,v,1),$f(e,1)}LR(t,e);let p=t.components;p!==null&&WI(e,p,0);let g=t.viewQuery;if(g!==null&&Ep(2,g,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&Vu(e,v)}else{let v=t.viewHooks;v!==null&&Lu(e,v,2),$f(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bf]){for(let v of e[Bf])v();e[Bf]=null}o||(e[ie]&=-73)}catch(h){throw o||vl(e),h}finally{l!==null&&(yf(l,u),c&&v1(l)),Yp()}}function zI(t,e){for(let n=cI(t);n!==null;n=uI(n))for(let r=jt;r<n.length;r++){let i=n[r];GI(i,e)}}function b1(t){for(let e=cI(t);e!==null;e=uI(e)){if(!(e[ie]&Qu.HasTransplantedViews))continue;let n=e[Ku];for(let r=0;r<n.length;r++){let i=n[r];ME(i)}}}function T1(t,e,n){let r=Fr(e,t);GI(r,n)}function GI(t,e){Qp(t)&&Cp(t,e)}function Cp(t,e){let r=t[fe],i=t[ie],o=t[Qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&vf(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)D1(r,t,r.template,t[Yt]);else if(i&8192){zI(t,1);let c=r.components;c!==null&&WI(t,c,1)}}function WI(t,e,n){for(let r=0;r<e.length;r++)T1(t,e[r],n)}function vm(t,e){let n=FE()?64:1088;for(t[In].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=di(t);if(op(t)&&!r)return t;t=r}return null}var mi=class{get rootNodes(){let e=this._lView,n=e[fe];return ol(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(e){this._lView[Yt]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(ir(e)){let n=e[Wu],r=n?n.indexOf(this):-1;r>-1&&(rl(e,r),Hu(n,r))}this._attachedToViewContainer=!1}hm(this._lView[fe],this._lView)}onDestroy(e){RE(this._lView,e)}markForCheck(){vm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){ap(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,qI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=op(this._lView),n=this._lView[vo];n!==null&&!e&&dm(n,this._lView),yI(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let n=op(this._lView),r=this._lView[vo];r!==null&&!n&&vI(r,this._lView),ap(this._lView)}},bl=(()=>{class t{static{this.__NG_ELEMENT_ID__=x1}}return t})(),S1=bl,A1=class extends S1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=UI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new mi(i)}};function x1(){return M1(Nt(),Ne())}function M1(t,e){return t.type&4?new A1(e,t,_l(t,e)):null}var v9=new RegExp(`^(\\d+)*(${hR}|${dR})*(.*)`);var R1=()=>null;function Dp(t,e){return R1(t,e)}var Eo=class{},Tl=new G("",{providedIn:"root",factory:()=>!1});var KI=new G(""),QI=new G(""),bp=class{},sl=class{};function N1(t){let e=Error(`No component factory found for ${bt(t)}.`);return e[P1]=t,e}var P1="ngComponent";var Tp=class{resolveComponentFactory(e){throw N1(e)}},Io=class{static{this.NULL=new Tp}},Co=class{},cr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>k1()}}return t})();function k1(){let t=Ne(),e=Nt(),n=Fr(e.index,t);return(Rr(n)?n:t)[nt]}var O1=(()=>{class t{static{this.\u0275prov=Q({token:t,providedIn:"root",factory:()=>null})}}return t})();function Sp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=lw(i,c);else if(o==2){let u=c,l=e[++s];r=lw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var al=class extends Io{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ui(e);return new ta(n,this.ngModule)}};function Fw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:Nr.None;e?n.push({propName:s,templateName:r,isSignal:(c&Nr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function F1(t){let e=t.toLowerCase();return e==="svg"?SE:e==="math"?pM:null}var ta=class extends sl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Fw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Fw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Wx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new up(e,s):e,u=c.get(Co,null);if(u===null)throw new Z(407,!1);let l=c.get(O1,null),h=c.get(Eo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",A=r?BR(g,r,this.componentDef.encapsulation,c):gI(g,v,F1(v)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let D=null;A!==null&&(D=cm(A,c,!0));let L=mm(0,null,null,1,0,null,null,null,null,null,null),R=Il(null,L,null,P,null,null,p,g,c,null,D);Zp(R);let $,K,Ce=null;try{let ce=this.componentDef,C,y=null;ce.findHostDirectiveDefs?(C=[],y=new Map,ce.findHostDirectiveDefs(ce,C,y),C.push(ce)):C=[ce];let w=V1(R,A);Ce=L1(w,A,ce,C,R,p,g),K=Kp(L,Dn),A&&B1(g,ce,A,r),n!==void 0&&$1(K,this.ngContentSelectors,n),$=U1(Ce,ce,C,y,R,[H1]),ym(L,R,null)}catch(ce){throw Ce!==null&&yp(Ce),yp(R),ce}finally{Yp()}return new Ap(this.componentType,$,_l(K,R),R,K)}finally{_e(o)}}},Ap=class extends bp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new mi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;gm(o[fe],o,i,e,n),this.previousInputValues.set(e,n);let s=Fr(this._tNode.index,o);vm(s,1)}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function V1(t,e){let n=t[fe],r=Dn;return t[r]=e,Cl(n,r,2,"#host",null)}function L1(t,e,n,r,i,o,s){let c=i[fe];j1(r,t,e,s);let u=null;e!==null&&(u=cm(e,i[yo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Il(i,RI(n),null,h,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&wp(c,t,r.length-1),Dl(i,p),i[t.index]=p}function j1(t,e,n,r){for(let i of t)e.mergedAttrs=Js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sp(e,e.mergedAttrs,!0),n!==null&&CI(r,n,e))}function U1(t,e,n,r,i,o){let s=Nt(),c=i[fe],u=Xt(s,i);kI(c,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=wo(i,c,p,s);pi(g,i)}OI(c,i,s),u&&pi(u,i);let l=wo(i,c,s.directiveStart+s.componentOffset,s);if(t[Yt]=i[Yt]=l,o!==null)for(let h of o)h(l,e);return AI(c,s,i),l}function B1(t,e,n,r){if(r)tp(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=Kx(e.selectors[0]);i&&tp(t,n,i),o&&o.length>0&&II(t,n,o.join(" "))}}function $1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function H1(){let t=Nt();tm(Ne()[fe],t)}var So=(()=>{class t{static{this.__NG_ELEMENT_ID__=q1}}return t})();function q1(){let t=Nt();return G1(t,Ne())}var z1=So,ZI=class extends z1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=nm(this._hostTNode,this._hostLView);if(GE(e)){let n=Ju(e,this._hostLView),r=Yu(e),i=n[fe].data[r+8];return new ci(i,n)}else return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Vw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dp(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Ip(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!lM(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ta(ui(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Zt,null);P&&(o=P)}let h=ui(u.componentType??{}),p=Dp(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,o);return this.insertImpl(v.hostView,c,Ip(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Tt],l=new ZI(u,u[un],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return BI(s,i,o,r),e.attachToViewContainerRef(),oE(Wf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Vw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=rl(this._lContainer,n);r&&(Hu(Wf(this._lContainer),n),hm(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=rl(this._lContainer,n);return r&&Hu(Wf(this._lContainer),n)!=null?new mi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Vw(t){return t[Wu]}function Wf(t){return t[Wu]||(t[Wu]=[])}function G1(t,e){let n,r=e[t.index];return ir(r)?n=r:(n=FI(r,e,null,t),e[t.index]=n,Dl(e,n)),K1(n,e,t,r),new ZI(n,t,e)}function W1(t,e){let n=t[nt],r=n.createComment(""),i=Xt(e,t),o=wI(n,i);return il(n,o,r,xR(n,i),!1),r}var K1=Y1,Q1=()=>!1;function Z1(t,e,n){return Q1(t,e,n)}function Y1(t,e,n,r){if(t[li])return;let i;n.type&8?i=bn(r):i=W1(e,n),t[li]=i}var Lw=new Set;function Ao(t){Lw.has(t)||(Lw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function J1(t){return typeof t=="function"&&t[Wn]!==void 0}function xo(t,e){Ao("NgSignals");let n=U0(t),r=n[Wn];return e?.equal&&(r.equal=e.equal),n.set=i=>wf(r,i),n.update=i=>B0(r,i),n.asReadonly=X1.bind(n),n}function X1(){let t=this[Wn];if(t.readonlyFn===void 0){let e=()=>this();e[Wn]=t,t.readonlyFn=e}return t.readonlyFn}function YI(t){return J1(t)&&typeof t.set=="function"}function eN(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=eN(t.type),n=!0,r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Pu(t.inputs),s.inputTransforms=Pu(t.inputTransforms),s.declaredInputs=Pu(t.declaredInputs),s.outputs=Pu(t.outputs);let c=i.hostBindings;c&&oN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&rN(t,u),l&&iN(t,l),tN(t,i),px(t.outputs,i.outputs),Pr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Pt&&(n=!1)}}e=Object.getPrototypeOf(e)}nN(r)}function tN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Js(i.hostAttrs,n=Js(n,i.hostAttrs))}}function Pu(t){return t===po?{}:t===Kt?[]:t}function rN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function oN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var kr=class{},na=class{};var xp=class extends kr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new al(this);let o=fE(e);this._bootstrapComponents=mI(o.bootstrap),this._r3Injector=tI(e,n,[{provide:kr,useValue:this},{provide:Io,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mp=class extends na{constructor(e){super(),this.moduleType=e}create(e){return new xp(this.moduleType,e,[])}};var cl=class extends kr{constructor(e){super(),this.componentFactoryResolver=new al(this),this.instance=null;let n=new Xs([...e.providers,{provide:kr,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],e.parent||Gp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _m(t,e,n=null){return new cl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function JI(t){return aN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function aN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Or(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function cN(t,e,n,r){let i=Or(t,e,n);return Or(t,e+1,r)||i}function uN(t){return(t.flags&32)===32}function lN(t,e,n,r,i,o,s,c,u){let l=e.consts,h=Cl(e,t,4,s||null,c||null);PI(e,n,h,Zu(l,u)),tm(e,h);let p=h.tView=mm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function dN(t,e,n,r,i,o,s,c,u,l){let h=n+Dn,p=e.firstCreatePass?lN(h,e,t,r,i,o,s,c,u):e.data[h];sa(p,!1);let g=hN(e,t,p,n);Xp()&&fm(e,t,g,p),pi(g,t);let v=FI(g,t,g,p);return t[h]=v,Dl(t,v),Z1(v,p,t),Wp(p)&&xI(e,t,p),u!=null&&MI(t,p,l),p}function X(t,e,n,r,i,o,s,c){let u=Ne(),l=Ut(),h=Zu(l.consts,o);return dN(u,l,t,e,n,r,i,h,s,c),X}var hN=fN;function fN(t,e,n,r){return em(!0),e[nt].createComment("")}var Qs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Qs||{}),pN=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Q({token:t,providedIn:"root",factory:()=>new t})}}return t})(),jw=class t{constructor(){this.ngZone=H(Te),this.scheduler=H(Eo),this.errorHandler=H(Yn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Qs.EarlyRead,Qs.Write,Qs.MixedReadWrite,Qs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Q({token:t,providedIn:"root",factory:()=>new t})}};function Sl(t,e,n,r){let i=Ne(),o=aa();if(Or(i,o,e)){let s=Ut(),c=Jp();i1(c,i,t,e,n,r)}return Sl}function mN(t,e,n,r){return Or(t,aa(),n)?e+ho(n)+r:ar}function gN(t,e,n,r,i,o){let s=TM(),c=cN(t,s,n,i);return VE(2),c?e+ho(n)+r+ho(i)+o:ar}function ku(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function yN(t){return(t&2)==2}function vN(t,e){return t&131071|e<<17}function Rp(t){return t|2}function Do(t){return(t&131068)>>2}function Kf(t,e){return t&-131069|e<<2}function _N(t){return(t&1)===1}function Np(t){return t|1}function wN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=gi(s),u=Do(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||oa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=gi(t[c+1]);t[r+1]=ku(g,c),g!==0&&(t[g+1]=Kf(t[g+1],r)),t[c+1]=vN(t[c+1],r)}else t[r+1]=ku(c,0),c!==0&&(t[c+1]=Kf(t[c+1],r)),c=r;else t[r+1]=ku(u,0),c===0?c=r:t[u+1]=Kf(t[u+1],r),u=r;l&&(t[r+1]=Rp(t[r+1])),Uw(t,h,r,!0),Uw(t,h,r,!1),EN(e,h,t,r,o),s=ku(c,u),o?e.classBindings=s:e.styleBindings=s}function EN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&oa(o,e)>=0&&(n[r+1]=Np(n[r+1]))}function Uw(t,e,n,r){let i=t[n+1],o=e===null,s=r?gi(i):Do(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];IN(u,e)&&(c=!0,t[s+1]=r?Np(l):Rp(l)),s=r?gi(l):Do(l)}c&&(t[n+1]=r?Rp(i):Np(i))}function IN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oa(t,e)>=0:!1}function V(t,e,n){let r=Ne(),i=aa();if(Or(r,i,e)){let o=Ut(),s=Jp();NI(o,s,r,t,e,r[nt],n,!1)}return V}function Bw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";gm(t,n,o[s],s,r)}function Vr(t,e){return CN(t,e,null,!0),Vr}function CN(t,e,n,r){let i=Ne(),o=Ut(),s=VE(2);if(o.firstUpdatePass&&bN(o,t,s,r),e!==ar&&Or(i,s,e)){let c=o.data[yi()];MN(o,c,i,i[nt],t,i[s+1]=RN(e,n),r,s)}}function DN(t,e){return e>=t.expandoStartIndex}function bN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yi()],s=DN(t,n);NN(o,r)&&e===null&&!s&&(e=!1),e=TN(i,o,e,r),wN(i,o,e,n,s,r)}}function TN(t,e,n,r){let i=RM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qf(null,t,e,n,r),n=ra(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Qf(i,t,e,n,r),o===null){let u=SN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Qf(null,t,e,u[1],r),u=ra(u,e.attrs,r),AN(t,e,r,u))}else o=xN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function SN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Do(r)!==0)return t[gi(r)]}function AN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gi(i)]=r}function xN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ra(r,s,n)}return ra(r,e.attrs,n)}function Qf(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ra(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ra(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kx(t,s,n?!0:e[++o]))}return t===void 0?null:t}function MN(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=_N(l)?$w(u,e,n,i,Do(l),s):void 0;if(!ul(h)){ul(o)||yN(l)&&(o=$w(u,null,n,i,c,s));let p=AE(yi(),n);FR(r,s,p,i,o)}}function $w(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===ar&&(g=p?Kt:void 0);let v=p?jf(g,r):h===r?g:void 0;if(l&&!ul(v)&&(v=jf(u,r)),ul(v)&&(c=v,s))return c;let A=t[i+1];i=s?gi(A):Do(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=jf(u,r))}return c}function ul(t){return t!==void 0}function RN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=bt(wl(t)))),t}function NN(t,e){return(t.flags&(e?8:16))!==0}function ur(t,e){Ao("NgControlFlow");let n=Ne(),r=aa(),i=n[r]!==ar?n[r]:-1,o=i!==-1?Hw(n,Dn+i):void 0,s=0;if(Or(n,r,t)){let c=_e(null);try{if(o!==void 0&&p1(o,s),t!==-1){let u=Dn+t,l=Hw(n,u),h=PN(n[fe],u),p=Dp(l,h.tView.ssrId),g=UI(n,h,e,{dehydratedView:p});BI(l,g,s,Ip(h,p))}}finally{_e(c)}}else if(o!==void 0){let c=f1(o,s);c!==void 0&&(c[Yt]=e)}}function Hw(t,e){return t[e]}function PN(t,e){return Kp(t,e)}function kN(t,e,n,r,i,o){let s=e.consts,c=Zu(s,i),u=Cl(e,t,2,r,c);return PI(e,n,u,Zu(s,o)),u.attrs!==null&&Sp(u,u.attrs,!1),u.mergedAttrs!==null&&Sp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ne(),o=Ut(),s=Dn+t,c=i[nt],u=o.firstCreatePass?kN(s,o,i,e,n,r):o.data[s],l=ON(o,i,u,c,e,t);i[s]=l;let h=Wp(u);return sa(u,!0),CI(c,l,u),!uN(u)&&Xp()&&fm(o,i,l,u),vM()===0&&pi(l,i),_M(),h&&(xI(o,i,u),AI(o,u,i)),r!==null&&MI(i,u),T}function E(){let t=Nt();OE()?bM():(t=t.parent,sa(t,!1));let e=t;IM(e)&&CM(),wM();let n=Ut();return n.firstCreatePass&&(tm(n,t),IE(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&LM(e)&&Bw(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jM(e)&&Bw(n,e,Ne(),e.stylesWithoutHost,!1),E}function oe(t,e,n,r){return T(t,e,n,r),E(),oe}var ON=(t,e,n,r,i,o)=>(em(!0),gI(r,i,kM()));function kt(){return Ne()}var ll="en-US";var FN=ll;function VN(t){typeof t=="string"&&(FN=t.toLowerCase().replace(/_/g,"-"))}var LN=(t,e,n)=>{};function we(t,e,n,r){let i=Ne(),o=Ut(),s=Nt();return XI(o,i,i[nt],s,t,e,r),we}function jN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Gu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function XI(t,e,n,r,i,o,s){let c=Wp(r),l=t.firstCreatePass&&u1(t),h=e[Yt],p=c1(e),g=!0;if(r.type&3||s){let P=Xt(r,e),D=s?s(P):P,L=p.length,R=s?K=>s(bn(K[r.index])):r.index,$=null;if(!s&&c&&($=jN(t,e,i,r.index)),$!==null){let K=$.__ngLastListenerFn__||$;K.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,g=!1}else{o=zw(r,e,h,o),LN(P,i,o);let K=n.listen(D,i,o);p.push(o,K),l&&l.push(i,R,L,L+1)}}else o=zw(r,e,h,o);let v=r.outputs,A;if(g&&v!==null&&(A=v[i])){let P=A.length;if(P)for(let D=0;D<P;D+=2){let L=A[D],R=A[D+1],Ce=e[L][R].subscribe(o),ce=p.length;p.push(o,Ce),l&&l.push(i,r.index,ce,-(ce+1))}}}function qw(t,e,n,r){let i=_e(null);try{return _n(6,e,n),n(r)!==!1}catch(o){return LI(t,o),!1}finally{_n(7,e,n),_e(i)}}function zw(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Fr(t.index,e):e;vm(s,5);let c=qw(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=qw(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Ee(t=1){return PM(t)}function M(t,e=""){let n=Ne(),r=Ut(),i=t+Dn,o=r.firstCreatePass?Cl(r,i,1,e,null):r.data[i],s=UN(r,n,o,e,t);n[i]=s,Xp()&&fm(r,n,s,o),sa(o,!1)}var UN=(t,e,n,r,i)=>(em(!0),_R(e[nt],r));function wm(t){return Fe("",t,""),wm}function Fe(t,e,n){let r=Ne(),i=mN(r,t,e,n);return i!==ar&&jI(r,yi(),i),Fe}function ua(t,e,n,r,i){let o=Ne(),s=gN(o,t,e,n,r,i);return s!==ar&&jI(o,yi(),s),ua}function Al(t,e,n){YI(e)&&(e=e());let r=Ne(),i=aa();if(Or(r,i,e)){let o=Ut(),s=Jp();NI(o,s,r,t,e,r[nt],n,!1)}return Al}function Em(t,e){let n=YI(t);return n&&t.set(e),n}function xl(t,e){let n=Ne(),r=Ut(),i=Nt();return XI(r,n,n[nt],i,t,e),xl}function BN(t,e,n){let r=Ut();if(r.firstCreatePass){let i=Pr(t);Pp(n,r.data,r.blueprint,i,!0),Pp(e,r.data,r.blueprint,i,!1)}}function Pp(t,e,n,r,i){if(t=Dt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Pp(t[o],e,n,r,i);else{let o=Ut(),s=Ne(),c=Nt(),u=go(t)?t:Dt(t.provide),l=_E(t),h=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(go(t)||!t.multi){let v=new fi(l,i,z),A=Yf(u,e,i?h:h+g,p);A===-1?(dp(Xu(c,s),o,u),Zf(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),s.push(v)):(n[A]=v,s[A]=v)}else{let v=Yf(u,e,h+g,p),A=Yf(u,e,h,h+g),P=v>=0&&n[v],D=A>=0&&n[A];if(i&&!D||!i&&!P){dp(Xu(c,s),o,u);let L=qN(i?HN:$N,n.length,i,r,l);!i&&D&&(n[A].providerFactory=L),Zf(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=eC(n[i?A:v],l,!i&&r);Zf(o,t,v>-1?v:A,L)}!i&&r&&D&&n[A].componentProviders++}}}function Zf(t,e,n,r){let i=go(e),o=nM(e);if(i||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function eC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $N(t,e,n,r){return kp(this.multi,[])}function HN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=wo(n,n[fe],this.providerFactory.index,r);o=c.slice(0,s),kp(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],kp(i,o);return o}function kp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function qN(t,e,n,r,i){let o=new fi(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,eC(o,i,r&&!n),o}function An(t,e=[]){return n=>{n.providersResolver=(r,i)=>BN(r,i?i(t):t,e)}}var zN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gE(!1,n.type),i=r.length>0?_m([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Q({token:t,providedIn:"environment",factory:()=>new t(ee(Zt))})}}return t})();function yt(t){Ao("NgStandalone"),t.getStandaloneInjector=e=>e.get(zN).getOrCreateStandaloneInjector(t)}var Xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Im=new Xn("18.2.9");var Ml=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var tC=new G("");function vi(t){return!!t&&typeof t.then=="function"}function nC(t){return!!t&&typeof t.subscribe=="function"}var rC=new G(""),iC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(rC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(vi(o))n.push(o);else if(nC(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cm=new G("");function GN(){j0(()=>{throw new Z(600,!1)})}function WN(t){return t.isBoundToModule}var KN=10;function QN(t,e,n){try{let r=n();return vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var _i=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(iR),this.afterRenderManager=H(pN),this.zonelessEnabled=H(Tl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=H(To).hasPendingTasks.pipe(se(n=>!n)),this._injector=H(Zt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof sl;if(!this._injector.get(iC).done){let g=!i&&hE(n),v=!1;throw new Z(405,v)}let s;i?s=n:s=this._injector.get(Io).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=WN(s)?void 0:this._injector.get(kr),u=r||s.selector,l=s.create(Rt.NULL,[],u,c),h=l.location.nativeElement,p=l.injector.get(tC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ju(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Z(101,!1);let n=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Co,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<KN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)ZN(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>yl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ju(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Cm,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ju(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ju(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZN(t,e,n,r){if(!n&&!yl(t))return;qI(t,e,n&&!r?0:1)}var Op=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Dm=(()=>{class t{compileModuleSync(n){return new Mp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=fE(n),o=mI(i.declarations).reduce((s,c)=>{let u=ui(c);return u&&s.push(new ta(u)),s},[]);return new Op(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var YN=(()=>{class t{constructor(){this.zone=H(Te),this.changeDetectionScheduler=H(Eo),this.applicationRef=H(_i)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JN=new G("",{factory:()=>!1});function oC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(ve(B({},aC()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:mo,multi:!0,useFactory:()=>{let r=H(YN,{optional:!0});return()=>r.initialize()}},{provide:mo,multi:!0,useFactory:()=>{let r=H(XN);return()=>{r.initialize()}}},e===!0?{provide:KI,useValue:!0}:[],{provide:QI,useValue:n??nI}]}function sC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=oC({ngZoneFactory:()=>{let i=aC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ao("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Tn([{provide:JN,useValue:!0},{provide:Tl,useValue:!1},r])}function aC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var XN=(()=>{class t{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=H(Te),this.pendingTasks=H(To)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eP=(()=>{class t{constructor(){this.appRef=H(_i),this.taskService=H(To),this.ngZone=H(Te),this.zonelessEnabled=H(Tl),this.disableScheduling=H(KI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(QI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Aw:iI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Aw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tP(){return typeof $localize<"u"&&$localize.locale||ll}var bm=new G("",{providedIn:"root",factory:()=>H(bm,he.Optional|he.SkipSelf)||tP()});var Fp=new G("");function Ou(t){return!t.moduleRef}function nP(t){let e=Ou(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{Ou(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Yn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ou(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Fp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Fp);s.add(o),t.moduleRef.onDestroy(()=>{ju(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return QN(r,n,()=>{let o=e.get(iC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(bm,ll);if(VN(s||ll),Ou(t)){let c=e.get(_i);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return rP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function rP(t,e){let n=t.injector.get(_i);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Z(-403,!1);e.push(t)}var Uu=null;function iP(t=[],e){return Rt.create({name:e,providers:[{provide:pl,useValue:"platform"},{provide:Fp,useValue:new Set([()=>Uu=null])},...t]})}function oP(t=[]){if(Uu)return Uu;let e=iP(t);return Uu=e,GN(),sP(e),e}function sP(t){t.get(sm,null)?.forEach(n=>n())}function Tm(){return!1}var wi=(()=>{class t{static{this.__NG_ELEMENT_ID__=aP}}return t})();function aP(t){return cP(Nt(),Ne(),(t&16)===16)}function cP(t,e,n){if(gl(t)&&!n){let r=Fr(t.index,e);return new mi(r,r)}else if(t.type&175){let r=e[Cn];return new mi(r,e)}return null}var Vp=class{constructor(){}supports(e){return JI(e)}create(e){return new Lp(e)}},uP=(t,e)=>e,Lp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Gw(r,i,o)?n:r,c=Gw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<o.length?o[g]:o[g]=0,A=v+g;h<=A&&A<l&&(o[g]=v+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!JI(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,sN(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new jp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new dl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new dl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Up=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},dl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Up,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Gw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Ww(){return new Sm([new Vp])}var Sm=(()=>{class t{static{this.\u0275prov=Q({token:t,providedIn:"root",factory:Ww})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ww()),deps:[[t,new iE,new mt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Z(901,!1)}}return t})();function cC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oP(r),o=[oC({}),{provide:Eo,useExisting:eP},...n||[]],s=new cl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return nP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function la(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Mo(t,e){Ao("NgSignals");let n=F0(t);return e?.equal&&(n[Wn].equal=e.equal),n}function xn(t){let e=_e(null);try{return t()}finally{_e(e)}}var pC=null;function lr(){return pC}function mC(t){pC??=t}var Rl=class{};var en=new G(""),gC=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(hP),providedIn:"platform"})}}return t})();var hP=(()=>{class t extends gC{constructor(){super(),this._doc=H(en),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(n){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function yC(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function uC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ei(t){return t&&t[0]!=="?"?"?"+t:t}var Pl=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(vC),providedIn:"root"})}}return t})(),fP=new G(""),vC=(()=>{class t extends Pl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(gC),ee(fP,8))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var da=(()=>{class t{constructor(n){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gP(uC(lC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ei(r))}normalize(n){return t.stripTrailingSlash(mP(this._basePath,lC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ei}static{this.joinWithSlash=yC}static{this.stripTrailingSlash=uC}static{this.\u0275fac=function(r){return new(r||t)(ee(Pl))}}static{this.\u0275prov=Q({token:t,factory:()=>pP(),providedIn:"root"})}}return t})();function pP(){return new da(ee(Pl))}function mP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lC(t){return t.replace(/\/index.html$/,"")}function gP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function _C(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Am=/\s+/,dC=[],wC=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=dC,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Am):dC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Am):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Am).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(z(Sn),z(cr))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var xm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ro=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new xm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),hC(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);hC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(So),z(bl),z(Sm))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function hC(t,e){t.context.$implicit=e.item}var Mn=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(z(So),z(bl))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Mm=class{constructor(){this.$implicit=null,this.ngIf=null}};function fC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}var hn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({})}}return t})(),EC="browser",yP="server";function ha(t){return t===yP}var Nl=class{};var Pm=class extends Rl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},km=class t extends Pm{static makeCurrent(){mC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vP();return n==null?null:_P(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _C(document.cookie,e)}},pa=null;function vP(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}function _P(t){return new URL(t,document.baseURI).pathname}var wP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),Om=new G(""),bC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ee(Om),ee(Te))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),kl=class{constructor(e){this._doc=e}},Rm="ng-app-id",TC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ha(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Rm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Rm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rm,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ee(en),ee(om),ee(am,8),ee(ln))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),Nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vm=/%COMP%/g,SC="%COMP%",EP=`_nghost-${SC}`,IP=`_ngcontent-${SC}`,CP=!0,DP=new G("",{providedIn:"root",factory:()=>CP});function bP(t){return IP.replace(Vm,t)}function TP(t){return EP.replace(Vm,t)}function AC(t,e){return e.map(n=>n.replace(Vm,t))}var IC=(()=>{class t{constructor(n,r,i,o,s,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ha(c),this.defaultRenderer=new ma(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===En.ShadowDom&&(r=ve(B({},r),{encapsulation:En.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ol?i.applyToHost(n):i instanceof ga&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case En.Emulated:o=new Ol(u,l,r,this.appId,h,s,c,p);break;case En.ShadowDom:return new Fm(u,l,n,r,s,c,this.nonce,p);default:o=new ga(u,l,r,h,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ee(bC),ee(TC),ee(om),ee(DP),ee(en),ee(ln),ee(Te),ee(am))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),ma=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,r,i&Jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fm=class extends ma{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=AC(i.id,i.styles);for(let h of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends ma{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?AC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ol=class extends ga{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=bP(l),this.hostAttr=TP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},SP=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ee(en))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})(),DC=["alt","control","meta","shift"],AP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MP=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),DC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=AP[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DC.forEach(s=>{if(s!==i){let c=xP[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ee(en))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac})}}return t})();function xC(t,e){return cC(B({rootComponent:t},RP(e)))}function RP(t){return{appProviders:[...FP,...t?.providers??[]],platformProviders:OP}}function NP(){km.makeCurrent()}function PP(){return new Yn}function kP(){return dI(document),document}var OP=[{provide:ln,useValue:EC},{provide:sm,useValue:NP,multi:!0},{provide:en,useFactory:kP,deps:[]}];var FP=[{provide:pl,useValue:"root"},{provide:Yn,useFactory:PP,deps:[]},{provide:Om,useClass:SP,multi:!0,deps:[en,Te,ln]},{provide:Om,useClass:MP,multi:!0,deps:[en]},IC,TC,bC,{provide:Co,useExisting:IC},{provide:Nl,useClass:wP,deps:[]},[]];var MC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ee(en))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var le="primary",Pa=Symbol("RouteTitle"),$m=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vo(t){return new $m(t)}function LP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rn(t[n],e[n]))return!1;return!0}function Rn(t,e){let n=t?Hm(t):void 0,r=e?Hm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!LC(t[i],e[i]))return!1;return!0}function Hm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jC(t){return t.length>0?t[t.length-1]:null}function Lr(t){return Nf(t)?t:vi(t)?Me(Promise.resolve(t)):te(t)}var UP={exact:BC,subset:$C},UC={exact:BP,subset:$P,ignored:()=>!0};function RC(t,e,n){return UP[n.paths](t.root,e.root,n.matrixParams)&&UC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BP(t,e){return Rn(t,e)}function BC(t,e,n){if(!Ci(t.segments,e.segments)||!Ll(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BC(t.children[r],e.children[r],n))return!1;return!0}function $P(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LC(t[n],e[n]))}function $C(t,e,n){return HC(t,e,e.segments,n)}function HC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ci(i,n)||e.hasChildren()||!Ll(i,n,r))}else if(t.segments.length===n.length){if(!Ci(t.segments,n)||!Ll(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$C(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ci(t.segments,i)||!Ll(t.segments,i,r)||!t.children[le]?!1:HC(t.children[le],e,o,r)}}function Ll(t,e,n){return e.every((r,i)=>UC[n](t[i].parameters,r.parameters))}var hr=class{constructor(e=new Se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return zP.serialize(this)}},Se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}},Ii=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return zC(this)}};function HP(t,e){return Ci(t,e)&&t.every((n,r)=>Rn(n.parameters,e[r].parameters))}function Ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===le&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==le&&(n=n.concat(e(i,r)))}),n}var mg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>new Ca,providedIn:"root"})}}return t})(),Ca=class{parse(e){let n=new zm(e);return new hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ya(e.root,!0)}`,r=KP(e.queryParams),i=typeof e.fragment=="string"?`#${GP(e.fragment)}`:"";return`${n}${r}${i}`}},zP=new Ca;function jl(t){return t.segments.map(e=>zC(e)).join("/")}function ya(t,e){if(!t.hasChildren())return jl(t);if(e){let n=t.children[le]?ya(t.children[le],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==le&&r.push(`${i}:${ya(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qP(t,(r,i)=>i===le?[ya(t.children[le],!1)]:[`${i}:${ya(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[le]!=null?`${jl(t)}/${n[0]}`:`${jl(t)}/(${n.join("//")})`}}function qC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fl(t){return qC(t).replace(/%3B/gi,";")}function GP(t){return encodeURI(t)}function qm(t){return qC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(t){return decodeURIComponent(t)}function NC(t){return Ul(t.replace(/\+/g,"%20"))}function zC(t){return`${qm(t.path)}${WP(t.parameters)}`}function WP(t){return Object.entries(t).map(([e,n])=>`;${qm(e)}=${qm(n)}`).join("")}function KP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Fl(n)}=${Fl(i)}`).join("&"):`${Fl(n)}=${Fl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QP=/^[^\/()?;#]+/;function Lm(t){let e=t.match(QP);return e?e[0]:""}var ZP=/^[^\/()?;=#]+/;function YP(t){let e=t.match(ZP);return e?e[0]:""}var JP=/^[^=?&#]+/;function XP(t){let e=t.match(JP);return e?e[0]:""}var ek=/^[^&#]+/;function tk(t){let e=t.match(ek);return e?e[0]:""}var zm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[le]=new Se(e,n)),r}parseSegment(){let e=Lm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new Ii(Ul(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Lm(this.remaining);i&&(r=i,this.capture(r))}e[Ul(n)]=Ul(r)}parseQueryParam(e){let n=XP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=tk(this.remaining);s&&(r=s,this.capture(r))}let i=NC(n),o=NC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=le);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[le]:new Se([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function GC(t){return t.segments.length>0?new Se([],{[le]:t}):t}function WC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WC(i);if(r===le&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Se(t.segments,e);return nk(n)}function nk(t){if(t.numberOfChildren===1&&t.children[le]){let e=t.children[le];return new Se(t.segments.concat(e.segments),e.children)}return t}function Da(t){return t instanceof hr}function rk(t,e,n=null,r=null){let i=KC(t);return QC(i,e,n,r)}function KC(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new Se(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=GC(r);return e??i}function QC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jm(i,i,i,n,r);let o=ik(e);if(o.toRoot())return jm(i,i,new Se([],{}),n,r);let s=ok(o,i,t),c=s.processChildren?wa(s.segmentGroup,s.index,o.commands):YC(s.segmentGroup,s.index,o.commands);return jm(i,s.segmentGroup,c,n,r)}function Bl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ba(t){return typeof t=="object"&&t!=null&&t.outlets}function jm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=ZC(t,e,n);let c=GC(WC(s));return new hr(c,o,i)}function ZC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ZC(o,e,n)}),new Se(t.segments,r)}var $l=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bl(r[0]))throw new Z(4003,!1);let i=r.find(ba);if(i&&i!==jC(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ik(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $l(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new $l(n,e,r)}var ko=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ok(t,e,n){if(t.isAbsolute)return new ko(e,!0,0);if(!n)return new ko(e,!1,NaN);if(n.parent===null)return new ko(n,!0,0);let r=Bl(t.commands[0])?0:1,i=n.segments.length-1+r;return sk(n,i,t.numberOfDoubleDots)}function sk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new ko(r,!1,i-o)}function ak(t){return ba(t[0])?t[0].outlets:{[le]:t}}function YC(t,e,n){if(t??=new Se([],{}),t.segments.length===0&&t.hasChildren())return wa(t,e,n);let r=ck(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Se(t.segments.slice(0,r.pathIndex),{});return o.children[le]=new Se(t.segments.slice(r.pathIndex),t.children),wa(o,0,i)}else return r.match&&i.length===0?new Se(t.segments,{}):r.match&&!t.hasChildren()?Gm(t,e,n):r.match?wa(t,0,i):Gm(t,e,n)}function wa(t,e,n){if(n.length===0)return new Se(t.segments,{});{let r=ak(n),i={};if(Object.keys(r).some(o=>o!==le)&&t.children[le]&&t.numberOfChildren===1&&t.children[le].segments.length===0){let o=wa(t.children[le],e,n);return new Se(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(t.segments,i)}}function ck(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(ba(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!kC(u,l,s))return o;r+=2}else{if(!kC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ba(o)){let u=uk(o.outlets);return new Se(r,u)}if(i===0&&Bl(n[0])){let u=t.segments[e];r.push(new Ii(u.path,PC(n[0]))),i++;continue}let s=ba(o)?o.outlets[le]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Bl(c)?(r.push(new Ii(s,PC(c))),i+=2):(r.push(new Ii(s,{})),i++)}return new Se(r,{})}function uk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gm(new Se([],{}),0,r))}),e}function PC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kC(t,e,n){return t==n.path&&Rn(e,n.parameters)}var Ea="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),tn=class{constructor(e,n){this.id=e,this.url=n}},Ta=class extends tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Di=class extends tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($t||{}),Wm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wm||{}),dr=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bi=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},Sa=class extends tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hl=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Km=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qm=class extends tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ym=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jm=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xm=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eg=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tg=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ng=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rg=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Aa=class{},Lo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function lk(t,e){return t.providers&&!t._injector&&(t._injector=_m(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fn(t){return t.outlet||le}function dk(t,e){let n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}function ka(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ig=class{get injector(){return ka(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Zl(this.rootInjector),this.attachRef=null}},Zl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ig(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ee(Zt))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ql=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=og(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=og(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(n=>n.value)}};function og(t,e){if(t===e.value)return e;for(let n of e.children){let r=og(t,n);if(r)return r}return null}function sg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sg(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Po(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zl=class extends ql{constructor(e,n){super(e),this.snapshot=n,gg(this,e)}toString(){return this.snapshot.toString()}};function JC(t){let e=hk(t),n=new Xe([new Ii("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),c=new jo(n,r,o,s,i,le,t,e.root);return c.snapshot=e.root,new zl(new Bt(c,[]),e)}function hk(t){let e={},n={},r={},i="",o=new Oo([],e,r,i,n,le,t,null,{});return new Wl("",new Bt(o,[]))}var jo=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[Pa]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&eD(i)&&(r.resolve[Pa]=i.title),r}var Oo=class{get title(){return this.data?.[Pa]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wl=class extends ql{constructor(e,n){super(n),this.url=e,gg(this,n)}toString(){return XC(this._root)}};function gg(t,e){e.value._routerState=t,e.children.forEach(n=>gg(t,n))}function XC(t){let e=t.children.length>0?` { ${t.children.map(XC).join(", ")} } `:"";return`${t.value}${e}`}function Um(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rn(e.params,n.params)||t.paramsSubject.next(n.params),jP(e.url,n.url)||t.urlSubject.next(n.url),Rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ag(t,e){let n=Rn(t.params,e.params)&&HP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ag(t.parent,e.parent))}function eD(t){return typeof t.title=="string"||t.title===null}var yg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=H(Zl),this.location=H(So),this.changeDetector=H(wi),this.inputBinder=H(vg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new cg(n,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]})}}return t})(),cg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jo?this.route:e===Zl?this.childContexts:this.parent.get(e,n)}},vg=new G("");function fk(t,e,n){let r=xa(t,e._root,n?n._root:void 0);return new zl(r,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pk(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>xa(t,c)),s}}let r=mk(e.value),i=e.children.map(o=>xa(t,o));return new Bt(r,i)}}function pk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xa(t,r,i);return xa(t,r)})}function mk(t){return new jo(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var Ma=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},tD="ngNavigationCancelingError";function Kl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nD(!1,$t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function nD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tD]=!0,n.cancellationCode=e,n}function gk(t){return rD(t)&&Da(t.url)}function rD(t){return!!t&&t[tD]}var yk=(t,e,n,r)=>se(i=>(new ug(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ug=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Um(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Po(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Po(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Um(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Um(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ql=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fo=class{constructor(e,n){this.component=e,this.route=n}};function vk(t,e,n){let r=t._root,i=e?e._root:null;return va(r,i,n,[r.value])}function _k(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Yw(t)?t:e.get(t):r}function va(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Po(e);return t.children.forEach(s=>{wk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ia(c,n.getContext(s),i)),i}function wk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ek(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ql(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?va(t,e,c?c.children:null,r,i):va(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Fo(c.outlet.component,s))}else s&&Ia(e,c,i),i.canActivateChecks.push(new Ql(r)),o.component?va(t,null,c?c.children:null,r,i):va(t,null,n,r,i);return i}function Ek(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ci(t.url,e.url)||!Rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ag(t,e)||!Rn(t.queryParams,e.queryParams);case"paramsChange":default:return!ag(t,e)}}function Ia(t,e,n){let r=Po(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ia(s,e.children.getContext(o),n):Ia(s,null,n):Ia(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fo(e.outlet.component,i)):n.canDeactivateChecks.push(new Fo(null,i)):n.canDeactivateChecks.push(new Fo(null,i))}function Oa(t){return typeof t=="function"}function Ik(t){return typeof t=="boolean"}function Ck(t){return t&&Oa(t.canLoad)}function Dk(t){return t&&Oa(t.canActivate)}function bk(t){return t&&Oa(t.canActivateChild)}function Tk(t){return t&&Oa(t.canDeactivate)}function Sk(t){return t&&Oa(t.canMatch)}function iD(t){return t instanceof Qn||t?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function Uo(){return Ge(t=>bu(t.map(e=>e.pipe(Zn(1),Mu(Vl)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Vl)return Vl;if(n===!1||Ak(n))return n}return!0}),Mt(e=>e!==Vl),Zn(1)))}function Ak(t){return Da(t)||t instanceof Ma}function xk(t,e){return et(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ve(B({},n),{guardsResult:!0})):Mk(s,r,i,t).pipe(et(c=>c&&Ik(c)?Rk(r,o,t,e):te(c)),se(c=>ve(B({},n),{guardsResult:c})))})}function Mk(t,e,n,r){return Me(t).pipe(et(i=>Fk(i.component,i.route,n,e,r)),Gt(i=>i!==!0,!0))}function Rk(t,e,n,r){return Me(e).pipe(io(i=>ro(Pk(i.route.parent,r),Nk(i.route,r),Ok(t,i.path,n),kk(t,i.route,n))),Gt(i=>i!==!0,!0))}function Nk(t,e){return t!==null&&e&&e(new ng(t)),te(!0)}function Pk(t,e){return t!==null&&e&&e(new eg(t)),te(!0)}function kk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Tu(()=>{let s=ka(e)??n,c=Bo(o,s),u=Dk(c)?c.canActivate(e,t):nr(s,()=>c(e,t));return Lr(u).pipe(Gt())}));return te(i).pipe(Uo())}function Ok(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_k(s)).filter(s=>s!==null).map(s=>Tu(()=>{let c=s.guards.map(u=>{let l=ka(s.node)??n,h=Bo(u,l),p=bk(h)?h.canActivateChild(r,t):nr(l,()=>h(r,t));return Lr(p).pipe(Gt())});return te(c).pipe(Uo())}));return te(o).pipe(Uo())}function Fk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(c=>{let u=ka(e)??i,l=Bo(c,u),h=Tk(l)?l.canDeactivate(t,e,n,r):nr(u,()=>l(t,e,n,r));return Lr(h).pipe(Gt())});return te(s).pipe(Uo())}function Vk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let c=Bo(s,t),u=Ck(c)?c.canLoad(e,n):nr(t,()=>c(e,n));return Lr(u)});return te(o).pipe(Uo(),oD(r))}function oD(t){return ou(tt(e=>{if(typeof e!="boolean")throw Kl(t,e)}),se(e=>e===!0))}function Lk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let c=Bo(s,t),u=Sk(c)?c.canMatch(e,n):nr(t,()=>c(e,n));return Lr(u)});return te(o).pipe(Uo(),oD(r))}var Ra=class{constructor(e){this.segmentGroup=e||null}},Na=class extends Error{constructor(e){super(),this.urlTree=e}};function No(t){return no(new Ra(t))}function jk(t){return no(new Z(4e3,!1))}function Uk(t){return no(nD(!1,$t.GuardRejected))}var lg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[le])return jk(`${e.redirectTo}`);i=i.children[le]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:v,data:A,title:P}=i,D=nr(o,()=>c({params:v,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(D instanceof hr)throw new Na(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Na(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new hr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bk(t,e,n,r,i){let o=sD(t,e,n);return o.matched?(r=lk(e,r),Lk(r,e,n,i).pipe(se(s=>s===!0?o:B({},dg)))):te(o)}function sD(t,e,n){if(e.path==="**")return $k(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},dg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LP)(n,t,e);if(!i)return B({},dg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $k(t){return{matched:!0,parameters:t.length>0?jC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function OC(t,e,n,r){return n.length>0&&zk(t,n,r)?{segmentGroup:new Se(e,qk(r,new Se(n,t.children))),slicedSegments:[]}:n.length===0&&Gk(t,n,r)?{segmentGroup:new Se(t.segments,Hk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:n}}function Hk(t,e,n,r){let i={};for(let o of n)if(Yl(t,e,o)&&!r[fn(o)]){let s=new Se([],{});i[fn(o)]=s}return B(B({},r),i)}function qk(t,e){let n={};n[le]=e;for(let r of t)if(r.path===""&&fn(r)!==le){let i=new Se([],{});n[fn(r)]=i}return n}function zk(t,e,n){return n.some(r=>Yl(t,e,r)&&fn(r)!==le)}function Gk(t,e,n){return n.some(r=>Yl(t,e,r))}function Yl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Wk(t,e,n){return e.length===0&&!t.children[n]}var hg=class{};function Kk(t,e,n,r,i,o,s="emptyOnly"){return new fg(t,e,n,r,i,s,o).recognize()}var Qk=31,fg=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new lg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=OC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new Bt(r,n),o=new Wl("",i),s=rk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Oo([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,le,n).pipe(se(r=>({children:r,rootSnapshot:n})),Sr(r=>{if(r instanceof Na)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ra?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Bt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(io(s=>{let c=r.children[s],u=dk(n,s);return this.processSegmentGroup(e,u,c,s,i)}),Au((s,c)=>(s.push(...c),s)),Ar(null),Ff(),et(s=>{if(s===null)return No(r);let c=aD(s);return Zk(c),te(c)}))}processSegment(e,n,r,i,o,s,c){return Me(n).pipe(io(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(Sr(l=>{if(l instanceof Ra)return te(null);throw l}))),Gt(u=>!!u),Sr(u=>{if(iD(u))return Wk(r,i,o)?te(new hg):No(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return fn(r)!==s&&(s===le||!Yl(i,o,r))?No(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):No(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=sD(n,i,o);if(!u)return No(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qk&&(this.allowRedirects=!1));let v=new Oo(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,FC(i),fn(i),i.component??i._loadedComponent??null,i,VC(i)),A=Gl(v,c,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(et(D=>this.processSegment(e,r,n,D.concat(g),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=Bk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ge(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ge(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,A=new Oo(g,p,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,FC(r),fn(r),r.component??r._loadedComponent??null,r,VC(r)),P=Gl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:D,slicedSegments:L}=OC(n,g,v,l);if(L.length===0&&D.hasChildren())return this.processChildren(h,l,D,A).pipe(se($=>new Bt(A,$)));if(l.length===0&&L.length===0)return te(new Bt(A,[]));let R=fn(r)===o;return this.processSegment(h,l,D,L,R?le:o,!0,A).pipe(se($=>new Bt(A,$ instanceof Bt?[$]:[])))}))):No(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):Vk(e,n,r,this.urlSerializer).pipe(et(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Uk(n))):te({routes:[],injector:e})}};function Zk(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}function Yk(t){let e=t.value.routeConfig;return e&&e.path===""}function aD(t){let e=[],n=new Set;for(let r of t){if(!Yk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=aD(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function FC(t){return t.data||{}}function VC(t){return t.resolve||{}}function Jk(t,e,n,r,i,o){return et(s=>Kk(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:c,tree:u})=>ve(B({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function Xk(t,e){return et(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of cD(u))s.add(l);let c=0;return Me(s).pipe(io(u=>o.has(u)?eO(u,r,t,e):(u.data=Gl(u,u.parent,t).resolve,te(void 0))),tt(()=>c++),oo(1),et(u=>c===s.size?te(n):Ct))})}function cD(t){let e=t.children.map(n=>cD(n)).flat();return[t,...e]}function eO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!eD(i)&&(o[Pa]=i.title),tO(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=Gl(t,t.parent,n).resolve,null)))}function tO(t,e,n,r){let i=Hm(t);if(i.length===0)return te({});let o={};return Me(i).pipe(et(s=>nO(t[s],e,n,r).pipe(Gt(),tt(c=>{if(c instanceof Ma)throw Kl(new Ca,c);o[s]=c}))),oo(1),Of(o),Sr(s=>iD(s)?Ct:no(s)))}function nO(t,e,n,r){let i=ka(e)??r,o=Bo(t,i),s=o.resolve?o.resolve(e,n):nr(i,()=>o(e,n));return Lr(s)}function Bm(t){return Ge(e=>{let n=t(e);return n?Me(n).pipe(se(()=>e)):te(e)})}var uD=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===le);return r}getResolvedTitleForRoute(n){return n.data[Pa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(rO),providedIn:"root"})}}return t})(),rO=(()=>{class t extends uD{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ee(MC))}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_g=new G("",{providedIn:"root",factory:()=>({})}),iO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=gt({type:t,selectors:[["ng-component"]],standalone:!0,features:[yt],decls:1,vars:0,template:function(r,i){r&1&&oe(0,"router-outlet")},dependencies:[yg],encapsulation:2})}}return t})();function wg(t){let e=t.children&&t.children.map(wg),n=e?ve(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=iO),n}var Eg=new G(""),oO=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Dm)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Lr(n.loadComponent()).pipe(se(lD),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ws(()=>{this.componentLoaders.delete(n)})),i=new Ji(r,()=>new je).pipe(Yi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sO(r,this.compiler,n,this.onLoadEndListener).pipe(Ws(()=>{this.childrenLoaders.delete(r)})),s=new Ji(o,()=>new je).pipe(Yi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sO(t,e,n,r){return Lr(t.loadChildren()).pipe(se(lD),et(i=>i instanceof na||Array.isArray(i)?te(i):Me(e.compileModuleAsync(i))),se(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Eg,[],{optional:!0,self:!0}).flat()),{routes:s.map(wg),injector:o}}))}function aO(t){return t&&typeof t=="object"&&"default"in t}function lD(t){return aO(t)?t.default:t}var Ig=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(cO),providedIn:"root"})}}return t})(),cO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uO=new G("");var lO=new G(""),dO=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=H(oO),this.environmentInjector=H(Zt),this.urlSerializer=H(mg),this.rootContexts=H(Zl),this.location=H(da),this.inputBindingEnabled=H(vg,{optional:!0})!==null,this.titleStrategy=H(uD),this.options=H(_g,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(Ig),this.createViewTransition=H(uO,{optional:!0}),this.navigationErrorHandler=H(lO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Jm(i)),r=i=>this.events.next(new Xm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ea,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),se(o=>ve(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ge(o=>{let s=!1,c=!1;return te(o).pipe(Ge(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),Ct;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ve(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new bi(u.id,this.urlSerializer.serialize(u.rawUrl),p,Wm.IgnoredSameUrlNavigation)),u.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(Ge(p=>{let g=this.transitions?.getValue();return this.events.next(new Ta(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Ct:Promise.resolve(p)}),Jk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ve(B({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Hl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:A,extras:P}=u,D=new Ta(p,this.urlSerializer.serialize(g),v,A);this.events.next(D);let L=JC(this.rootComponentType).snapshot;return this.currentTransition=o=ve(B({},u),{targetSnapshot:L,urlAfterRedirects:g,extras:ve(B({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,te(o)}else{let p="";return this.events.next(new bi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Wm.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ct}}),tt(u=>{let l=new Km(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),se(u=>(this.currentTransition=o=ve(B({},u),{guards:vk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),xk(this.environmentInjector,u=>this.events.next(u)),tt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Kl(this.urlSerializer,u.guardsResult);let l=new Qm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",$t.GuardRejected),!1)),Bm(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(tt(l=>{let h=new Zm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ge(l=>{let h=!1;return te(l).pipe(Xk(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),tt(l=>{let h=new Ym(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Bm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(tt(g=>{h.component=g}),se(()=>{})));for(let g of h.children)p.push(...l(g));return p};return bu(l(u.targetSnapshot.root)).pipe(Ar(null),Zn(1))}),Bm(()=>this.afterPreactivation()),Ge(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Me(h).pipe(se(()=>o)):te(o)}),se(u=>{let l=fk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ve(B({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),tt(()=>{this.events.next(new Aa)}),yk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Zn(1),tt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Lf(this.transitionAbortSubject.pipe(tt(u=>{throw u}))),Ws(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sr(u=>{if(c=!0,rD(u))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),gk(u)?this.events.next(new Lo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Sa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=nr(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ma){let{message:p,cancellationCode:g}=Kl(this.urlSerializer,h);this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Lo(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ct}))}))}cancelNavigationTransition(n,r,i){let o=new dr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hO(t){return t!==Ea}var fO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(pO),providedIn:"root"})}}return t})(),pg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pO=(()=>{class t extends pg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:()=>H(mO),providedIn:"root"})}}return t})(),mO=(()=>{class t extends dD{constructor(){super(...arguments),this.location=H(da),this.urlSerializer=H(mg),this.options=H(_g,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(Ig),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ta)this.stateMemento=this.createStateMemento();else if(n instanceof bi)this.rawUrlTree=r.initialUrl;else if(n instanceof Hl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Aa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof dr&&(n.code===$t.GuardRejected||n.code===$t.NoDataFromResolver)?this.restoreHistory(r):n instanceof Sa?this.restoreHistory(r,!0):n instanceof Di&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof hr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_a=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_a||{});function gO(t,e){t.events.pipe(Mt(n=>n instanceof Di||n instanceof dr||n instanceof Sa||n instanceof bi),se(n=>n instanceof Di||n instanceof bi?_a.COMPLETE:(n instanceof dr?n.code===$t.Redirect||n.code===$t.SupersededByNewNavigation:!1)?_a.REDIRECTING:_a.FAILED),Mt(n=>n!==_a.REDIRECTING),Zn(1)).subscribe(()=>{e()})}function yO(t){throw t}var vO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_O={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(Ml),this.stateManager=H(dD),this.options=H(_g,{optional:!0})||{},this.pendingTasks=H(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(dO),this.urlSerializer=H(mg),this.location=H(da),this.urlHandlingStrategy=H(Ig),this._events=new je,this.errorHandler=this.options.errorHandler||yO,this.navigated=!1,this.routeReuseStrategy=H(fO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(Eg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(vg,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dr&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Di)this.navigated=!0;else if(r instanceof Lo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hO(i.source)},s);this.scheduleNavigation(c,Ea,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(wg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=KC(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return QC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Da(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ea,null,r)}navigate(n,r={skipLocationChange:!1}){return wO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},vO):r===!1?i=B({},_O):i=r,Da(n))return RC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return RC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{c=p,u=g});let h=this.pendingTasks.add();return gO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function EO(t){return!(t instanceof Aa)&&!(t instanceof Lo)}var IO=new G("");function hD(t,...e){return Tn([{provide:Eg,multi:!0,useValue:t},[],{provide:jo,useFactory:CO,deps:[Nn]},{provide:Cm,multi:!0,useFactory:DO},e.map(n=>n.\u0275providers)])}function CO(t){return t.routerState.root}function DO(){let t=H(Rt);return e=>{let n=t.get(_i);if(e!==n.components[0])return;let r=t.get(Nn),i=t.get(bO);t.get(TO)===1&&r.initialNavigation(),t.get(SO,null,he.Optional)?.setUpPreloading(),t.get(IO,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bO=new G("",{factory:()=>new je}),TO=new G("",{providedIn:"root",factory:()=>1});var SO=new G("");var ID=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(z(cr),z(Sn))}}static{this.\u0275dir=Oe({type:t})}}return t})(),cd=(()=>{class t extends ID{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,features:[Pt]})}}return t})(),Go=new G("");var AO={provide:Go,useExisting:Jt(()=>Wo),multi:!0};function xO(){let t=lr()?lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var MO=new G(""),Wo=(()=>{class t extends ID{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(z(cr),z(Sn),z(MO,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[An([AO]),Pt]})}}return t})();function jr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function CD(t){return t!=null&&typeof t.length=="number"}var $a=new G(""),ud=new G(""),RO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Y=class{static min(e){return NO(e)}static max(e){return PO(e)}static required(e){return DD(e)}static requiredTrue(e){return kO(e)}static email(e){return OO(e)}static minLength(e){return FO(e)}static maxLength(e){return VO(e)}static pattern(e){return LO(e)}static nullValidator(e){return ed(e)}static compose(e){return MD(e)}static composeAsync(e){return RD(e)}};function NO(t){return e=>{if(jr(e.value)||jr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function PO(t){return e=>{if(jr(e.value)||jr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function DD(t){return jr(t.value)?{required:!0}:null}function kO(t){return t.value===!0?null:{required:!0}}function OO(t){return jr(t.value)||RO.test(t.value)?null:{email:!0}}function FO(t){return e=>jr(e.value)||!CD(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function VO(t){return e=>CD(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function LO(t){if(!t)return ed;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(jr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ed(t){return null}function bD(t){return t!=null}function TD(t){return vi(t)?Me(t):t}function SD(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function AD(t,e){return e.map(n=>n(t))}function jO(t){return!t.validate}function xD(t){return t.map(e=>jO(e)?e:n=>e.validate(n))}function MD(t){if(!t)return null;let e=t.filter(bD);return e.length==0?null:function(n){return SD(AD(n,e))}}function Ag(t){return t!=null?MD(xD(t)):null}function RD(t){if(!t)return null;let e=t.filter(bD);return e.length==0?null:function(n){let r=AD(n,e).map(TD);return Pf(r).pipe(se(SD))}}function xg(t){return t!=null?RD(xD(t)):null}function fD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ND(t){return t._rawValidators}function PD(t){return t._rawAsyncValidators}function Cg(t){return t?Array.isArray(t)?t:[t]:[]}function td(t,e){return Array.isArray(t)?t.includes(e):t===e}function pD(t,e){let n=Cg(e);return Cg(t).forEach(i=>{td(n,i)||n.push(i)}),n}function mD(t,e){return Cg(e).filter(n=>!td(t,n))}var nd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},fr=class extends nd{get formDirective(){return null}get path(){return null}},Ti=class extends nd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},UO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},s6=ve(B({},UO),{"[class.ng-submitted]":"isSubmitted"}),ld=(()=>{class t extends rd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Ti,2))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Pt]})}}return t})(),dd=(()=>{class t extends rd{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(z(fr,10))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Pt]})}}return t})();var Fa="VALID",Xl="INVALID",$o="PENDING",Va="DISABLED",Ur=class{},id=class extends Ur{constructor(e,n){super(),this.value=e,this.source=n}},ja=class extends Ur{constructor(e,n){super(),this.pristine=e,this.source=n}},Ua=class extends Ur{constructor(e,n){super(),this.touched=e,this.source=n}},Ho=class extends Ur{constructor(e,n){super(),this.status=e,this.source=n}},Dg=class extends Ur{constructor(e){super(),this.source=e}},bg=class extends Ur{constructor(e){super(),this.source=e}};function Mg(t){return(hd(t)?t.validators:t)||null}function BO(t){return Array.isArray(t)?Ag(t):t||null}function Rg(t,e){return(hd(e)?e.asyncValidators:t)||null}function $O(t){return Array.isArray(t)?xg(t):t||null}function hd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function kD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[n])throw new Z(1001,"")}function OD(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Z(1002,"")})}var qo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Mo(()=>this.statusReactive()),this.statusReactive=xo(void 0),this._pristine=Mo(()=>this.pristineReactive()),this.pristineReactive=xo(!0),this._touched=Mo(()=>this.touchedReactive()),this.touchedReactive=xo(!1),this._events=new je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Fa}get invalid(){return this.status===Xl}get pending(){return this.status==$o}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mD(e,this._rawAsyncValidators))}hasValidator(e){return td(this._rawValidators,e)}hasAsyncValidator(e){return td(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ua(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ua(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ja(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ja(!0,r))}markAsPending(e={}){this.status=$o;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ho(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Va,this.errors=null,this._forEachChild(i=>{i.disable(ve(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new id(this.value,r)),this._events.next(new Ho(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this._forEachChild(r=>{r.enable(ve(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fa||this.status===$o)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new id(this.value,n)),this._events.next(new Ho(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:Fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$o,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=TD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ho(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?Xl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($o)?$o:this._anyControlsHaveStatus(Xl)?Xl:Fa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ja(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ua(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=BO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$O(this._rawAsyncValidators)}},zo=class extends qo{constructor(e,n,r){super(Mg(n),Rg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){OD(this,!0,e),Object.keys(e).forEach(r=>{kD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tg=class extends zo{};var Ha=new G("CallSetDisabledState",{providedIn:"root",factory:()=>fd}),fd="always";function FD(t,e){return[...e.path,t]}function od(t,e,n=fd){Ng(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qO(t,e),GO(t,e),zO(t,e),HO(t,e)}function gD(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ad(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function HO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ng(t,e){let n=ND(t);e.validator!==null?t.setValidators(fD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=PD(t);e.asyncValidator!==null?t.setAsyncValidators(fD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sd(e._rawValidators,i),sd(e._rawAsyncValidators,i)}function ad(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ND(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=PD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return sd(e._rawValidators,r),sd(e._rawAsyncValidators,r),n}function qO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&VD(t,e)})}function zO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&VD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function VD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function LD(t,e){t==null,Ng(t,e)}function WO(t,e){return ad(t,e)}function jD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function KO(t){return Object.getPrototypeOf(t.constructor)===cd}function UD(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BD(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Wo?n=o:KO(o)?r=o:i=o}),i||r||n||null}function QO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ZO={provide:fr,useExisting:Jt(()=>Pg)},La=Promise.resolve(),Pg=(()=>{class t extends fr{get submitted(){return xn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Mo(()=>this.submittedReactive()),this.submittedReactive=xo(!1),this._directives=new Set,this.ngSubmit=new He,this.form=new zo({},Ag(n),xg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){La.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),od(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){La.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){La.then(()=>{let r=this._findContainer(n.path),i=new zo({});LD(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){La.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){La.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),UD(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(z($a,10),z(ud,10),z(Ha,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[An([ZO]),Pt]})}}return t})();function yD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ba=class extends qo{constructor(e=null,n,r){super(Mg(n),Rg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var YO=t=>t instanceof Ba;var JO={provide:Ti,useExisting:Jt(()=>kg)},_D=Promise.resolve(),kg=(()=>{class t extends Ti{constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new Ba,this._registered=!1,this.name="",this.update=new He,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),jD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){od(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_D.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&la(r);_D.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?FD(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(z(fr,9),z($a,10),z(ud,10),z(Go,10),z(wi,8),z(Ha,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[An([JO]),Pt,or]})}}return t})(),pd=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),XO={provide:Go,useExisting:Jt(()=>Og),multi:!0},Og=(()=>{class t extends cd{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[An([XO]),Pt]})}}return t})();var $D=new G("");var eF={provide:fr,useExisting:Jt(()=>Fg)},Fg=(()=>{class t extends fr{get submitted(){return xn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Mo(()=>this._submittedReactive()),this._submittedReactive=xo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return od(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){gD(n.control||null,n,!1),QO(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),UD(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Dg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new bg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(gD(r||null,n),YO(i)&&(od(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);LD(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&WO(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ng(this.form,this),this._oldForm&&ad(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(z($a,10),z(ud,10),z(Ha,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[An([eF]),Pt,or]})}}return t})();var tF={provide:Ti,useExisting:Jt(()=>Vg)},Vg=(()=>{class t extends Ti{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new He,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BD(this,o)}ngOnChanges(n){this._added||this._setUpControl(),jD(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return FD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(z(fr,13),z($a,10),z(ud,10),z(Go,10),z($D,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[An([tF]),Pt,or]})}}return t})(),nF={provide:Go,useExisting:Jt(()=>md),multi:!0};function HD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rF(t){return t.split(":")[0]}var md=(()=>{class t extends cd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=HD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=rF(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[An([nF]),Pt]})}}return t})(),qD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(HD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(z(Sn),z(cr),z(md,9))}}static{this.\u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),iF={provide:Go,useExisting:Jt(()=>zD),multi:!0};function wD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oF(t){return t.split(":")[0]}var zD=(()=>{class t extends cd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=oF(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[An([iF]),Pt]})}}return t})(),GD=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(wD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(wD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(z(Sn),z(cr),z(zD,9))}}static{this.\u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var sF=(()=>{class t{constructor(){this._validator=ed}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ed,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,features:[or]})}}return t})();var aF={provide:$a,useExisting:Jt(()=>Lg),multi:!0};var Lg=(()=>{class t extends sF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=la,this.createValidator=n=>DD}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=sr(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Sl("required",i._enabled?"":null)},inputs:{required:"required"},features:[An([aF]),Pt]})}}return t})();var WD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({})}}return t})(),Sg=class extends qo{constructor(e,n,r){super(Mg(n),Rg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){OD(this,!1,e),e.forEach((r,i)=>{kD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ED(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var KD=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return ED(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zo(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Tg(i,r)}control(n,r,i){let o={};return this.useNonNullable?(ED(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ba(n,ve(B({},o),{nonNullable:!0}))):new Ba(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Sg(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Ba)return n;if(n instanceof qo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gd=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ha,useValue:n.callSetDisabledState??fd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({imports:[WD]})}}return t})(),QD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$D,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ha,useValue:n.callSetDisabledState??fd}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({imports:[WD]})}}return t})();var cF="firebase",uF="10.14.1";Ke(cF,uF,"app");var pr=new Xn("ANGULARFIRE2_VERSION");function qa(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Qo=(t,e)=>{let n=e?[e]:Kc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pn=class{constructor(){return Qo(lF)}},lF="app-check";function Ko(){}var yd=class{zone;delegate;constructor(e,n=Mf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},jg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=n.run(()=>new yd(Zone.current,xf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(Te))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function dF(t){return vd().ngZone.runOutsideAngular(()=>t())}function Si(t){return vd().ngZone.run(()=>t())}function Ug(t){return hF(vd())(t)}function hF(t){return function(n){return n=n.lift(new jg(t.ngZone)),n.pipe(zt(t.outsideAngular),Lt(t.insideAngular))}}var fF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Si(()=>t.apply(void 0,r))},Ve=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Si(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko))),r[o]=fF(r[o],n));let i=dF(()=>t.apply(this,r));if(!e)if(i instanceof de){let o=vd();return i.pipe(zt(o.outsideAngular),Lt(o.insideAngular))}else return Si(()=>i);return i instanceof de?i.pipe(Ug):i instanceof Promise?Si(()=>new Promise((o,s)=>i.then(c=>Si(()=>o(c)),c=>Si(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Si(()=>i)};var gr=class{constructor(e){return e}},Ai=class{constructor(){return Kc()}};function mF(t){return t&&t.length===1?t[0]:new gr(ri())}var Bg=new G("angularfire2._apps"),gF={provide:gr,useFactory:mF,deps:[[new mt,Bg]]},yF={provide:Ai,deps:[[new mt,Bg]]};function vF(t){return(e,n)=>{let r=n.get(ln);Ke("angularfire",pr.full,"core"),Ke("angularfire",pr.full,"app"),Ke("angular",Im.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new gr(i)}}function YD(t,...e){return Tn([gF,yF,{provide:Bg,useFactory:vF(t),multi:!0,deps:[Te,Rt,mr,...e]}])}var _d=Ve(S0,!0);var JD="auth",za=class{constructor(e){return e}},Ga=class{constructor(){return Qo(JD)}};var $g=new G("angularfire2.auth-instances");function pV(t,e){let n=qa(JD,t,e);return n&&new za(n)}function mV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new za(r)}}var gV={provide:Ga,deps:[[new mt,$g]]},yV={provide:za,useFactory:pV,deps:[[new mt,$g],gr]};function XD(t,...e){return Ke("angularfire",pr.full,"auth"),Tn([yV,gV,{provide:$g,useFactory:mV(t),multi:!0,deps:[Te,Rt,mr,Ai,[new mt,Pn],...e]}])}var eb=Ve(uf,!0);var wd=Ve(ff,!0);var tb=Ve(hf,!0);var nb=Ve(df,!0);var rb=Ve(lf,!0);var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ob={};var Br,Hg;(function(){var t;function e(C,y){function w(){}w.prototype=y.prototype,C.D=y.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(I,b,x){for(var _=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)_[Hn-2]=arguments[Hn];return y.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)I[b]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(b=0;16>b;++b)I[b]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=C.g[0],w=C.g[1],b=C.g[2];var x=C.g[3],_=y+(x^w&(b^x))+I[0]+3614090360&4294967295;y=w+(_<<7&4294967295|_>>>25),_=x+(b^y&(w^b))+I[1]+3905402710&4294967295,x=y+(_<<12&4294967295|_>>>20),_=b+(w^x&(y^w))+I[2]+606105819&4294967295,b=x+(_<<17&4294967295|_>>>15),_=w+(y^b&(x^y))+I[3]+3250441966&4294967295,w=b+(_<<22&4294967295|_>>>10),_=y+(x^w&(b^x))+I[4]+4118548399&4294967295,y=w+(_<<7&4294967295|_>>>25),_=x+(b^y&(w^b))+I[5]+1200080426&4294967295,x=y+(_<<12&4294967295|_>>>20),_=b+(w^x&(y^w))+I[6]+2821735955&4294967295,b=x+(_<<17&4294967295|_>>>15),_=w+(y^b&(x^y))+I[7]+4249261313&4294967295,w=b+(_<<22&4294967295|_>>>10),_=y+(x^w&(b^x))+I[8]+1770035416&4294967295,y=w+(_<<7&4294967295|_>>>25),_=x+(b^y&(w^b))+I[9]+2336552879&4294967295,x=y+(_<<12&4294967295|_>>>20),_=b+(w^x&(y^w))+I[10]+4294925233&4294967295,b=x+(_<<17&4294967295|_>>>15),_=w+(y^b&(x^y))+I[11]+2304563134&4294967295,w=b+(_<<22&4294967295|_>>>10),_=y+(x^w&(b^x))+I[12]+1804603682&4294967295,y=w+(_<<7&4294967295|_>>>25),_=x+(b^y&(w^b))+I[13]+4254626195&4294967295,x=y+(_<<12&4294967295|_>>>20),_=b+(w^x&(y^w))+I[14]+2792965006&4294967295,b=x+(_<<17&4294967295|_>>>15),_=w+(y^b&(x^y))+I[15]+1236535329&4294967295,w=b+(_<<22&4294967295|_>>>10),_=y+(b^x&(w^b))+I[1]+4129170786&4294967295,y=w+(_<<5&4294967295|_>>>27),_=x+(w^b&(y^w))+I[6]+3225465664&4294967295,x=y+(_<<9&4294967295|_>>>23),_=b+(y^w&(x^y))+I[11]+643717713&4294967295,b=x+(_<<14&4294967295|_>>>18),_=w+(x^y&(b^x))+I[0]+3921069994&4294967295,w=b+(_<<20&4294967295|_>>>12),_=y+(b^x&(w^b))+I[5]+3593408605&4294967295,y=w+(_<<5&4294967295|_>>>27),_=x+(w^b&(y^w))+I[10]+38016083&4294967295,x=y+(_<<9&4294967295|_>>>23),_=b+(y^w&(x^y))+I[15]+3634488961&4294967295,b=x+(_<<14&4294967295|_>>>18),_=w+(x^y&(b^x))+I[4]+3889429448&4294967295,w=b+(_<<20&4294967295|_>>>12),_=y+(b^x&(w^b))+I[9]+568446438&4294967295,y=w+(_<<5&4294967295|_>>>27),_=x+(w^b&(y^w))+I[14]+3275163606&4294967295,x=y+(_<<9&4294967295|_>>>23),_=b+(y^w&(x^y))+I[3]+4107603335&4294967295,b=x+(_<<14&4294967295|_>>>18),_=w+(x^y&(b^x))+I[8]+1163531501&4294967295,w=b+(_<<20&4294967295|_>>>12),_=y+(b^x&(w^b))+I[13]+2850285829&4294967295,y=w+(_<<5&4294967295|_>>>27),_=x+(w^b&(y^w))+I[2]+4243563512&4294967295,x=y+(_<<9&4294967295|_>>>23),_=b+(y^w&(x^y))+I[7]+1735328473&4294967295,b=x+(_<<14&4294967295|_>>>18),_=w+(x^y&(b^x))+I[12]+2368359562&4294967295,w=b+(_<<20&4294967295|_>>>12),_=y+(w^b^x)+I[5]+4294588738&4294967295,y=w+(_<<4&4294967295|_>>>28),_=x+(y^w^b)+I[8]+2272392833&4294967295,x=y+(_<<11&4294967295|_>>>21),_=b+(x^y^w)+I[11]+1839030562&4294967295,b=x+(_<<16&4294967295|_>>>16),_=w+(b^x^y)+I[14]+4259657740&4294967295,w=b+(_<<23&4294967295|_>>>9),_=y+(w^b^x)+I[1]+2763975236&4294967295,y=w+(_<<4&4294967295|_>>>28),_=x+(y^w^b)+I[4]+1272893353&4294967295,x=y+(_<<11&4294967295|_>>>21),_=b+(x^y^w)+I[7]+4139469664&4294967295,b=x+(_<<16&4294967295|_>>>16),_=w+(b^x^y)+I[10]+3200236656&4294967295,w=b+(_<<23&4294967295|_>>>9),_=y+(w^b^x)+I[13]+681279174&4294967295,y=w+(_<<4&4294967295|_>>>28),_=x+(y^w^b)+I[0]+3936430074&4294967295,x=y+(_<<11&4294967295|_>>>21),_=b+(x^y^w)+I[3]+3572445317&4294967295,b=x+(_<<16&4294967295|_>>>16),_=w+(b^x^y)+I[6]+76029189&4294967295,w=b+(_<<23&4294967295|_>>>9),_=y+(w^b^x)+I[9]+3654602809&4294967295,y=w+(_<<4&4294967295|_>>>28),_=x+(y^w^b)+I[12]+3873151461&4294967295,x=y+(_<<11&4294967295|_>>>21),_=b+(x^y^w)+I[15]+530742520&4294967295,b=x+(_<<16&4294967295|_>>>16),_=w+(b^x^y)+I[2]+3299628645&4294967295,w=b+(_<<23&4294967295|_>>>9),_=y+(b^(w|~x))+I[0]+4096336452&4294967295,y=w+(_<<6&4294967295|_>>>26),_=x+(w^(y|~b))+I[7]+1126891415&4294967295,x=y+(_<<10&4294967295|_>>>22),_=b+(y^(x|~w))+I[14]+2878612391&4294967295,b=x+(_<<15&4294967295|_>>>17),_=w+(x^(b|~y))+I[5]+4237533241&4294967295,w=b+(_<<21&4294967295|_>>>11),_=y+(b^(w|~x))+I[12]+1700485571&4294967295,y=w+(_<<6&4294967295|_>>>26),_=x+(w^(y|~b))+I[3]+2399980690&4294967295,x=y+(_<<10&4294967295|_>>>22),_=b+(y^(x|~w))+I[10]+4293915773&4294967295,b=x+(_<<15&4294967295|_>>>17),_=w+(x^(b|~y))+I[1]+2240044497&4294967295,w=b+(_<<21&4294967295|_>>>11),_=y+(b^(w|~x))+I[8]+1873313359&4294967295,y=w+(_<<6&4294967295|_>>>26),_=x+(w^(y|~b))+I[15]+4264355552&4294967295,x=y+(_<<10&4294967295|_>>>22),_=b+(y^(x|~w))+I[6]+2734768916&4294967295,b=x+(_<<15&4294967295|_>>>17),_=w+(x^(b|~y))+I[13]+1309151649&4294967295,w=b+(_<<21&4294967295|_>>>11),_=y+(b^(w|~x))+I[4]+4149444226&4294967295,y=w+(_<<6&4294967295|_>>>26),_=x+(w^(y|~b))+I[11]+3174756917&4294967295,x=y+(_<<10&4294967295|_>>>22),_=b+(y^(x|~w))+I[2]+718787259&4294967295,b=x+(_<<15&4294967295|_>>>17),_=w+(x^(b|~y))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var w=y-this.blockSize,I=this.B,b=this.h,x=0;x<y;){if(b==0)for(;x<=w;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<y;)if(I[b++]=C.charCodeAt(x++),b==this.blockSize){i(this,I),b=0;break}}else for(;x<y;)if(I[b++]=C[x++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var w=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=w&255,w/=256;for(this.u(C),C=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)C[w++]=this.g[y]>>>I&255;return C};function o(C,y){var w=c;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=y(C)}function s(C,y){this.h=y;for(var w=[],I=!0,b=C.length-1;0<=b;b--){var x=C[b]|0;I&&x==y||(w[b]=x,I=!1)}this.g=w}var c={};function u(C){return-128<=C&&128>C?o(C,function(y){return new s([y|0],0>y?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return D(l(-C));for(var y=[],w=1,I=0;C>=w;I++)y[I]=C/w|0,w*=4294967296;return new s(y,0)}function h(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return D(h(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,b=0;b<C.length;b+=8){var x=Math.min(8,C.length-b),_=parseInt(C.substring(b,b+x),y);8>x?(x=l(Math.pow(y,x)),I=I.j(x).add(l(_))):(I=I.j(w),I=I.add(l(_)))}return I}var p=u(0),g=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-D(this).m();for(var C=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);C+=(0<=I?I:4294967296+I)*y,y*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(P(this))return"-"+D(this).toString(C);for(var y=l(Math.pow(C,6)),w=this,I="";;){var b=K(w,y).g;w=L(w,b.j(y));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=b,A(w))return x+I;for(;6>x.length;)x="0"+x;I=x+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=L(this,C),P(C)?-1:A(C)?0:1};function D(C){for(var y=C.g.length,w=[],I=0;I<y;I++)w[I]=~C.g[I];return new s(w,~C.h).add(g)}t.abs=function(){return P(this)?D(this):this},t.add=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],I=0,b=0;b<=y;b++){var x=I+(this.i(b)&65535)+(C.i(b)&65535),_=(x>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);I=_>>>16,x&=65535,_&=65535,w[b]=_<<16|x}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(C,y){return C.add(D(y))}t.j=function(C){if(A(this)||A(C))return p;if(P(this))return P(C)?D(this).j(D(C)):D(D(this).j(C));if(P(C))return D(this.j(D(C)));if(0>this.l(v)&&0>C.l(v))return l(this.m()*C.m());for(var y=this.g.length+C.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<C.g.length;b++){var x=this.i(I)>>>16,_=this.i(I)&65535,Hn=C.i(b)>>>16,Es=C.i(b)&65535;w[2*I+2*b]+=_*Es,R(w,2*I+2*b),w[2*I+2*b+1]+=x*Es,R(w,2*I+2*b+1),w[2*I+2*b+1]+=_*Hn,R(w,2*I+2*b+1),w[2*I+2*b+2]+=x*Hn,R(w,2*I+2*b+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new s(w,0)};function R(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function $(C,y){this.g=C,this.h=y}function K(C,y){if(A(y))throw Error("division by zero");if(A(C))return new $(p,p);if(P(C))return y=K(D(C),y),new $(D(y.g),D(y.h));if(P(y))return y=K(C,D(y)),new $(D(y.g),y.h);if(30<C.g.length){if(P(C)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,I=y;0>=I.l(C);)w=Ce(w),I=Ce(I);var b=ce(w,1),x=ce(I,1);for(I=ce(I,2),w=ce(w,2);!A(I);){var _=x.add(I);0>=_.l(C)&&(b=b.add(w),x=_),I=ce(I,1),w=ce(w,1)}return y=L(C,b.j(y)),new $(b,y)}for(b=p;0<=C.l(y);){for(w=Math.max(1,Math.floor(C.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),x=l(w),_=x.j(y);P(_)||0<_.l(C);)w-=I,x=l(w),_=x.j(y);A(x)&&(x=g),b=b.add(x),C=L(C,_)}return new $(b,C)}t.A=function(C){return K(this,C).h},t.and=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&C.i(I);return new s(w,this.h&C.h)},t.or=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|C.i(I);return new s(w,this.h|C.h)},t.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^C.i(I);return new s(w,this.h^C.h)};function Ce(C){for(var y=C.g.length+1,w=[],I=0;I<y;I++)w[I]=C.i(I)<<1|C.i(I-1)>>>31;return new s(w,C.h)}function ce(C,y){var w=y>>5;y%=32;for(var I=C.g.length-w,b=[],x=0;x<I;x++)b[x]=0<y?C.i(x+w)>>>y|C.i(x+w+1)<<32-y:C.i(x+w);return new s(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hg=ob.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Br=ob.Integer=s}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var qg,vV,Zo,zg,Wa,Id,Gg,Wg,Kg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var S=a[m];if(!(S in f))break e;f=f[S]}a=a[a.length-1],m=f[a],d=d(m),d!=m&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,m=!1,S={next:function(){if(!m&&f<a.length){var N=f++;return{value:d(N,a[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),a.apply(d,S)}}return function(){return a.apply(d,arguments)}}function g(a,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function A(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(m,S,N){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return d.prototype[S].apply(m,U)}}function P(a){let d=a.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=a[m];return f}return[]}function D(a,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let S=a.length||0,N=m.length||0;a.length=S+N;for(let U=0;U<N;U++)a[S+U]=m[U]}else a.push(m)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function K(a){return K[" "](a),a}K[" "]=function(){};var Ce=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ce(a,d,f){for(let m in a)d.call(f,a[m],m,a)}function C(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function y(a){let d={};for(let f in a)d[f]=a[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)a[f]=m[f];for(let N=0;N<w.length;N++)f=w[N],Object.prototype.hasOwnProperty.call(m,f)&&(a[f]=m[f])}}function b(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function x(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Oh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Hn{constructor(){this.h=this.g=null}add(d,f){let m=Es.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Es=new L(()=>new sA,a=>a.reset());class sA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Is,Cs=!1,Oh=new Hn,__=()=>{let a=c.Promise.resolve(void 0);Is=()=>{a.then(aA)}};var aA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){x(f)}var d=Es;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Cs=!1};function Cr(){this.s=this.s,this.C=this.C}Cr.prototype.s=!1,Cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var cA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ds(a,d){if(dt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ce){e:{try{K(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:uA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ds.aa.h.call(this)}}A(Ds,dt);var uA={2:"touch",3:"pen",4:"mouse"};Ds.prototype.h=function(){Ds.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),lA=0;function dA(a,d,f,m,S){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++lA,this.da=this.fa=!1}function bc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Tc(a){this.src=a,this.g={},this.h=0}Tc.prototype.add=function(a,d,f,m,S){var N=a.toString();a=this.g[N],a||(a=this.g[N]=[],this.h++);var U=Vh(a,d,m,S);return-1<U?(d=a[U],f||(d.fa=!1)):(d=new dA(d,this.src,N,!!m,S),d.fa=f,a.push(d)),d};function Fh(a,d){var f=d.type;if(f in a.g){var m=a.g[f],S=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=S)&&Array.prototype.splice.call(m,S,1),N&&(bc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Vh(a,d,f,m){for(var S=0;S<a.length;++S){var N=a[S];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return S}return-1}var Lh="closure_lm_"+(1e6*Math.random()|0),jh={};function w_(a,d,f,m,S){if(m&&m.once)return I_(a,d,f,m,S);if(Array.isArray(d)){for(var N=0;N<d.length;N++)w_(a,d[N],f,m,S);return null}return f=Hh(f),a&&a[bs]?a.K(d,f,l(m)?!!m.capture:!!m,S):E_(a,d,f,!1,m,S)}function E_(a,d,f,m,S,N){if(!d)throw Error("Invalid event type");var U=l(S)?!!S.capture:!!S,xe=Bh(a);if(xe||(a[Lh]=xe=new Tc(a)),f=xe.add(d,f,m,U,N),f.proxy)return f;if(m=hA(),f.proxy=m,m.src=a,m.listener=f,a.addEventListener)cA||(S=U),S===void 0&&(S=!1),a.addEventListener(d.toString(),m,S);else if(a.attachEvent)a.attachEvent(D_(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function hA(){function a(f){return d.call(a.src,a.listener,f)}let d=fA;return a}function I_(a,d,f,m,S){if(Array.isArray(d)){for(var N=0;N<d.length;N++)I_(a,d[N],f,m,S);return null}return f=Hh(f),a&&a[bs]?a.L(d,f,l(m)?!!m.capture:!!m,S):E_(a,d,f,!0,m,S)}function C_(a,d,f,m,S){if(Array.isArray(d))for(var N=0;N<d.length;N++)C_(a,d[N],f,m,S);else m=l(m)?!!m.capture:!!m,f=Hh(f),a&&a[bs]?(a=a.i,d=String(d).toString(),d in a.g&&(N=a.g[d],f=Vh(N,f,m,S),-1<f&&(bc(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete a.g[d],a.h--)))):a&&(a=Bh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Vh(d,f,m,S)),(f=-1<a?d[a]:null)&&Uh(f))}function Uh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[bs])Fh(d.i,a);else{var f=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(f,m,a.capture):d.detachEvent?d.detachEvent(D_(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Bh(d))?(Fh(f,a),f.h==0&&(f.src=null,d[Lh]=null)):bc(a)}}}function D_(a){return a in jh?jh[a]:jh[a]="on"+a}function fA(a,d){if(a.da)a=!0;else{d=new Ds(d,this);var f=a.listener,m=a.ha||a.src;a.fa&&Uh(a),a=f.call(m,d)}return a}function Bh(a){return a=a[Lh],a instanceof Tc?a:null}var $h="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hh(a){return typeof a=="function"?a:(a[$h]||(a[$h]=function(d){return a.handleEvent(d)}),a[$h])}function ht(){Cr.call(this),this.i=new Tc(this),this.M=this,this.F=null}A(ht,Cr),ht.prototype[bs]=!0,ht.prototype.removeEventListener=function(a,d,f,m){C_(this,a,d,f,m)};function Et(a,d){var f,m=a.F;if(m)for(f=[];m;m=m.F)f.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new dt(d,a);else if(d instanceof dt)d.target=d.target||a;else{var S=d;d=new dt(m,a),I(d,S)}if(S=!0,f)for(var N=f.length-1;0<=N;N--){var U=d.g=f[N];S=Sc(U,m,!0,d)&&S}if(U=d.g=a,S=Sc(U,m,!0,d)&&S,S=Sc(U,m,!1,d)&&S,f)for(N=0;N<f.length;N++)U=d.g=f[N],S=Sc(U,m,!1,d)&&S}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],m=0;m<f.length;m++)bc(f[m]);delete a.g[d],a.h--}}this.F=null},ht.prototype.K=function(a,d,f,m){return this.i.add(String(a),d,!1,f,m)},ht.prototype.L=function(a,d,f,m){return this.i.add(String(a),d,!0,f,m)};function Sc(a,d,f,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,N=0;N<d.length;++N){var U=d[N];if(U&&!U.da&&U.capture==f){var xe=U.listener,st=U.ha||U.src;U.fa&&Fh(a.i,U),S=xe.call(st,m)!==!1&&S}}return S&&!m.defaultPrevented}function b_(a,d,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function T_(a){a.g=b_(()=>{a.g=null,a.i&&(a.i=!1,T_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class pA extends Cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:T_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(a){Cr.call(this),this.h=a,this.g={}}A(Ts,Cr);var S_=[];function A_(a){ce(a.g,function(d,f){this.g.hasOwnProperty(f)&&Uh(d)},a),a.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),A_(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qh=c.JSON.stringify,mA=c.JSON.parse,gA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function zh(){}zh.prototype.h=null;function x_(a){return a.h||(a.h=a.i())}function M_(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gh(){dt.call(this,"d")}A(Gh,dt);function Wh(){dt.call(this,"c")}A(Wh,dt);var Yr={},R_=null;function Ac(){return R_=R_||new ht}Yr.La="serverreachability";function N_(a){dt.call(this,Yr.La,a)}A(N_,dt);function As(a){let d=Ac();Et(d,new N_(d))}Yr.STAT_EVENT="statevent";function P_(a,d){dt.call(this,Yr.STAT_EVENT,a),this.stat=d}A(P_,dt);function It(a){let d=Ac();Et(d,new P_(d,a))}Yr.Ma="timingevent";function k_(a,d){dt.call(this,Yr.Ma,a),this.size=d}A(k_,dt);function xs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function yA(a,d,f,m,S,N){a.info(function(){if(a.g)if(N)for(var U="",xe=N.split("&"),st=0;st<xe.length;st++){var De=xe[st].split("=");if(1<De.length){var ft=De[0];De=De[1];var pt=ft.split("_");U=2<=pt.length&&pt[1]=="type"?U+(ft+"="+De+"&"):U+(ft+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+U})}function vA(a,d,f,m,S,N,U){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+N+" "+U})}function Hi(a,d,f,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+wA(a,f)+(m?" "+m:"")})}function _A(a,d){a.info(function(){return"TIMEOUT: "+d})}Ms.prototype.info=function(){};function wA(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var m=f[a];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<S.length;U++)S[U]=""}}}}return qh(f)}catch{return d}}var xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},O_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kh;function Mc(){}A(Mc,zh),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},Kh=new Mc;function Dr(a,d,f,m){this.j=a,this.i=d,this.l=f,this.R=m||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new F_}function F_(){this.i=null,this.g="",this.h=!1}var V_={},Qh={};function Zh(a,d,f){a.L=1,a.v=kc(qn(d)),a.m=f,a.P=!0,L_(a,null)}function L_(a,d){a.F=Date.now(),Rc(a),a.A=qn(a.v);var f=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),J_(f.i,"t",m),a.C=0,f=a.j.J,a.h=new F_,a.g=g0(a.j,f?d:null,!a.m),0<a.O&&(a.M=new pA(g(a.Y,a,a.g),a.O)),d=a.U,f=a.g,m=a.ca;var S="readystatechange";Array.isArray(S)||(S&&(S_[0]=S.toString()),S=S_);for(var N=0;N<S.length;N++){var U=w_(f,S[N],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),As(),yA(a.i,a.u,a.A,a.l,a.R,a.m)}Dr.prototype.ca=function(a){a=a.target;let d=this.M;d&&zn(a)==3?d.j():this.Y(a)},Dr.prototype.Y=function(a){try{if(a==this.g)e:{let pt=zn(this.g);var d=this.g.Ba();let Gi=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||o0(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Gi?As(3):As(2)),Yh(this);var f=this.g.Z();this.X=f;t:if(j_(this)){var m=o0(this.g);a="";var S=m.length,N=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Rs(this);var U="";break t}this.h.i=new c.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(N&&d==S-1)});m.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,vA(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,st=this.g;if((xe=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(xe)){var De=xe;break t}}De=null}if(f=De)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jh(this,f);else{this.o=!1,this.s=3,It(12),Jr(this),Rs(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<U.length;)if(on=EA(this,U),on==Qh){pt==4&&(this.s=4,It(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==V_){this.s=4,It(15),Hi(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,on,null),Jh(this,on);if(j_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||U.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,U,"[Invalid Chunked Response]"),Jr(this),Rs(this);else if(0<U.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),of(ft),ft.M=!0,It(11))}}else Hi(this.i,this.l,U,null),Jh(this,U);pt==4&&Jr(this),this.o&&!this.J&&(pt==4?h0(this.j,this):(this.o=!1,Rc(this)))}else LA(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Jr(this),Rs(this)}}}catch{}finally{}};function j_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function EA(a,d){var f=a.C,m=d.indexOf(`
`,f);return m==-1?Qh:(f=Number(d.substring(f,m)),isNaN(f)?V_:(m+=1,m+f>d.length?Qh:(d=d.slice(m,m+f),a.C=m+f,d)))}Dr.prototype.cancel=function(){this.J=!0,Jr(this)};function Rc(a){a.S=Date.now()+a.I,U_(a,a.I)}function U_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=xs(g(a.ba,a),d)}function Yh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Dr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(_A(this.i,this.A),this.L!=2&&(As(),It(17)),Jr(this),this.s=2,Rs(this)):U_(this,this.S-a)};function Rs(a){a.j.G==0||a.J||h0(a.j,a)}function Jr(a){Yh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,A_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Jh(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Xh(f.h,a))){if(!a.K&&Xh(f.h,a)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)jc(f),Vc(f);else break e;rf(f),It(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(g(f.Za,f),6e3));if(1>=H_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((a.K||f.g==a)&&jc(f),!R(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let De=S[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let ft=De[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let pt=De[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));let Gi=De[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(m=1.5*Gi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let on=a.g;if(on){let Bc=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var N=m.h;N.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(ef(N,N.h),N.h=null))}if(m.D){let sf=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;sf&&(m.ya=sf,Pe(m.I,m.D,sf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var U=a;if(m.qa=m0(m,m.J?m.ia:null,m.W),U.K){q_(m.h,U);var xe=U,st=m.L;st&&(xe.I=st),xe.B&&(Yh(xe),Rc(xe)),m.g=U}else l0(m);0<f.i.length&&Lc(f)}else De[0]!="stop"&&De[0]!="close"||ei(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ei(f,7):nf(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}As(4)}catch{}}var IA=class{constructor(a,d){this.g=a,this.map=d}};function B_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function H_(a){return a.h?1:a.g?a.g.size:0}function Xh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ef(a,d){a.g?a.g.add(d):a.h=d}function q_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}B_.prototype.cancel=function(){if(this.i=z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function z_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return P(a.i)}function CA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,m=0;m<f;m++)d.push(a[m]);return d}d=[],f=0;for(m in a)d[f++]=a[m];return d}function DA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let m in a)d[f++]=m;return d}}}function G_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=DA(a),m=CA(a),S=m.length,N=0;N<S;N++)d.call(void 0,m[N],f&&f[N],a)}var W_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var m=a[f].indexOf("="),S=null;if(0<=m){var N=a[f].substring(0,m);S=a[f].substring(m+1)}else N=a[f];d(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Xr){this.h=a.h,Nc(this,a.j),this.o=a.o,this.g=a.g,Pc(this,a.s),this.l=a.l;var d=a.i,f=new ks;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),K_(this,f),this.m=a.m}else a&&(d=String(a).match(W_))?(this.h=!1,Nc(this,d[1]||"",!0),this.o=Ns(d[2]||""),this.g=Ns(d[3]||"",!0),Pc(this,d[4]),this.l=Ns(d[5]||"",!0),K_(this,d[6]||"",!0),this.m=Ns(d[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}Xr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ps(d,Q_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ps(d,Q_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ps(f,f.charAt(0)=="/"?AA:SA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ps(f,MA)),a.join("")};function qn(a){return new Xr(a)}function Nc(a,d,f){a.j=f?Ns(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Pc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function K_(a,d,f){d instanceof ks?(a.i=d,RA(a.i,a.h)):(f||(d=Ps(d,xA)),a.i=new ks(d,a.h))}function Pe(a,d,f){a.i.set(d,f)}function kc(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ns(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ps(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,TA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function TA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Q_=/[#\/\?@]/g,SA=/[#\?:]/g,AA=/[#\?]/g,xA=/[#\?@]/g,MA=/#/g;function ks(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function br(a){a.g||(a.g=new Map,a.h=0,a.i&&bA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ks.prototype,t.add=function(a,d){br(this),this.i=null,a=qi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function Z_(a,d){br(a),d=qi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Y_(a,d){return br(a),d=qi(a,d),a.g.has(d)}t.forEach=function(a,d){br(this),this.g.forEach(function(f,m){f.forEach(function(S){a.call(d,S,m,this)},this)},this)},t.na=function(){br(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=a[m];for(let N=0;N<S.length;N++)f.push(d[m])}return f},t.V=function(a){br(this);let d=[];if(typeof a=="string")Y_(this,a)&&(d=d.concat(this.g.get(qi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return br(this),this.i=null,a=qi(this,a),Y_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function J_(a,d,f){Z_(a,d),0<f.length&&(a.i=null,a.g.set(qi(a,d),P(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var S=N;U[m]!==""&&(S+="="+encodeURIComponent(String(U[m]))),a.push(S)}}return this.i=a.join("&")};function qi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function RA(a,d){d&&!a.j&&(br(a),a.i=null,a.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(Z_(this,m),J_(this,S,f))},a)),a.j=d}function NA(a,d){let f=new Ms;if(c.Image){let m=new Image;m.onload=v(Tr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Tr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(Tr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Tr,f,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function PA(a,d){let f=new Ms,m=new AbortController,S=setTimeout(()=>{m.abort(),Tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(N=>{clearTimeout(S),N.ok?Tr(f,"TestPingServer: ok",!0,d):Tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Tr(f,"TestPingServer: error",!1,d)})}function Tr(a,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function kA(){this.g=new gA}function OA(a,d,f){let m=f||"";try{G_(a,function(S,N){let U=S;l(S)&&(U=qh(S)),d.push(m+N+"="+encodeURIComponent(U))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Os(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Os,zh),Os.prototype.g=function(){return new Oc(this.l,this.j)},Os.prototype.i=function(a){return function(){return a}}({});function Oc(a,d){ht.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Oc,ht),t=Oc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Vs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function X_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Fs(this):Vs(this),this.readyState==3&&X_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fs(this))},t.Qa=function(a){this.g&&(this.response=a,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Vs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function e0(a){let d="";return ce(a,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function tf(a,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=e0(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Pe(a,d,f))}function Be(a){ht.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,ht);var FA=/^https?$/i,VA=["POST","PUT"];t=Be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kh.g(),this.v=this.o?x_(this.o):x_(Kh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(N){t0(this,N);return}if(a=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),S=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(VA,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,U]of f)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{i0(this),this.u=!0,this.g.send(a),this.u=!1}catch(N){t0(this,N)}};function t0(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,n0(a),Fc(a)}function n0(a){a.A||(a.A=!0,Et(a,"complete"),Et(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Et(this,"complete"),Et(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?r0(this):this.bb())},t.bb=function(){r0(this)};function r0(a){if(a.h&&typeof s<"u"&&(!a.v[1]||zn(a)!=4||a.Z()!=2)){if(a.u&&zn(a)==4)b_(a.Ea,0,a);else if(Et(a,"readystatechange"),zn(a)==4){a.h=!1;try{let U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=U===0){var S=String(a.D).match(W_)[1]||null;!S&&c.self&&c.self.location&&(S=c.self.location.protocol.slice(0,-1)),m=!FA.test(S?S.toLowerCase():"")}f=m}if(f)Et(a,"complete"),Et(a,"success");else{a.m=6;try{var N=2<zn(a)?a.g.statusText:""}catch{N=""}a.l=N+" ["+a.Z()+"]",n0(a)}}finally{Fc(a)}}}}function Fc(a,d){if(a.g){i0(a);let f=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Et(a,"ready");try{f.onreadystatechange=m}catch{}}}function i0(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function zn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),mA(d)}};function o0(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function LA(a){let d={};a=(a.g&&2<=zn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(R(a[m]))continue;var f=b(a[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[S]||[];d[S]=N,N.push(f)}C(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function s0(a){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,a),this.cb=Ls("retryDelaySeedMs",1e4,a),this.Wa=Ls("forwardChannelMaxRetries",2,a),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new B_(a&&a.concurrentRequestLimit),this.Da=new kA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s0.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,m){It(0),this.W=a,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=m0(this,null,this.W),Lc(this)};function nf(a){if(a0(a),a.G==3){var d=a.U++,f=qn(a.I);if(Pe(f,"SID",a.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),js(a,f),d=new Dr(a,a.j,d),d.L=2,d.v=kc(qn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=g0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Rc(d)}p0(a)}function Vc(a){a.g&&(of(a),a.g.cancel(),a.g=null)}function a0(a){Vc(a),a.u&&(c.clearTimeout(a.u),a.u=null),jc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Lc(a){if(!$_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Is||__(),Cs||(Is(),Cs=!0),Oh.add(d,a),a.B=0}}function jA(a,d){return H_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=xs(g(a.Ga,a,d),f0(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let S=new Dr(this,this.j,a),N=this.o;if(this.S&&(N?(N=y(N),I(N,this.S)):N=this.S),this.m!==null||this.O||(S.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=u0(this,S,d),f=qn(this.I),Pe(f,"RID",a),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),js(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(e0(N)))+"&"+d:this.m&&tf(f,this.m,N)),ef(this.h,S),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),S.T=!0,Zh(S,f,null)):Zh(S,f,d),this.G=2}}else this.G==3&&(a?c0(this,a):this.i.length==0||$_(this.h)||c0(this))};function c0(a,d){var f;d?f=d.l:f=a.U++;let m=qn(a.I);Pe(m,"SID",a.K),Pe(m,"RID",f),Pe(m,"AID",a.T),js(a,m),a.m&&a.o&&tf(m,a.m,a.o),f=new Dr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=u0(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ef(a.h,f),Zh(f,m,d)}function js(a,d){a.H&&ce(a.H,function(f,m){Pe(d,m,f)}),a.l&&G_({},function(f,m){Pe(d,m,f)})}function u0(a,d,f){f=Math.min(a.i.length,f);var m=a.l?g(a.l.Na,a.l,a):null;e:{var S=a.i;let N=-1;for(;;){let U=["count="+f];N==-1?0<f?(N=S[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let xe=!0;for(let st=0;st<f;st++){let De=S[st].g,ft=S[st].map;if(De-=N,0>De)N=Math.max(0,S[st].g-100),xe=!1;else try{OA(ft,U,"req"+De+"_")}catch{m&&m(ft)}}if(xe){m=U.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,m}function l0(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Is||__(),Cs||(Is(),Cs=!0),Oh.add(d,a),a.v=0}}function rf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=xs(g(a.Fa,a),f0(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,d0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=xs(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Vc(this),d0(this))};function of(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function d0(a){a.g=new Dr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=qn(a.qa);Pe(d,"RID","rpc"),Pe(d,"SID",a.K),Pe(d,"AID",a.T),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(d,"TO",a.ja),Pe(d,"TYPE","xmlhttp"),js(a,d),a.m&&a.o&&tf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=kc(qn(d)),f.m=null,f.P=!0,L_(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),rf(this),It(19))};function jc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function h0(a,d){var f=null;if(a.g==d){jc(a),of(a),a.g=null;var m=2}else if(Xh(a.h,d))f=d.D,q_(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=a.B;m=Ac(),Et(m,new k_(m,f)),Lc(a)}else l0(a);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&jA(a,d)||m==2&&rf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),S){case 1:ei(a,5);break;case 4:ei(a,10);break;case 3:ei(a,6);break;default:ei(a,2)}}}function f0(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function ei(a,d){if(a.j.info("Error code "+d),d==2){var f=g(a.fb,a),m=a.Xa;let S=!m;m=new Xr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Nc(m,"https"),kc(m),S?NA(m.toString(),f):PA(m.toString(),f)}else It(2);a.G=0,a.l&&a.l.sa(d),p0(a),a0(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function p0(a){if(a.G=0,a.ka=[],a.l){let d=z_(a.h);(d.length!=0||a.i.length!=0)&&(D(a.ka,d),D(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function m0(a,d,f){var m=f instanceof Xr?qn(f):new Xr(f);if(m.g!="")d&&(m.g=d+"."+m.g),Pc(m,m.s);else{var S=c.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var N=new Xr(null);m&&Nc(N,m),d&&(N.g=d),S&&Pc(N,S),f&&(N.l=f),m=N}return f=a.D,d=a.ya,f&&d&&Pe(m,f,d),Pe(m,"VER",a.la),js(a,m),m}function g0(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Be(new Os({eb:f})):new Be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function y0(){}t=y0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uc(){}Uc.prototype.g=function(a,d){return new Ft(a,d)};function Ft(a,d){ht.call(this),this.g=new s0(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!R(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!R(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new zi(this)}A(Ft,ht),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){nf(this.g)},Ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=qh(a),a=f);d.i.push(new IA(d.Ya++,a)),d.G==3&&Lc(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,nf(this.g),delete this.g,Ft.aa.N.call(this)};function v0(a){Gh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(v0,Gh);function _0(){Wh.call(this),this.status=1}A(_0,Wh);function zi(a){this.g=a}A(zi,y0),zi.prototype.ua=function(){Et(this.g,"a")},zi.prototype.ta=function(a){Et(this.g,new v0(a))},zi.prototype.sa=function(a){Et(this.g,new _0)},zi.prototype.ra=function(){Et(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Kg=yr.createWebChannelTransport=function(){return new Uc},Wg=yr.getStatEventTarget=function(){return Ac()},Gg=yr.Event=Yr,Id=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xc.NO_ERROR=0,xc.TIMEOUT=8,xc.HTTP_ERROR=6,Wa=yr.ErrorCode=xc,O_.COMPLETE="complete",zg=yr.EventType=O_,M_.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Zo=yr.WebChannel=M_,vV=yr.FetchXmlHttpFactory=Os,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,qg=yr.XhrIo=Be}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});var sb="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ms="10.14.0";var Ni=new Gc("@firebase/firestore");function Ka(){return Ni.logLevel}function W(t,...e){if(Ni.logLevel<=Gn.DEBUG){let n=e.map(Rv);Ni.debug(`Firestore (${ms}): ${t}`,...n)}}function _r(t,...e){if(Ni.logLevel<=Gn.ERROR){let n=e.map(Rv);Ni.error(`Firestore (${ms}): ${t}`,...n)}}function rs(t,...e){if(Ni.logLevel<=Gn.WARN){let n=e.map(Rv);Ni.warn(`Firestore (${ms}): ${t}`,...n)}}function Rv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Ae(t,e){t||ne()}function ae(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends zc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},ey=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ty=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new On;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new On,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>O(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new On)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new Sd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new ot(e)}},ny=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ry=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ny(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},oy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new iy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _V(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ad=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_V(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function be(t,e){return t<e?-1:t>e?1:0}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ue=class t extends xd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},wV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class t extends xd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return wV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var J=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var sy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};sy.UNKNOWN_ID=-1;function EV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Pi(i,J.empty(),e)}function IV(t){return new Pi(t.readTime,t.key,-1)}var Pi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),J.empty(),-1)}static max(){return new t(ue.max(),J.empty(),-1)}};function CV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}var DV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ay=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fc(t){return O(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==DV)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var j=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function bV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pc(t){return t.name==="IndexedDbTransactionError"}var Bb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ch(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function TV(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var SV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PG=[...SV,"documentOverlays"],AV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xV=AV,MV=[...xV,"indexConfiguration","indexState","indexEntries"];var kG=[...MV,"globals"];function ab(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $b(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new es(this.root,e,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new es(this.root,e,this.comparator,!0)}},es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class t{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new _t(qt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=RV.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function Nv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pv(t){let e=t.mapValue.fields.__previous_value__;return Nv(e)?Pv(e):e}function tc(t){let e=wr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var cy=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Nd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nv(t)?4:qb(t)?9007199254740991:Hb(t)?10:11:ne()}function jn(t,e){if(t===e)return!0;let n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=wr(i.timestampValue),c=wr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return qr(i.bytesValue).isEqual(qr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Le(i.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Le(i.integerValue)===Le(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Le(i.doubleValue),c=Le(o.doubleValue);return s===c?ec(s)===ec(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(ab(s)!==ab(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!jn(s[u],c[u])))return!1;return!0}(t,e);default:return ne()}}function nc(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function os(t,e){if(t===e)return 0;let n=ki(t),r=ki(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Le(o.integerValue||o.doubleValue),u=Le(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return cb(t.timestampValue,e.timestampValue);case 4:return cb(tc(t),tc(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(o,s){let c=qr(o),u=qr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=be(c[l],u[l]);if(h!==0)return h}return be(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=be(Le(o.latitude),Le(s.latitude));return c!==0?c:be(Le(o.longitude),Le(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ub(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},g=s.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,P=be(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:ub(v,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Cd.mapValue&&s===Cd.mapValue)return 0;if(o===Cd.mapValue)return 1;if(s===Cd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=be(u[p],h[p]);if(g!==0)return g;let v=os(c[u[p]],l[h[p]]);if(v!==0)return v}return be(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function cb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);let n=wr(t),r=wr(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function ub(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=os(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function ss(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=uy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${uy(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function lb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ly(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function db(t){return!!t&&"nullValue"in t}function hb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function Hb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ht=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Za(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Za(this.value))}};function zb(t){let e=[];return ji(t.fields,(n,r)=>{let i=new qt([n]);if(bd(r)){let o=zb(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var pn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var as=class{constructor(e,n){this.position=e,this.inclusive=n}};function fb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=os(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Oi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function NV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pd=class{},Ye=class t extends Pd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hy(e,n,r):n==="array-contains"?new my(e,r):n==="in"?new gy(e,r):n==="not-in"?new yy(e,r):n==="array-contains-any"?new vy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fy(e,r):new py(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class t extends Pd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Gb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Gb(t){return t.op==="and"}function Wb(t){return PV(t)&&Gb(t)}function PV(t){for(let e of t.filters)if(e instanceof mn)return!1;return!0}function dy(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(Wb(t))return t.filters.map(e=>dy(e)).join(",");{let e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function Kb(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Kb(s,i.filters[c]),!0):!1}(t,e):void ne()}function Qb(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${ss(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(Qb).join(" ,")+"}"}(t):"Filter"}var hy=class extends Ye{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){let n=J.comparator(e.key,this.key);return this.matchesComparison(n)}},fy=class extends Ye{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},py=class extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Zb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}var my=class extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return kv(n)&&nc(n.arrayValue,this.value)}},gy=class extends Ye{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},yy=class extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},vy=class extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var _y=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function mb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new _y(t,e,n,r,i,o,s)}function Ov(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ss(r)).join(",")),e.ue=n}return e.ue}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Kb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pb(t.startAt,e.startAt)&&pb(t.endAt,e.endAt)}function wy(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kV(t,e,n,r,i,o,s,c){return new zr(t,e,n,r,i,o,s,c)}function Vv(t){return new zr(t)}function gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yb(t){return t.collectionGroup!==null}function Ya(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new _t(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Oi(o,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new Oi(qt.keyField(),r))}return e.ce}function Vn(t){let e=ae(t);return e.le||(e.le=OV(e,Ya(t))),e.le}function OV(t,e){if(t.limitType==="F")return mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Oi(i.field,o)});let n=t.endAt?new as(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new as(t.startAt.position,t.startAt.inclusive):null;return mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ey(t,e){let n=t.filters.concat([e]);return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Iy(t,e,n){return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return Fv(Vn(t),Vn(e))&&t.limitType===e.limitType}function Jb(t){return`${Ov(Vn(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Qb(i)).join(", ")}]`),ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ss(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ya(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=fb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ya(r),i)||r.endAt&&!function(s,c,u){let l=fb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ya(r),i))}(t,e)}function FV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xb(t){return(e,n)=>{let r=!1;for(let i of Ya(t)){let o=VV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function VV(t,e,n){let r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?os(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return $b(this.inner)}size(){return this.innerSize}};var LV=new qe(J.comparator);function Er(){return LV}var eT=new qe(J.comparator);function Qa(...t){let e=eT;for(let n of t)e=e.insert(n.key,n);return e}function tT(t){let e=eT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return Ja()}function nT(){return Ja()}function Ja(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var jV=new qe(J.comparator),UV=new _t(J.comparator);function ye(...t){let e=UV;for(let n of t)e=e.add(n);return e}var BV=new _t(be);function $V(){return BV}function Lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function HV(t,e){return TV(e)?rT(e):Lv(t,e)}var cs=class{constructor(){this._=void 0}};function qV(t,e,n){return t instanceof us?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Nv(o)&&(o=Pv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Fi?oT(t,e):t instanceof Vi?sT(t,e):function(i,o){let s=iT(i,o),c=yb(s)+yb(i.Pe);return ly(s)&&ly(i.Pe)?rT(c):Lv(i.serializer,c)}(t,e)}function zV(t,e,n){return t instanceof Fi?oT(t,e):t instanceof Vi?sT(t,e):n}function iT(t,e){return t instanceof ls?function(r){return ly(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var us=class extends cs{},Fi=class extends cs{constructor(e){super(),this.elements=e}};function oT(t,e){let n=aT(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Vi=class extends cs{constructor(e){super(),this.elements=e}};function sT(t,e){let n=aT(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var ls=class extends cs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function yb(t){return Le(t.integerValue||t.doubleValue)}function aT(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fi&&i instanceof Fi||r instanceof Vi&&i instanceof Vi?is(r.elements,i.elements,jn):r instanceof ls&&i instanceof ls?jn(r.Pe,i.Pe):r instanceof us&&i instanceof us}(t.transform,e.transform)}var Cy=class{constructor(e,n){this.version=e,this.transformResults=n}},$r=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ds=class{};function cT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kd(t.key,$r.none()):new Li(t.key,t.data,$r.none());{let n=t.data,r=Ht.empty(),i=new _t(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Un(t.key,r,new nn(i.toArray()),$r.none())}}function WV(t,e,n){t instanceof Li?function(i,o,s){let c=i.value.clone(),u=_b(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Un?function(i,o,s){if(!Td(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=_b(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(uT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof Li?function(o,s,c,u){if(!Td(o.precondition,s))return c;let l=o.value.clone(),h=wb(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Un?function(o,s,c,u){if(!Td(o.precondition,s))return c;let l=wb(o.fieldTransforms,u,s),h=s.data;return h.setAll(uT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Td(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function KV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=iT(r.transform,i||null);o!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,o))}return n||null}function vb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(o,s)=>GV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Li=class extends ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Un=class extends ds{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function uT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function _b(t,e,n){let r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,zV(s,c,n[i]))}return r}function wb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,qV(o,s,e))}return r}var kd=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Dy=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var by=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&WV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=nT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=cT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>vb(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>vb(n,r))}},Ty=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return jV}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Sy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ay=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,Ie;function QV(t){switch(t){default:return ne();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function lT(t){if(t===void 0)return _r("GRPC error has no .code"),F.UNKNOWN;switch(t){case Qe.OK:return F.OK;case Qe.CANCELLED:return F.CANCELLED;case Qe.UNKNOWN:return F.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return F.INTERNAL;case Qe.UNAVAILABLE:return F.UNAVAILABLE;case Qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qe.NOT_FOUND:return F.NOT_FOUND;case Qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qe.ABORTED:return F.ABORTED;case Qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qe.DATA_LOSS:return F.DATA_LOSS;default:return ne()}}(Ie=Qe||(Qe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var Eb=null;function ZV(){return new TextEncoder}var YV=new Br([4294967295,4294967295],0);function Ib(t){let e=ZV().encode(t),n=new Hg;return n.update(e),new Uint8Array(n.digest())}function Cb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,o],0)]}var xy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mi(`Invalid padding: ${n}`);if(r<0)throw new Mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Br.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(YV)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Ib(e),[r,i]=Cb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=Ib(e),[r,i]=Cb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Mi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Od=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new qe(be),Er(),ye())}},rc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ye(),ye(),ye())}};var ts=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fd=class{constructor(e,n){this.targetId=e,this.me=n}},Vd=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ld=class{constructor(){this.fe=0,this.ge=bb(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new rc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},My=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=Db(),this.Qe=new qe(be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(wy(o))if(r===0){let s=new J(o.path);this.Ue(n,s,pn.newNoDocument(s,ue.min()))}else Ae(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Eb?.et(function(h,p,g,v,A){var P,D,L,R,$,K;let Ce={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ce=p.unchangedNames;return ce&&(Ce.bloomFilter={applied:A===0,hashCount:(P=ce?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(R=(L=(D=ce?.bits)===null||D===void 0?void 0:D.bitmap)===null||L===void 0?void 0:L.length)!==null&&R!==void 0?R:0,padding:(K=($=ce?.bits)===null||$===void 0?void 0:$.padding)!==null&&K!==void 0?K:0,mightContain:C=>{var y;return(y=v?.mightContain(C))!==null&&y!==void 0&&y}}),Ce}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=qr(r).toUint8Array()}catch(u){if(u instanceof Rd)return rs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new xy(s,i,o)}catch(u){return rs(u instanceof Mi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&wy(c.target)){let u=new J(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,pn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ye();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Od(e,n,this.Qe,this.ke,r);return this.ke=Er(),this.qe=Db(),this.Qe=new qe(be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ld,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ld),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Db(){return new qe(J.comparator)}function bb(){return new qe(J.comparator)}var JV={asc:"ASCENDING",desc:"DESCENDING"},XV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eL={and:"AND",or:"OR"},Ry=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ny(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tL(t,e){return jd(t,e.toTimestamp())}function Ln(t){return Ae(!!t),ue.fromTimestamp(function(n){let r=wr(n);return new ut(r.seconds,r.nanos)}(t))}function jv(t,e){return Py(t,e).canonicalString()}function Py(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hT(t){let e=Ue.fromString(t);return Ae(yT(e)),e}function ky(t,e){return jv(t.databaseId,e.path)}function Qg(t,e){let n=hT(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(pT(n))}function fT(t,e){return jv(t.databaseId,e)}function nL(t){let e=hT(t);return e.length===4?Ue.emptyPath():pT(e)}function Oy(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pT(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Tb(t,e,n){return{name:ky(t,e),fields:n.value.mapValue.fields}}function rL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?F.UNKNOWN:lT(l.code);return new q(h,l.message||"")}(s);n=new Vd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Qg(t,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):ue.min(),c=new Ht({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ts(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Qg(t,r.document),o=r.readTime?Ln(r.readTime):ue.min(),s=pn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ts([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Qg(t,r.document),o=r.removedTargetIds||[];n=new ts([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ay(i,o),c=r.targetId;n=new Fd(c,s)}}return n}function iL(t,e){let n;if(e instanceof Li)n={update:Tb(t,e.key,e.value)};else if(e instanceof kd)n={delete:ky(t,e.key)};else if(e instanceof Un)n={update:Tb(t,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof Dy))return ne();n={verify:ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof us)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ls)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:tL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function oL(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ln(i.updateTime):Ln(o);return s.isEqual(ue.min())&&(s=Ln(o)),new Cy(s,i.transformResults||[])}(n,e))):[]}function sL(t,e){return{documents:[fT(t,e.path)]}}function aL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fT(t,i);let o=function(l){if(l.length!==0)return gT(mn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Jo(g.field),direction:lL(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Ny(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function cL(t){let e=nL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=mT(p);return g instanceof mn&&Wb(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(A){return new Oi(Xo(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,ch(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,v=p.values||[];return new as(v,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,v=p.values||[];return new as(v,g)}(n.endAt)),kV(e,i,s,o,c,"F",u,l)}function uL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xo(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xo(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xo(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xo(n.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>mT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function lL(t){return JV[t]}function dL(t){return XV[t]}function hL(t){return eL[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return qt.fromServerFormat(t.fieldPath)}function gT(t){return t instanceof Ye?function(n){if(n.op==="=="){if(hb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(db(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hb(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(db(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:dL(n.op),value:n.value}}}(t):t instanceof mn?function(n){let r=n.getFilters().map(i=>gT(i));return r.length===1?r[0]:{compositeFilter:{op:hL(n.op),filters:r}}}(t):ne()}function fL(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ic=class t{constructor(e,n,r,i,o=ue.min(),s=ue.min(),c=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Fy=class{constructor(e){this.ct=e}};function pL(t){let e=cL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iy(e,e.limit,"L"):e}var Ud=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Le(e.integerValue));else if("doubleValue"in e){let r=Le(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ec(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=wr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(qr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?qb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Hb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Le(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ud.vt=new Ud;var Vy=class{constructor(){this.un=new Ly}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Pi.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}},Ly=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Ue.comparator)).toArray()}};var FG=new Uint8Array(0);var kn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var oc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var jy=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Uy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var By=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,nn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Qa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Er(),s=Ja(),c=function(){return Ja()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Un)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Xa(h.mutation,l,h.mutation.getFieldMask(),ut.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Uy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ja(),i=new qe((s,c)=>s-c),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||nn.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||ye()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=nT();h.forEach(g=>{if(!o.has(g)){let v=cT(n.get(g),r.get(g));v!==null&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(xi()),c=-1,u=o;return s.next(l=>j.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:c,changes:tT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Qa();return this.indexManager.getCollectionParents(e,o).next(c=>j.forEach(c,u=>{let l=function(p,g){return new zr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let c=Qa();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Xa(h.mutation,l,nn.empty(),ut.now()),lh(n,l)&&(c=c.insert(u,l))}),c})}};var $y=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ln(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:pL(i.bundledQuery),readTime:Ln(i.readTime)}}(n)),j.resolve()}};var Hy=class{constructor(){this.overlays=new qe(J.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new J(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return j.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Sy(n,r));let o=this.Ir.get(n);o===void 0&&(o=ye(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var qy=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}};var sc=class{constructor(){this.Tr=new _t(Ze.Er),this.dr=new _t(Ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new J(new Ue([])),r=new Ze(n,e),i=new Ze(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new J(new Ue([])),r=new Ze(n,e),i=new Ze(n,e+1),o=ye();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||J.comparator(e.key,n.key)}};var zy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(Ze.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new by(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(be);return n.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new J(o),0),c=new _t(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),j.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{let o=new Ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ze(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Gy=class{constructor(e){this.Mr=e,this.docs=function(){return new qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er(),s=n.path,c=new J(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||CV(IV(h),r)<=0||(i.has(h.key)||lh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wy(this)}getSize(e){return j.resolve(this.size)}},Wy=class extends jy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Ky=class{constructor(e){this.persistence=e,this.Nr=new Gr(n=>Ov(n),Fv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sc,this.targetCount=0,this.kr=oc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}};var Qy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bb(0),this.Kr=!1,this.Kr=!0,this.$r=new qy,this.referenceDelegate=e(this),this.Ur=new Ky(this),this.indexManager=new Vy,this.remoteDocumentCache=function(i){return new Gy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Fy(n),this.Gr=new $y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);let i=new Zy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Zy=class extends ay{constructor(e){super(),this.currentSequenceNumber=e}},Yy=class t{constructor(e){this.persistence=e,this.Jr=new sc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Jy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ye(),i=ye();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Xy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ev=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return b0()?8:bV(D0())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xy;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ka()<=Gn.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Ka()<=Gn.DEBUG&&W("QueryEngine","Query:",Yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ka()<=Gn.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):j.resolve())}Yi(e,n){if(gb(n))return j.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Iy(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Iy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return gb(n)||i.isEqual(ue.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?j.resolve(null):(Ka()<=Gn.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yo(n)),this.rs(e,s,n,EV(i,-1)).next(c=>c))})}ts(e,n){let r=new _t(Xb(e));return n.forEach((i,o)=>{lh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ka()<=Gn.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Pi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new qe(be),this._s=new Gr(o=>Ov(o),Fv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new By(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function mL(t,e,n,r){return new tv(t,e,n,r)}function vT(t,e){return O(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function gL(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,g=p.keys(),v=j.resolve();return g.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(P=>{let D=l.docVersions.get(A);Ae(D!==null),P.version.compareTo(D)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ye();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _T(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yL(t,e){let n=ae(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;c.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(wt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,D,L){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(g,v,h)&&c.push(n.Ur.updateTargetData(o,v))});let u=Er(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(vL(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ue.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return j.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function vL(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function _L(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ic(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function nv(t,e,n){return O(this,null,function*(){let r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!pc(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Sb(t,e,n){let r=ae(t),i=ue.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),g=p._s.get(h);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,Vn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?o:ye())).next(c=>(EL(r,FV(e),c),{documents:c,Ts:o})))}function EL(t,e,n){let r=t.us.get(e)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Bd=class{constructor(){this.activeTargetIds=$V()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rv=class{constructor(){this.so=new Bd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Bd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iv=class{_o(e){}shutdown(){}};var $d=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Dd=null;function Zg(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}var IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ov=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var vt="WebChannelConnection",sv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Zg(),u=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(W("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw rs("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=IL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Zg();return new Promise((s,c)=>{let u=new qg;u.setWithCredentials(!0),u.listenOnce(zg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wa.NO_ERROR:let h=u.getResponseJson();W(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Wa.TIMEOUT:W(vt,`RPC '${e}' ${o} timed out`),c(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Wa.HTTP_ERROR:let p=u.getStatus();if(W(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let A=function(D){let L=D.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(L)>=0?L:F.UNKNOWN}(v.status);c(new q(A,v.message))}else c(new q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new q(F.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);W(vt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Zg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kg(),c=Wg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");W(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,v=!1,A=new ov({Io:D=>{v?W(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(W(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(vt,`RPC '${e}' stream ${i} sending:`,D),p.send(D))},To:()=>p.close()}),P=(D,L,R)=>{D.listen(L,$=>{try{R($)}catch(K){setTimeout(()=>{throw K},0)}})};return P(p,Zo.EventType.OPEN,()=>{v||(W(vt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(p,Zo.EventType.CLOSE,()=>{v||(v=!0,W(vt,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(p,Zo.EventType.ERROR,D=>{v||(v=!0,rs(vt,`RPC '${e}' stream ${i} transport errored:`,D),A.So(new q(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,Zo.EventType.MESSAGE,D=>{var L;if(!v){let R=D.data[0];Ae(!!R);let $=R,K=$.error||((L=$[0])===null||L===void 0?void 0:L.error);if(K){W(vt,`RPC '${e}' stream ${i} received error:`,K);let Ce=K.status,ce=function(w){let I=Qe[w];if(I!==void 0)return lT(I)}(Ce),C=K.message;ce===void 0&&(ce=F.INTERNAL,C="Unknown error status: "+Ce+" with message "+K.message),v=!0,A.So(new q(ce,C)),p.close()}else W(vt,`RPC '${e}' stream ${i} received:`,R),A.bo(R)}}),P(c,Gg.STAT_EVENT,D=>{D.stat===Id.PROXY?W(vt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Id.NOPROXY&&W(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Yg(){return typeof document<"u"?document:null}function dh(t){return new Ry(t,!0)}var Hd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qd=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return O(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return O(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return O(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>O(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},av=class extends qd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=rL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Ln(s.readTime):ue.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Oy(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=wy(u)?{documents:sL(o,u)}:{query:aL(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=dT(o,s.resumeToken);let l=Ny(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){c.readTime=jd(o,s.snapshotVersion.toTimestamp());let l=Ny(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=uL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Oy(this.serializer),n.removeTarget=e,this.a_(n)}},cv=class extends qd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=oL(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Oy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>iL(this.serializer,r))};this.a_(n)}};var uv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Py(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Py(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_r(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var dv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>O(this,null,function*(){Ui(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(u){return O(this,null,function*(){let l=ae(u);l.L_.add(4),yield mc(l),l.q_.set("Unknown"),l.L_.delete(4),yield hh(l)})}(this))}))}),this.q_=new lv(r,i)}};function hh(t){return O(this,null,function*(){if(Ui(t))for(let e of t.B_)yield e(!0)})}function mc(t){return O(this,null,function*(){for(let e of t.B_)yield e(!1)})}function wT(t,e){let n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hv(n)?$v(n):gs(n).r_()&&Bv(n,e))}function Uv(t,e){let n=ae(t),r=gs(n);n.N_.delete(e),r.r_()&&ET(n,e),n.N_.size===0&&(r.r_()?r.o_():Ui(n)&&n.q_.set("Unknown"))}function Bv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gs(t).A_(e)}function ET(t,e){t.Q_.xe(e),gs(t).R_(e)}function $v(t){t.Q_=new My({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gs(t).start(),t.q_.v_()}function Hv(t){return Ui(t)&&!gs(t).n_()&&t.N_.size>0}function Ui(t){return ae(t).L_.size===0}function IT(t){t.Q_=void 0}function CL(t){return O(this,null,function*(){t.q_.set("Online")})}function DL(t){return O(this,null,function*(){t.N_.forEach((e,n)=>{Bv(t,e)})})}function bL(t,e){return O(this,null,function*(){IT(t),Hv(t)?(t.q_.M_(e),$v(t)):t.q_.set("Unknown")})}function TL(t,e,n){return O(this,null,function*(){if(t.q_.set("Online"),e instanceof Vd&&e.state===2&&e.cause)try{yield function(i,o){return O(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zd(t,r)}else if(e instanceof ts?t.Q_.Ke(e):e instanceof Fd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ue.min()))try{let r=yield _T(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),ET(o,u);let p=new ic(h.target,u,l,h.sequenceNumber);Bv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield zd(t,r)}})}function zd(t,e,n){return O(this,null,function*(){if(!pc(e))throw e;t.L_.add(1),yield mc(t),t.q_.set("Offline"),n||(n=()=>_T(t.localStore)),t.asyncQueue.enqueueRetryable(()=>O(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield hh(t)}))})}function CT(t,e){return e().catch(n=>zd(t,n,e))}function fh(t){return O(this,null,function*(){let e=ae(t),n=Wr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SL(e);)try{let i=yield _L(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,AL(e,i)}catch(i){yield zd(e,i)}DT(e)&&bT(e)})}function SL(t){return Ui(t)&&t.O_.length<10}function AL(t,e){t.O_.push(e);let n=Wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function DT(t){return Ui(t)&&!Wr(t).n_()&&t.O_.length>0}function bT(t){Wr(t).start()}function xL(t){return O(this,null,function*(){Wr(t).p_()})}function ML(t){return O(this,null,function*(){let e=Wr(t);for(let n of t.O_)e.m_(n.mutations)})}function RL(t,e,n){return O(this,null,function*(){let r=t.O_.shift(),i=Ty.from(r,e,n);yield CT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fh(t)})}function NL(t,e){return O(this,null,function*(){e&&Wr(t).V_&&(yield function(r,i){return O(this,null,function*(){if(function(s){return QV(s)&&s!==F.ABORTED}(i.code)){let o=r.O_.shift();Wr(r).s_(),yield CT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fh(r)}})}(t,e)),DT(t)&&bT(t)})}function Ab(t,e){return O(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Ui(n);n.L_.add(3),yield mc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield hh(n)})}function PL(t,e){return O(this,null,function*(){let n=ae(t);e?(n.L_.delete(2),yield hh(n)):e||(n.L_.add(2),yield mc(n),n.q_.set("Unknown"))})}function gs(t){return t.K_||(t.K_=function(n,r,i){let o=ae(n);return o.w_(),new av(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CL.bind(null,t),Ro:DL.bind(null,t),mo:bL.bind(null,t),d_:TL.bind(null,t)}),t.B_.push(e=>O(this,null,function*(){e?(t.K_.s_(),Hv(t)?$v(t):t.q_.set("Unknown")):(yield t.K_.stop(),IT(t))}))),t.K_}function Wr(t){return t.U_||(t.U_=function(n,r,i){let o=ae(n);return o.w_(),new cv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xL.bind(null,t),mo:NL.bind(null,t),f_:ML.bind(null,t),g_:RL.bind(null,t)}),t.B_.push(e=>O(this,null,function*(){e?(t.U_.s_(),yield fh(t)):(yield t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var hv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qv(t,e){if(_r("AsyncQueue",`${e}: ${t}`),pc(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}var Gd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wd=class{constructor(){this.W_=new qe(J.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},hs=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Gd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var fv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},pv=class{constructor(){this.queries=xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ae(n),o=i.queries;i.queries=xb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}};function xb(){return new Gr(t=>Jb(t),uh)}function TT(t,e){return O(this,null,function*(){let n=ae(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=qv(s,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&zv(n)})}function ST(t,e){return O(this,null,function*(){let n=ae(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function kL(t,e){let n=ae(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&zv(n)}function OL(t,e,n){let r=ae(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function zv(t){t.Y_.forEach(e=>{e.next()})}var mv,Mb;(Mb=mv||(mv={})).ea="default",Mb.Cache="cache";var Kd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mv.Cache}};var Qd=class{constructor(e){this.key=e}},Zd=class{constructor(e){this.key=e}},gv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=Xb(e),this.Ra=new Gd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Wd,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=lh(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),D=!1;g&&v?g.data.isEqual(v.data)?A!==P&&(r.track({type:3,doc:v}),D=!0):this.ga(g,v)||(r.track({type:2,doc:v}),D=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!g&&v?(r.track({type:0,doc:v}),D=!0):g&&!v&&(r.track({type:1,doc:g}),D=!0,(u||l)&&(c=!0)),D&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,A){let P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return P(v)-P(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new hs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Zd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Qd(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},yv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},vv=class{constructor(e){this.key=e,this.va=!1}},_v=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Gr(c=>Jb(c),uh),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(J.comparator),this.Na=new Map,this.La=new sc,this.Ba={},this.ka=new Map,this.qa=oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function FL(t,e,n=!0){return O(this,null,function*(){let r=PT(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield AT(r,e,n,!0),i})}function VL(t,e){return O(this,null,function*(){let n=PT(t);yield AT(n,e,!0,!1)})}function AT(t,e,n,r){return O(this,null,function*(){let i=yield wL(t.localStore,Vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield LL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&wT(t.remoteStore,i),c})}function LL(t,e,n,r,i){return O(this,null,function*(){t.Ka=(p,g,v)=>function(P,D,L,R){return O(this,null,function*(){let $=D.view.ma(L);$.ns&&($=yield Sb(P.localStore,D.query,!1).then(({documents:C})=>D.view.ma(C,$)));let K=R&&R.targetChanges.get(D.targetId),Ce=R&&R.targetMismatches.get(D.targetId)!=null,ce=D.view.applyChanges($,P.isPrimaryClient,K,Ce);return Nb(P,D.targetId,ce.wa),ce.snapshot})}(t,p,g,v);let o=yield Sb(t.localStore,e,!0),s=new gv(e,o.Ts),c=s.ma(o.documents),u=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);Nb(t,n,l.wa);let h=new yv(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function jL(t,e,n){return O(this,null,function*(){let r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!uh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uv(r.remoteStore,i.targetId),wv(r,i.targetId)}).catch(fc))):(wv(r,i.targetId),yield nv(r.localStore,i.targetId,!0))})}function UL(t,e){return O(this,null,function*(){let n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uv(n.remoteStore,r.targetId))})}function BL(t,e,n){return O(this,null,function*(){let r=KL(t);try{let i=yield function(s,c){let u=ae(s),l=ut.now(),h=c.reduce((v,A)=>v.add(A.key),ye()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Er(),P=ye();return u.cs.getEntries(v,h).next(D=>{A=D,A.forEach((L,R)=>{R.isValidDocument()||(P=P.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(D=>{p=D;let L=[];for(let R of c){let $=KV(R,p.get(R.key).overlayedDocument);$!=null&&L.push(new Un(R.key,$,zb($.value.mapValue),$r.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,L,c)}).next(D=>{g=D;let L=D.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,D.batchId,L)})}).then(()=>({batchId:g.batchId,changes:tT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new qe(be)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield gc(r,i.changes),yield fh(r.remoteStore)}catch(i){let o=qv(i,"Failed to persist write");n.reject(o)}})}function xT(t,e){return O(this,null,function*(){let n=ae(t);try{let r=yield yL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ae(s.va):i.removedDocuments.size>0&&(Ae(s.va),s.va=!1))}),yield gc(n,r,e)}catch(r){yield fc(r)}})}function Rb(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=ae(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(c)&&(l=!0)}),l&&zv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $L(t,e,n){return O(this,null,function*(){let r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new qe(J.comparator);s=s.insert(o,pn.newNoDocument(o,ue.min()));let c=ye().add(o),u=new Od(ue.min(),new Map,new qe(be),s,c);yield xT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Gv(r)}else yield nv(r.localStore,e,!1).then(()=>wv(r,e,n)).catch(fc)})}function HL(t,e){return O(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield gL(n.localStore,e);RT(n,r,null),MT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gc(n,i)}catch(i){yield fc(i)}})}function qL(t,e,n){return O(this,null,function*(){let r=ae(t);try{let i=yield function(s,c){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ae(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);RT(r,e,n),MT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gc(r,i)}catch(i){yield fc(i)}})}function MT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function RT(t,e,n){let r=ae(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||NT(t,r)})}function NT(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Uv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Gv(t))}function Nb(t,e,n){for(let r of n)r instanceof Qd?(t.La.addReference(r.key,e),zL(t,r)):r instanceof Zd?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||NT(t,r.key)):ne()}function zL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Gv(t))}function Gv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new J(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new vv(n)),t.Oa=t.Oa.insert(n,r),wT(t.remoteStore,new ic(Vn(Vv(n.path)),r,"TargetPurposeLimboResolution",Bb.oe))}}function gc(t,e,n){return O(this,null,function*(){let r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Jy.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return O(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(l,g=>j.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>j.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!pc(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),A=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,P)}}})}(r.localStore,o))})}function GL(t,e){return O(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield vT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new q(F.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gc(n,r.hs)}})}function WL(t,e){let n=ae(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function PT(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$L.bind(null,e),e.Ca.d_=kL.bind(null,e.eventManager),e.Ca.$a=OL.bind(null,e.eventManager),e}function KL(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,e),e}var Pb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return O(this,null,function*(){this.serializer=dh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return mL(this.persistence,new ev,n.initialUser,this.serializer)}Ga(n){return new Qy(Yy.Zr,this.serializer)}Wa(n){return new rv}terminate(){return O(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var QL=(()=>{class t{initialize(n,r){return O(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GL.bind(null,this.syncEngine),yield PL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new pv}()}createDatastore(n){let r=dh(n.databaseInfo.databaseId),i=function(s){return new sv(s)}(n.databaseInfo);return function(s,c,u,l){return new uv(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new dv(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Rb(this.syncEngine,r,0),function(){return $d.D()?new $d:new iv}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let g=new _v(o,s,c,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return O(this,null,function*(){var n,r;yield function(o){return O(this,null,function*(){let s=ae(o);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield mc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Yd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ev=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>O(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>O(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=qv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Jg(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>O(this,null,function*(){r.isEqual(i)||(yield vT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function kb(t,e){return O(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ZL(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ab(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ab(e.remoteStore,i)),t._onlineComponents=e})}function ZL(t){return O(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;rs("Error using user provided cache. Falling back to memory cache: "+n),yield Jg(t,new Pb)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(t,new Pb);return t._offlineComponents})}function kT(t){return O(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield kb(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield kb(t,new QL))),t._onlineComponents})}function YL(t){return kT(t).then(e=>e.syncEngine)}function Iv(t){return O(this,null,function*(){let e=yield kT(t),n=e.eventManager;return n.onListen=FL.bind(null,e.syncEngine),n.onUnlisten=jL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UL.bind(null,e.syncEngine),n})}function JL(t,e,n={}){let r=new On;return t.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return function(o,s,c,u,l){let h=new Yd({next:g=>{h.Za(),s.enqueueAndForget(()=>ST(o,p)),g.fromCache&&u.source==="server"?l.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Kd(c,h,{includeMetadataChanges:!0,_a:!0});return TT(o,p)}(yield Iv(t),t.asyncQueue,e,n,r)})),r.promise}function OT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ob=new Map;function FT(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XL(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fb(t){if(!J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vb(t){if(J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ph(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ph(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Jd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Xg;switch(r.type){case"firstParty":return new ry(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ob.get(n);r&&(W("ComponentProvider","Removing Datastore"),Ob.delete(n),r.terminate())}(this),Promise.resolve()}};function VT(t,e,n,r={}){var i;let o=(t=vr(t,fs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ot.MOCK_USER;else{c=qc(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(l)}t._authCredentials=new ey(new Sd(c,u))}}var Kr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends Kr{constructor(e,n,r){super(e,n,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new J(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LT(t,e,...n){if(t=at(t),FT("collection","path",e),t instanceof fs){let r=Ue.fromString(e,...n);return Vb(r),new Hr(t,null,r)}{if(!(t instanceof Ot||t instanceof Hr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return Vb(r),new Hr(t.firestore,null,r)}}function Wv(t,e,...n){if(t=at(t),arguments.length===1&&(e=Ad.newId()),FT("doc","path",e),t instanceof fs){let r=Ue.fromString(e,...n);return Fb(r),new Ot(t,null,new J(r))}{if(!(t instanceof Ot||t instanceof Hr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return Fb(r),new Ot(t.firestore,t instanceof Hr?t.converter:null,new J(r))}}var Xd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hd(this,"async_queue_retry"),this.Vu=()=>{let r=Yg();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new On;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return O(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pc(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=hv.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return O(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function Lb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Qr=class extends fs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xd(e),this._firestoreClient=void 0,yield e}})}};function jT(t,e){let n=typeof t=="object"?t:ri(),r=typeof t=="string"?t:e||"(default)",i=Us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Hc("firestore");o&&VT(i,...o)}return i}function Kv(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e2(t),t._firestoreClient}function e2(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new cy(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ev(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var ac=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ps=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cc=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var lc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var t2=/^__.*__$/,Cv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Un(e,this.data,this.fieldMask,n,this.fieldTransforms):new Li(e,this.data,n,this.fieldTransforms)}},eh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Un(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function UT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var Dv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(UT(this.Cu)&&t2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},bv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Qu(e,n,r,i=!1){return new Dv({Cu:e,methodName:n,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qv(t){let e=t._freezeSettings(),n=dh(t._databaseId);return new bv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n2(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Zv("Data must be an object, but it was:",s,r);let c=BT(r,s),u,l;if(o.merge)u=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Tv(e,p,n);if(!s.contains(g))throw new q(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);HT(h,g)||h.push(g)}u=new nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Cv(new Ht(c),u,l)}var th=class t extends cc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function r2(t,e,n,r){let i=t.Qu(1,e,n);Zv("Data must be an object, but it was:",i,r);let o=[],s=Ht.empty();ji(r,(u,l)=>{let h=Yv(e,u,n);l=at(l);let p=i.Nu(h);if(l instanceof th)o.push(h);else{let g=yc(l,p);g!=null&&(o.push(h),s.set(h,g))}});let c=new nn(o);return new eh(s,c,i.fieldTransforms)}function i2(t,e,n,r,i,o){let s=t.Qu(1,e,n),c=[Tv(e,r,n)],u=[i];if(o.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)c.push(Tv(e,o[g])),u.push(o[g+1]);let l=[],h=Ht.empty();for(let g=c.length-1;g>=0;--g)if(!HT(l,c[g])){let v=c[g],A=u[g];A=at(A);let P=s.Nu(v);if(A instanceof th)l.push(v);else{let D=yc(A,P);D!=null&&(l.push(v),h.set(v,D))}}let p=new nn(l);return new eh(h,p,s.fieldTransforms)}function o2(t,e,n,r=!1){return yc(n,t.Qu(r?4:3,e))}function yc(t,e){if($T(t=at(t)))return Zv("Unsupported field value:",e,t),BT(t,e);if(t instanceof cc)return function(r,i){if(!UT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=yc(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:jd(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(i.serializer,o)}}if(r instanceof uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:dT(i.serializer,r._byteString)};if(r instanceof Ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lc)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Lv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ph(r)}`)}(t,e)}function BT(t,e){let n={};return $b(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{let o=yc(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof uc||t instanceof ac||t instanceof Ot||t instanceof cc||t instanceof lc)}function Zv(t,e,n){if(!$T(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ph(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tv(t,e,n){if((e=at(e))instanceof ps)return e._internalPath;if(typeof e=="string")return Yv(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}var s2=new RegExp("[~\\*/\\[\\]]");function Yv(t,e,n){if(e.search(s2)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ps(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new q(F.INVALID_ARGUMENT,c+t+u)}function HT(t,e){return t.some(n=>n.isEqual(e))}var rh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Sv=class extends rh{data(){return super.data()}};function mh(t,e){return typeof e=="string"?Yv(t,e):e instanceof ps?e._internalPath:e._delegate._internalPath}function qT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=class{},ih=class extends dc{};function zT(t,e,...n){let r=[];e instanceof dc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Av).length,c=o.filter(u=>u instanceof oh).length;if(s>1||s>0&&c>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var oh=class t extends ih{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return KT(e._query,n),new Kr(e.firestore,e.converter,Ey(e._query,n))}_parse(e){let n=Qv(e.firestore);return function(o,s,c,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ub(p,h);let v=[];for(let A of p)v.push(jb(u,o,A));g={arrayValue:{values:v}}}else g=jb(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ub(p,h),g=o2(c,s,p,h==="in"||h==="not-in");return Ye.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function GT(t,e,n){let r=e,i=mh("where",t);return oh._create(i,r,n)}var Av=class t extends dc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)KT(s,u),s=Ey(s,u)}(e._query,n),new Kr(e.firestore,e.converter,Ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xv=class t extends ih{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oi(o,s)}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new zr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function WT(t,e="asc"){let n=e,r=mh("orderBy",t);return xv._create(r,n)}function jb(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ue.fromString(n));if(!J.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lb(t,new J(r))}if(n instanceof Ot)return lb(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(n)}.`)}function Ub(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Mv=class{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ji(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Le(s.doubleValue));return new lc(o)}convertGeoPoint(e){return new uc(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){let n=wr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ue.fromString(e);Ae(yT(r));let i=new Nd(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||_r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function a2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sh=class extends rh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ns=class extends sh{data(e={}){return super.data(e)}},ah=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ns(this._firestore,this._userDataWriter,r.key,r,new Ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ri(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ri(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:c2(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function c2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}var hc=class extends Mv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function QT(t){t=vr(t,Kr);let e=vr(t.firestore,Qr),n=Kv(e),r=new hc(e);return qT(t._query),JL(n,t._query).then(i=>new ah(e,r,t,i))}function ZT(t,e,n,...r){t=vr(t,Ot);let i=vr(t.firestore,Qr),o=Qv(i),s;return s=typeof(e=at(e))=="string"||e instanceof ps?i2(o,"updateDoc",t._key,e,n,r):r2(o,"updateDoc",t._key,e),JT(i,[s.toMutation(t._key,$r.exists(!0))])}function YT(t,e){let n=vr(t.firestore,Qr),r=Wv(t),i=a2(t.converter,e);return JT(n,[n2(Qv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function Jv(t,...e){var n,r,i;t=at(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Lb(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Lb(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Ot)l=vr(t.firestore,Qr),h=Vv(t._key.path),u={next:p=>{e[s]&&e[s](u2(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=vr(t,Kr);l=vr(p.firestore,Qr),h=p._query;let g=new hc(l);u={next:v=>{e[s]&&e[s](new ah(l,g,p,v))},error:e[s+1],complete:e[s+2]},qT(t._query)}return function(g,v,A,P){let D=new Yd(P),L=new Kd(v,D,A);return g.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return TT(yield Iv(g),L)})),()=>{D.Za(),g.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return ST(yield Iv(g),L)}))}}(Kv(l),h,c,u)}function JT(t,e){return function(r,i){let o=new On;return r.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return BL(yield YL(r),i,o)})),o.promise}(Kv(t),e)}function u2(t,e,n){let r=n.docs.get(e._key),i=new hc(t);return new sh(t,i,e._key,r,new Ri(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ms=i})(Wc),ni(new ti("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Qr(new ty(r.getProvider("auth-internal")),new oy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ke(sb,"4.7.3",e),Ke(sb,"4.7.3","esm2017")})();var gh=function(){return gh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gh.apply(this,arguments)};var h2={includeMetadataChanges:!1};function XT(t,e){return e===void 0&&(e=h2),new de(function(n){var r=Jv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function eS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:gh(gh({},r),(n={},n[e.idField]=t.id,n))}function tS(t){return XT(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function nS(t,e){return e===void 0&&(e={}),tS(t).pipe(se(function(n){return n.map(function(r){return eS(r,e)})}))}var Ir=class{constructor(e){return e}},rS="firestore",Xv=class{constructor(){return Qo(rS)}};var e_=new G("angularfire2.firestore-instances");function f2(t,e){let n=qa(rS,t,e);return n&&new Ir(n)}function p2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ir(r)}}var m2={provide:Xv,deps:[[new mt,e_]]},g2={provide:Ir,useFactory:f2,deps:[[new mt,e_],gr]};function iS(t,...e){return Ke("angularfire",pr.full,"fst"),Tn([g2,m2,{provide:e_,useFactory:p2(t),multi:!0,deps:[Te,Rt,mr,Ai,[new mt,Ga],[new mt,Pn],...e]}])}var oS=Ve(nS,!0);var Bi=Ve(YT,!0);var At=Ve(LT,!0);var sS=Ve(Wv,!0);var $i=Ve(QT,!0);var yh=Ve(jT,!0);var aS=Ve(WT,!0);var vc=Ve(zT,!0);var cS=Ve(ZT,!0);var t_=Ve(GT,!0);var vh={projectId:"clinica-online-72196",appId:"1:198269879441:web:fb0ee5417ccd21c2bb2b30",storageBucket:"clinica-online-72196.appspot.com",apiKey:"AIzaSyDPl0hl_oNCDOaVam11831OJCtDZPZ2ri4",authDomain:"clinica-online-72196.firebaseapp.com",messagingSenderId:"198269879441"};var y2=new Map,v2={activated:!1,tokenObservers:[]},_2={initialized:!1,enabled:!1};function gn(t){return y2.get(t)||Object.assign({},v2)}function pS(){return _2}var w2="https://content-firebaseappcheck.googleapis.com/v1";var E2="exchangeDebugToken",lS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},EW=24*60*60*1e3;var r_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return O(this,null,function*(){this.stop();try{this.pending=new af,this.pending.promise.catch(n=>{}),yield I2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new af,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function I2(t){return new Promise(e=>{setTimeout(e,t)})}var C2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Zr=new T0("appCheck","AppCheck",C2);function mS(t){if(!gn(t).activated)throw Zr.create("use-before-activation",{appName:t.name})}function gS(r,i){return O(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(v){throw Zr.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw Zr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw Zr.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function yS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${w2}/projects/${n}/apps/${r}:${E2}?key=${i}`,body:{debug_token:e}}}var D2="firebase-app-check-database",b2=1,i_="firebase-app-check-store";var _h=null;function T2(){return _h||(_h=new Promise((t,e)=>{try{let n=indexedDB.open(D2,b2);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(i_,{keyPath:"compositeKey"})}}}catch(n){e(Zr.create("storage-open",{originalErrorMessage:n?.message}))}}),_h)}function S2(t,e){return A2(x2(t),e)}function A2(t,e){return O(this,null,function*(){let r=(yield T2()).transaction(i_,"readwrite"),o=r.objectStore(i_).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Zr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function x2(t){return`${t.options.appId}-${t.name}`}var o_=new Gc("@firebase/app-check");function n_(t,e){return cf()?S2(t,e).catch(n=>{o_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vS(){return pS().enabled}function _S(){return O(this,null,function*(){let t=pS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var M2={error:"UNKNOWN_ERROR"};function R2(t){return C0.encodeString(JSON.stringify(t),!1)}function s_(t,e=!1){return O(this,null,function*(){let n=t.app;mS(n);let r=gn(n),i=r.token,o;if(i&&!_c(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(_c(u)?i=u:yield n_(n,void 0))}if(!e&&i&&_c(i))return{token:i.token};let s=!1;if(vS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gS(yS(n,yield _S()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield n_(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield gn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?o_.warn(u.message):o_.error(u),o=u}let c;return i?o?_c(i)?c={token:i.token,internalError:o}:c=hS(o):(c={token:i.token},r.token=i,yield n_(n,i)):c=hS(o),s&&O2(n,c),c})}function N2(t){return O(this,null,function*(){let e=t.app;mS(e);let{provider:n}=gn(e);if(vS()){let r=yield _S(),{token:i}=yield gS(yS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function P2(t,e,n,r){let{app:i}=t,o=gn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_c(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),dS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dS(t))}function wS(t,e){let n=gn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dS(t){let{app:e}=t,n=gn(e),r=n.tokenRefresher;r||(r=k2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function k2(t){let{app:e}=t;return new r_(()=>O(this,null,function*(){let n=gn(e),r;if(n.token?r=yield s_(t,!0):r=yield s_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=gn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lS.RETRIAL_MIN_WAIT,lS.RETRIAL_MAX_WAIT)}function O2(t,e){let n=gn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _c(t){return t.expireTimeMillis-Date.now()>0}function hS(t){return{token:R2(M2),error:t}}var a_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=gn(this.app);for(let n of e)wS(this.app,n.next);return Promise.resolve()}};function F2(t,e){return new a_(t,e)}function V2(t){return{getToken:e=>s_(t,e),getLimitedUseToken:()=>N2(t),addTokenListener:e=>P2(t,"INTERNAL",e),removeTokenListener:e=>wS(t.app,e)}}var L2="@firebase/app-check",j2="0.8.8";var U2="app-check",fS="app-check-internal";function B2(){ni(new ti(U2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return F2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(fS).initialize()})),ni(new ti(fS,t=>{let e=t.getProvider("app-check").getImmediate();return V2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ke(L2,j2)}B2();var $2=["localhost","0.0.0.0","127.0.0.1"],PW=typeof window<"u"&&$2.includes(window.location.hostname);var q2="firebase",z2="10.14.1";ii.registerVersion(q2,z2,"app-compat");var G2=["ngOnDestroy"],IS=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(G2.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(c=>{let u=c?.[o];return typeof u=="function"?u.bind(c):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(c,u)=>s[u],apply:(c,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var c_=class{constructor(e){return e}},CS=new G("angularfire2.app.options"),DS=new G("angularfire2.app.name");function bS(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=ii.apps.filter(c=>c&&c.name===i.name)[0]||e.runOutsideAngular(()=>ii.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let c=!!module.hot;W2("error",`${s.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new c_(s)}var W2=(t,...e)=>{Tm()&&typeof console<"u"&&console[t](...e)};function TS(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===t)||[];if(o)return K2(i,s)||(ES("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Q2?" You may need to reload as Firebase is not HMR aware.":""}`),ES("warn",{is:i,was:s})),o;{let c=r();return globalThis.\u0275AngularfireInstanceCache.push([t,c,i]),c}}function K2(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Q2=typeof module<"u"&&!!module.hot,ES=(t,...e)=>{Tm()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Z2=new G("angularfire2.auth.use-emulator"),Y2=new G("angularfire2.auth.settings"),J2=new G("angularfire2.auth.tenant-id"),X2=new G("angularfire2.auth.langugage-code"),ej=new G("angularfire2.auth.use-device-language"),tj=new G("angularfire.auth.persistence"),nj=(t,e,n,r,i,o,s,c)=>TS(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return c&&u.setPersistence(c),u},[n,r,i,o,s,c]),SS=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,c,u,l,h,p,g,v){let A=new je,P=te(void 0).pipe(Lt(s.outsideAngular),Ge(()=>o.runOutsideAngular(()=>import("./chunk-P2MUXBAW.js"))),se(()=>bS(n,o,r)),se(D=>nj(D,o,c,l,h,p,u,g)),xu({bufferSize:1,refCount:!1}));if(ha(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=te(null);else{P.pipe(Gt()).subscribe();let D=P.pipe(Ge($=>$.getRedirectResult().then(K=>K,()=>null)),Ug,xu({bufferSize:1,refCount:!1})),L=P.pipe(Ge($=>new de(K=>({unsubscribe:o.runOutsideAngular(()=>$.onAuthStateChanged(Ce=>K.next(Ce),Ce=>K.error(Ce),()=>K.complete()))})))),R=P.pipe(Ge($=>new de(K=>({unsubscribe:o.runOutsideAngular(()=>$.onIdTokenChanged(Ce=>K.next(Ce),Ce=>K.error(Ce),()=>K.complete()))}))));this.authState=D.pipe(Ru(L),zt(s.outsideAngular),Lt(s.insideAngular)),this.user=D.pipe(Ru(R),zt(s.outsideAngular),Lt(s.insideAngular)),this.idToken=this.user.pipe(Ge($=>$?Me($.getIdToken()):te(null))),this.idTokenResult=this.user.pipe(Ge($=>$?Me($.getIdTokenResult()):te(null))),this.credential=kf(D,A,this.authState.pipe(Mt($=>!$))).pipe(se($=>$?.user?$:null),zt(s.outsideAngular),Lt(s.insideAngular))}return IS(this,P,o,{spy:{apply:(D,L,R)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&R.then($=>A.next($))}}})}static \u0275fac=function(r){return new(r||t)(ee(CS),ee(DS,8),ee(ln),ee(Te),ee(mr),ee(Z2,8),ee(Y2,8),ee(J2,8),ee(X2,8),ee(ej,8),ee(tj,8),ee(Pn,8))};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var kS="firebasestorage.googleapis.com",OS="storageBucket",rj=2*60*1e3,ij=10*60*1e3;var ze=class t extends zc{constructor(e,n,r=0){super(u_(e),`Firebase Storage: ${n} (${u_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},We=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(We||{});function u_(t){return"storage/"+t}function m_(){let t="An unknown error occurred, please check the error payload for server response.";return new ze(We.UNKNOWN,t)}function oj(t){return new ze(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sj(t){return new ze(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aj(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(We.UNAUTHENTICATED,t)}function cj(){return new ze(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uj(t){return new ze(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lj(){return new ze(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dj(){return new ze(We.CANCELED,"User canceled the upload/download.")}function hj(t){return new ze(We.INVALID_URL,"Invalid URL '"+t+"'.")}function fj(t){return new ze(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pj(){return new ze(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function mj(){return new ze(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gj(){return new ze(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yj(t){return new ze(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function l_(t){return new ze(We.INVALID_ARGUMENT,t)}function FS(){return new ze(We.APP_DELETED,"The Firebase app was deleted.")}function vj(t){return new ze(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ec(t,e){return new ze(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wc(t){throw new ze(We.INTERNAL_ERROR,"Internal error: "+t)}var yn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw fj(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(K){K.path_=decodeURIComponent(K.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),A={bucket:1,path:3},P=n===kS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",L=new RegExp(`^https?://${P}/${i}/${D}`,"i"),$=[{regex:c,indices:u,postModify:o},{regex:v,indices:A,postModify:l},{regex:L,indices:{bucket:1,path:2},postModify:l}];for(let K=0;K<$.length;K++){let Ce=$[K],ce=Ce.regex.exec(e);if(ce){let C=ce[Ce.indices.bucket],y=ce[Ce.indices.path];y||(y=""),r=new t(C,y),Ce.postModify(r);break}}if(r==null)throw hj(e);return r}},d_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function _j(t,e,n){let r=1,i=null,o=null,s=!1,c=0;function u(){return c===2}let l=!1;function h(...D){l||(l=!0,e.apply(null,D))}function p(D){i=setTimeout(()=>{i=null,t(v,u())},D)}function g(){o&&clearTimeout(o)}function v(D,...L){if(l){g();return}if(D){g(),h.call(null,D,...L);return}if(u()||s){g(),h.call(null,D,...L);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,p($)}let A=!1;function P(D){A||(A=!0,g(),!l&&(i!==null?(D||(c=2),clearTimeout(i),p(0)):D||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,P(!0)},n),P}function wj(t){t(!1)}function Ej(t){return t!==void 0}function Ij(t){return typeof t=="object"&&!Array.isArray(t)}function g_(t){return typeof t=="string"||t instanceof String}function AS(t){return y_()&&t instanceof Blob}function y_(){return typeof Blob<"u"}function xS(t,e,n,r){if(r<e)throw l_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw l_(`Invalid value for '${t}'. Expected ${n} or less.`)}function v_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VS(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var vs=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(vs||{});function Cj(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var h_=class{constructor(e,n,r,i,o,s,c,u,l,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ys(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===vs.NO_ERROR,u=o.getStatus();if(!c||Cj(u,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===vs.ABORT;r(!1,new ys(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ys(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());Ej(u)?o(u):o()}catch(u){s(u)}else if(c!==null){let u=m_();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(i.canceled){let u=this.appDelete_?FS():dj();s(u)}else{let u=lj();s(u)}};this.canceled_?n(!1,new ys(!1,null,!0)):this.backoffId_=_j(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ys=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Dj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Aj(t,e,n,r,i,o,s=!0){let c=VS(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return Tj(l,e),Dj(l,n),bj(l,o),Sj(l,r),new h_(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function xj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Mj(...t){let e=xj();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(y_())return new Blob(t);throw new ze(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Nj(t){if(typeof atob>"u")throw yj("base-64");return atob(t)}var Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ic=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Pj(t,e){switch(t){case Bn.RAW:return new Ic(LS(e));case Bn.BASE64:case Bn.BASE64URL:return new Ic(jS(t,e));case Bn.DATA_URL:return new Ic(Oj(e),Fj(e))}throw m_()}function LS(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kj(t){let e;try{e=decodeURIComponent(t)}catch{throw Ec(Bn.DATA_URL,"Malformed data URL.")}return LS(e)}function jS(t,e){switch(t){case Bn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ec(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ec(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Nj(e)}catch(i){throw i.message.includes("polyfill")?i:Ec(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Eh=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ec(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Vj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Oj(t){let e=new Eh(t);return e.base64?jS(Bn.BASE64,e.rest):kj(e.rest)}function Fj(t){return new Eh(t).contentType}function Vj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ih=class t{constructor(e,n){let r=0,i="";AS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AS(this.data_)){let r=this.data_,i=Rj(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(y_()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Mj.apply(null,n))}else{let n=e.map(s=>g_(s)?Pj(Bn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let c=0;c<s.length;c++)i[o++]=s[c]}),new t(i,!0)}}uploadData(){return this.data_}};function US(t){let e;try{e=JSON.parse(t)}catch{return null}return Ij(e)?e:null}function Lj(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jj(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BS(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Uj(t,e){return e}var lt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Uj}},wh=null;function Bj(t){return!g_(t)||t.length<2?t:BS(t)}function $S(){if(wh)return wh;let t=[];t.push(new lt("bucket")),t.push(new lt("generation")),t.push(new lt("metageneration")),t.push(new lt("name","fullPath",!0));function e(o,s){return Bj(s)}let n=new lt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new lt("size");return i.xform=r,t.push(i),t.push(new lt("timeCreated")),t.push(new lt("updated")),t.push(new lt("md5Hash",null,!0)),t.push(new lt("cacheControl",null,!0)),t.push(new lt("contentDisposition",null,!0)),t.push(new lt("contentEncoding",null,!0)),t.push(new lt("contentLanguage",null,!0)),t.push(new lt("contentType",null,!0)),t.push(new lt("metadata","customMetadata",!0)),wh=t,wh}function $j(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new yn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Hj(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return $j(r,t),r}function HS(t,e,n){let r=US(e);return r===null?null:Hj(t,r,n)}function qj(t,e,n,r){let i=US(e);if(i===null||!g_(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(l=>{let h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),v=v_(g,n,r),A=VS({alt:"media",token:l});return v+A})[0]}function zj(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Ch=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function qS(t){if(!t)throw m_()}function Gj(t,e){function n(r,i){let o=HS(t,i,e);return qS(o!==null),o}return n}function Wj(t,e){function n(r,i){let o=HS(t,i,e);return qS(o!==null),qj(o,i,t.host,t._protocol)}return n}function zS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cj():i=aj():n.getStatus()===402?i=sj(t.bucket):n.getStatus()===403?i=uj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Kj(t){let e=zS(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=oj(t.path)),o.serverResponse=i.serverResponse,o}return n}function Qj(t,e,n){let r=e.fullServerUrl(),i=v_(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,c=new Ch(i,o,Wj(t,n),s);return c.errorHandler=Kj(e),c}function Zj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yj(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zj(null,e)),r}function Jj(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let K=0;K<2;K++)$=$+Math.random().toString().slice(2);return $}let u=c();s["Content-Type"]="multipart/related; boundary="+u;let l=Yj(e,r,i),h=zj(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,g=`\r
--`+u+"--",v=Ih.getBlob(p,r,g);if(v===null)throw mj();let A={name:l.fullPath},P=v_(o,t.host,t._protocol),D="POST",L=t.maxUploadRetryTime,R=new Ch(P,D,Gj(t,n),L);return R.urlParams=A,R.headers=s,R.body=v.uploadData(),R.errorHandler=zS(e),R}var a7=256*1024;var MS=null,f_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},p_=class extends f_{initXhr(){this.xhr_.responseType="text"}};function GS(){return MS?MS():new p_}var _s=class t{constructor(e,n){this._service=e,n instanceof yn?this._location=n:this._location=yn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BS(this._location.path)}get storage(){return this._service}get parent(){let e=Lj(this._location.path);if(e===null)return null;let n=new yn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vj(e)}};function Xj(t,e,n){t._throwIfRoot("uploadBytes");let r=Jj(t.storage,t._location,$S(),new Ih(e,!0),n);return t.storage.makeRequestWithTokens(r,GS).then(i=>({metadata:i,ref:t}))}function eU(t){t._throwIfRoot("getDownloadURL");let e=Qj(t.storage,t._location,$S());return t.storage.makeRequestWithTokens(e,GS).then(n=>{if(n===null)throw gj();return n})}function tU(t,e){let n=jj(t._location.path,e),r=new yn(t._location.bucket,n);return new _s(t.storage,r)}function nU(t){return/^[A-Za-z]+:\/\//.test(t)}function rU(t,e){return new _s(t,e)}function WS(t,e){if(t instanceof Cc){let n=t;if(n._bucket==null)throw pj();let r=new _s(n,n._bucket);return e!=null?WS(r,e):r}else return e!==void 0?tU(t,e):t}function iU(t,e){if(e&&nU(e)){if(t instanceof Cc)return rU(t,e);throw l_("To use ref(service, url), the first argument must be a Storage instance.")}else return WS(t,e)}function RS(t,e){let n=e?.[OS];return n==null?null:yn.makeFromBucketSpec(n,t)}function oU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qc(i,t.app.options.projectId))}var Cc=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=kS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rj,this._maxUploadRetryTime=ij,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=RS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=RS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return O(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return O(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new d_(FS());{let s=Aj(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return O(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},NS="@firebase/storage",PS="0.13.2";var KS="storage";function QS(t,e,n){return t=at(t),Xj(t,e,n)}function ZS(t){return t=at(t),eU(t)}function YS(t,e){return t=at(t),iU(t,e)}function JS(t=ri(),e){t=at(t);let r=Us(t,KS).getImmediate({identifier:e}),i=Hc("storage");return i&&XS(r,...i),r}function XS(t,e,n,r={}){oU(t,e,n,r)}function sU(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Cc(n,r,i,e,Wc)}function aU(){ni(new ti(KS,sU,"PUBLIC").setMultipleInstances(!0)),Ke(NS,PS,""),Ke(NS,PS,"esm2017")}aU();var eA=Ve(ZS,!0);var tA=Ve(JS,!0);var nA=Ve(YS,!0);var rA=Ve(QS,!0);var $n=class t{app;firestore;auth;storage;usuarioActual=null;constructor(){this.app=_d(vh),this.firestore=yh(this.app),this.auth=wd(this.app),this.storage=tA(this.app),this.initializeAuthListener()}initializeAuthListener(){tb(this.auth,e=>{this.usuarioActual=e})}getUsuarioActual(){return this.usuarioActual}getUsuarioLogeado(){return H(SS).authState}logIn(e,n){return O(this,null,function*(){try{yield rb(this.auth,e,n);let r=this.auth.currentUser;if(r&&!r.emailVerified)throw new Error("Email no verificado")}catch(r){throw r}})}registro(e,n){return O(this,null,function*(){try{yield eb(this.auth,e,n)}catch(r){throw r}})}sendEmailVerification(){return O(this,null,function*(){let e=this.getUsuarioActual();e&&(yield nb(e))})}subirImagen(e,n){return O(this,null,function*(){let r=nA(this.storage,n);return yield rA(r,e),yield eA(r)})}getAdminEmails(){return O(this,null,function*(){let e=[],n=At(this.firestore,"administradores");return(yield $i(n)).forEach(i=>{let o=i.data();o.mail&&e.push(o.mail)}),e})}traerEspecialistas(){return O(this,null,function*(){let e=[],n=At(this.firestore,"especialistas");return(yield $i(n)).forEach(i=>{let o=i.data();e.push({nombre:o.nombre,apellido:o.apellido,edad:o.edad,dni:o.dni,especialidad:o.especialidad,mail:o.mail,imagenPerfil:o.imagenPerfil,validado:o.validado})}),e})}traerPacientes(){return O(this,null,function*(){let e=[],n=At(this.firestore,"pacientes");return(yield $i(n)).forEach(i=>{let o=i.data();e.push({nombre:o.nombre,apellido:o.apellido,edad:o.edad,dni:o.dni,mail:o.mail,obraSocial:o.obraSocial,imagenesPerfil:o.imagenesPerfil})}),e})}traerAdministradores(){return O(this,null,function*(){let e=[],n=At(this.firestore,"administradores");return(yield $i(n)).forEach(i=>{let o=i.data();e.push({nombre:o.nombre,apellido:o.apellido,edad:o.edad,dni:o.dni,mail:o.mail,imagenPerfil:o.imagenPerfil})}),e})}actualizarValidacionEspecialista(e){return O(this,null,function*(){try{let n=At(this.firestore,"especialistas"),r=yield $i(vc(n,t_("mail","==",e.mail)));if(!r.empty){let i=r.docs[0],o=sS(this.firestore,"especialistas",i.id);yield cS(o,{validado:e.validado})}}catch(n){console.error("Error al actualizar la validaci\xF3n del especialista:",n)}})}verificarEspecialista(e){return O(this,null,function*(){let n=At(this.firestore,"especialistas"),r=yield $i(vc(n,t_("mail","==",e)));return r.empty?null:r.docs[0].data().validado})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})};var rn=class t{_loading=new Xe(!1);loading$=this._loading.asObservable();minLoadingTime=300;loadingTimeout;show(){this._loading.next(!0),clearTimeout(this.loadingTimeout)}hide(){this.loadingTimeout=setTimeout(()=>{this._loading.next(!1)},this.minLoadingTime)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Q({token:t,factory:t.\u0275fac,providedIn:"root"})};function cU(t,e){if(t&1&&(T(0,"div",16),M(1),E()),t&2){let n=Ee();k(),Fe(" ",n.error," ")}}function uU(t,e){if(t&1){let n=kt();T(0,"div",17),we("click",function(){let i=rt(n).$implicit,o=Ee();return it(o.accesoRapido(i.mail,i.contrasenia))}),oe(1,"img",18),E()}if(t&2){let n=e.$implicit;k(),V("src",n.img,dn)}}var bh=class t{constructor(e,n,r,i){this.router=e;this.firestore=n;this.firebaseService=r;this.loadingService=i}email="";contrasenia="";error="";exito=!0;usuariosAccesoRapido=[{mail:"xokel95564@aleitar.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/admin.webp?alt=media&token=b7611617-3491-4cfc-bf71-a7df1d655d33"},{mail:"kimone4072@edectus.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/imagenes%2Fespecialista-portrait-3157821__340.webp?alt=media&token=625cf766-a9e5-44d9-8fba-1097d915934f"},{mail:"jibolek858@cironex.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/imagenes%2Fespecialista-persona-origen-indio-divirtiendose_23-2150285283.webp?alt=media&token=623cccd4-9a2a-44a7-8333-3f52c08b5b50"},{mail:"pewalot838@gianes.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/imagenes%2Fpaciente_photo-1560250097-0b93528c311a.webp?alt=media&token=796bc9a8-620a-4a28-be80-a766f94dc721"},{mail:"wabeco5114@anypng.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/imagenes%2Fpaciente-portrait-of-a-smiling-latin-woman-in-a-garden.webp?alt=media&token=c6e1ae46-9f97-4917-92f9-4fcd01a4f77f"},{mail:"wikayi9678@cironex.com",contrasenia:"123456",img:"https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/imagenes%2Fpaciente-chico-guapo-seguro-posando-contra-pared-blanca_176420-32936.webp?alt=media&token=f63087e3-d771-4759-883e-95f42f59bc73"}];logIn(){return O(this,null,function*(){this.loadingService.show();try{yield this.firebaseService.logIn(this.email,this.contrasenia);let e=yield this.firebaseService.verificarEspecialista(this.email);if(e===!1){this.error="La cuenta debe ser validada por un administrador.",this.exito=!1;return}else if(e===null){this.router.navigate(["/home"]);return}let n=At(this.firestore,"logins"),r={usuario:this.email};yield Bi(n,r),this.router.navigate(["/home"])}catch(e){this.exito=!1,e.message==="Email no verificado"?this.error="Verifique su correo":this.error="Correo electr\xF3nico o contrase\xF1a inv\xE1lidos"}finally{this.loadingService.hide()}})}irARegistro(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/registro"])}finally{this.loadingService.hide()}})}accesoRapido(e,n){this.email=e,this.contrasenia=n}static \u0275fac=function(n){return new(n||t)(z(Nn),z(Ir),z($n),z(rn))};static \u0275cmp=gt({type:t,selectors:[["app-login"]],standalone:!0,features:[yt],decls:24,vars:4,consts:[[1,"login-container"],[1,"header-title"],[1,"login-title"],[3,"ngSubmit"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["for","contrasenia"],["type","password","id","contrasenia","name","contrasenia","placeholder","Contrase\xF1a","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["type","submit",1,"btn-login"],["type","button",1,"btn-registro",3,"click"],["class","error-mensaje",4,"ngIf"],[1,"sample-users"],[1,"user-icons"],["class","user-icon",3,"click",4,"ngFor","ngForOf"],[1,"error-mensaje"],[1,"user-icon",3,"click"],[3,"src"]],template:function(n,r){n&1&&(T(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"Acceso a la clinica"),E()(),T(4,"form",3),we("ngSubmit",function(){return r.logIn()}),T(5,"div",4)(6,"label",5),M(7,"Email"),E(),T(8,"input",6),xl("ngModelChange",function(o){return Em(r.email,o)||(r.email=o),o}),E()(),T(9,"div",4)(10,"label",7),M(11,"Contrase\xF1a"),E(),T(12,"input",8),xl("ngModelChange",function(o){return Em(r.contrasenia,o)||(r.contrasenia=o),o}),E()(),T(13,"div",9)(14,"button",10),M(15,"Ingresar"),E(),T(16,"button",11),we("click",function(){return r.irARegistro()}),M(17,"Registrarse"),E()(),X(18,cU,2,1,"div",12),E(),T(19,"div",13)(20,"h3"),M(21,"Acceso Rapido"),E(),T(22,"div",14),X(23,uU,2,1,"div",15),E()()()),n&2&&(k(8),Al("ngModel",r.email),k(4),Al("ngModel",r.contrasenia),k(6),V("ngIf",!r.exito),k(5),V("ngForOf",r.usuariosAccesoRapido))},dependencies:[gd,pd,Wo,ld,dd,Lg,kg,Pg,hn,Ro,Mn],styles:[".login-container[_ngcontent-%COMP%]{width:500px;background-color:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 8px #0000001a;box-sizing:border-box;margin-top:1rem}.header-title[_ngcontent-%COMP%]{margin-bottom:2rem}.login-title[_ngcontent-%COMP%]{color:#6e6e6e;font-size:1.8rem;font-weight:500;margin-bottom:2rem;letter-spacing:.5px}.input-group[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative;width:100%}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#2c3e50;font-size:1rem;margin-bottom:.5rem;font-weight:400}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e0e0e0;border-radius:4px;font-size:1rem;color:#2c3e50;background-color:#fff;box-sizing:border-box}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#95a5a6}.button-group[_ngcontent-%COMP%]{margin-top:2rem}.btn-login[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;border:none;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;width:auto;min-width:100px}.btn-login[_ngcontent-%COMP%]:hover{background-color:#2573a7}.btn-registro[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;border:none;margin-left:10.45rem;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;width:auto;min-width:100px}.btn-registro[_ngcontent-%COMP%]:hover{background-color:#2573a7}.error-mensaje[_ngcontent-%COMP%]{margin-top:1rem;text-align:center;color:#e74c3c;font-size:.9rem}.sample-users[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.sample-users[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#6e6e6e;margin-bottom:1rem}.user-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.user-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;cursor:pointer;transition:transform .3s}.user-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var Th=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-bienvenida"]],standalone:!0,features:[yt],decls:7,vars:0,consts:[[1,"header"],["src","https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/clinica.png?alt=media&token=4976059d-b5cf-4f30-a3af-3cd8693ae1a9","alt","Logo de la Cl\xEDnica",1,"logo"],[1,"titulo-header"],[1,"imagen-fondo"],[1,"overlay"]],template:function(n,r){n&1&&(T(0,"div",0),oe(1,"img",1),T(2,"h1",2),M(3,"Cl\xEDnica Online"),E()(),T(4,"div",3)(5,"div",4),oe(6,"app-login"),E()())},dependencies:[gd,bh],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:50px;height:auto;margin-right:1rem}.header[_ngcontent-%COMP%]   .titulo-header[_ngcontent-%COMP%]{font-size:1.8rem;font-family:Roboto,sans-serif;color:#1900ff;font-weight:700}.imagen-fondo[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/clinica-fondo.jpg?alt=media&token=f2a17f55-d347-46c2-a73b-2b7f656f916c);background-size:contain;background-position:center;height:65vh;width:100%;position:relative}.imagen-fondo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:#0066ff4d;width:100%;height:100%;position:relative}.imagen-fondo[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   app-login[_ngcontent-%COMP%]{position:absolute;top:5px;right:120px;z-index:1}"]})};var Sh=class{nombre;apellido;edad;dni;mail;especialidad;imagenPerfil;validado;constructor(e,n,r,i,o,s,c,u){this.nombre=e,this.apellido=n,this.edad=r,this.dni=i,this.mail=o,this.especialidad=s,this.imagenPerfil=c,this.validado=u}};var Ah=class{nombre;apellido;edad;dni;mail;obraSocial;imagenesPerfil;constructor(e,n,r,i,o,s,c){this.nombre=e,this.apellido=n,this.edad=r,this.dni=i,this.mail=o,this.obraSocial=s,this.imagenesPerfil=c}};var xh=class{nombre;apellido;edad;dni;mail;imagenPerfil;constructor(e,n,r,i,o,s){this.nombre=e,this.apellido=n,this.edad=r,this.dni=i,this.mail=o,this.imagenPerfil=s}};function lU(t,e){if(t&1){let n=kt();T(0,"button",10),we("click",function(){rt(n);let i=Ee();return it(i.seleccionarAdmin())}),E()}}function dU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre es requerido."),E()())}function hU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre solo puede contener letras."),E()())}function fU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido es requerido."),E()())}function pU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido solo puede contener letras."),E()())}function mU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad es requerida."),E()())}function gU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad debe ser de al menos 18 a\xF1os."),E()())}function yU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad no puede exceder los 99 a\xF1os."),E()())}function vU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI es requerido."),E()())}function _U(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI debe tener entre 7 y 8 d\xEDgitos."),E()())}function wU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La obra social es requerida."),E()())}function EU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La obra social solo puede contener letras."),E()())}function IU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email es requerido."),E()())}function CU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email debe ser v\xE1lido."),E()())}function DU(t,e){t&1&&(T(0,"div",31)(1,"small",31),M(2,"Este email ya est\xE1 en uso."),E()())}function bU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a es requerida."),E()())}function TU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a debe tener al menos 6 caracteres."),E()())}function SU(t,e){if(t&1&&oe(0,"img",25),t&2){let n=Ee(2);V("src",n.imagen1URL,dn)}}function AU(t,e){t&1&&(ca(),T(0,"svg",26),oe(1,"g",32)(2,"g",33),E())}function xU(t,e){t&1&&(T(0,"span"),M(1,"Seleccione la primera imagen"),E())}function MU(t,e){if(t&1&&oe(0,"img",25),t&2){let n=Ee(2);V("src",n.imagen2URL,dn)}}function RU(t,e){t&1&&(ca(),T(0,"svg",26),oe(1,"g",32)(2,"g",33),E())}function NU(t,e){t&1&&(T(0,"span"),M(1,"Seleccione la segunda imagen"),E())}function PU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"Las im\xE1genes de perfil son requeridas."),E()())}function kU(t,e){if(t&1){let n=kt();T(0,"div",11)(1,"h2"),M(2,"Registro de Paciente"),E(),T(3,"form",12),we("ngSubmit",function(){rt(n);let i=Ee();return it(i.registrarPaciente())}),T(4,"label"),M(5,"Nombre:"),E(),oe(6,"input",13),X(7,dU,3,0,"div",14)(8,hU,3,0,"div",14),T(9,"label"),M(10,"Apellido:"),E(),oe(11,"input",15),X(12,fU,3,0,"div",14)(13,pU,3,0,"div",14),T(14,"label"),M(15,"Edad:"),E(),oe(16,"input",16),X(17,mU,3,0,"div",14)(18,gU,3,0,"div",14)(19,yU,3,0,"div",14),T(20,"label"),M(21,"DNI:"),E(),oe(22,"input",17),X(23,vU,3,0,"div",14)(24,_U,3,0,"div",14),T(25,"label"),M(26,"Obra Social:"),E(),oe(27,"input",18),X(28,wU,3,0,"div",14)(29,EU,3,0,"div",14),T(30,"label"),M(31,"Email:"),E(),oe(32,"input",19),X(33,IU,3,0,"div",14)(34,CU,3,0,"div",14)(35,DU,3,0,"div",20),T(36,"label"),M(37,"Contrase\xF1a:"),E(),oe(38,"input",21),X(39,bU,3,0,"div",14)(40,TU,3,0,"div",14),T(41,"div",22)(42,"label",23)(43,"div",24),X(44,SU,1,1,"img",25)(45,AU,3,0,":svg:svg",26),E(),T(46,"div",27),X(47,xU,2,0,"span"),E(),T(48,"input",28),we("input",function(i){rt(n);let o=Ee();return it(o.obtenerImagen(i,1,"paciente"))}),E()(),T(49,"label",23)(50,"div",24),X(51,MU,1,1,"img",25)(52,RU,3,0,":svg:svg",26),E(),T(53,"div",27),X(54,NU,2,0,"span"),E(),T(55,"input",29),we("input",function(i){rt(n);let o=Ee();return it(o.obtenerImagen(i,2,"paciente"))}),E()()(),X(56,PU,3,0,"div",14),T(57,"button",30),M(58,"Registrar Paciente"),E()()()}if(t&2){let n,r,i,o,s,c,u,l,h,p,g,v,A,P,D,L,R=Ee();k(3),V("formGroup",R.pacienteForm),k(4),V("ngIf",((n=R.pacienteForm.get("nombre"))==null?null:n.hasError("required"))&&((n=R.pacienteForm.get("nombre"))==null?null:n.touched)),k(),V("ngIf",((r=R.pacienteForm.get("nombre"))==null?null:r.hasError("pattern"))&&((r=R.pacienteForm.get("nombre"))==null?null:r.touched)),k(4),V("ngIf",((i=R.pacienteForm.get("apellido"))==null?null:i.hasError("required"))&&((i=R.pacienteForm.get("apellido"))==null?null:i.touched)),k(),V("ngIf",((o=R.pacienteForm.get("apellido"))==null?null:o.hasError("pattern"))&&((o=R.pacienteForm.get("apellido"))==null?null:o.touched)),k(4),V("ngIf",((s=R.pacienteForm.get("edad"))==null?null:s.hasError("required"))&&((s=R.pacienteForm.get("edad"))==null?null:s.touched)),k(),V("ngIf",((c=R.pacienteForm.get("edad"))==null?null:c.hasError("min"))&&((c=R.pacienteForm.get("edad"))==null?null:c.touched)),k(),V("ngIf",((u=R.pacienteForm.get("edad"))==null?null:u.hasError("max"))&&((u=R.pacienteForm.get("edad"))==null?null:u.touched)),k(4),V("ngIf",((l=R.pacienteForm.get("dni"))==null?null:l.hasError("required"))&&((l=R.pacienteForm.get("dni"))==null?null:l.touched)),k(),V("ngIf",((h=R.pacienteForm.get("dni"))==null?null:h.hasError("pattern"))&&((h=R.pacienteForm.get("dni"))==null?null:h.touched)),k(4),V("ngIf",((p=R.pacienteForm.get("obraSocial"))==null?null:p.hasError("required"))&&((p=R.pacienteForm.get("obraSocial"))==null?null:p.touched)),k(),V("ngIf",((g=R.pacienteForm.get("obraSocial"))==null?null:g.hasError("pattern"))&&((g=R.pacienteForm.get("obraSocial"))==null?null:g.touched)),k(4),V("ngIf",((v=R.pacienteForm.get("mail"))==null?null:v.hasError("required"))&&((v=R.pacienteForm.get("mail"))==null?null:v.touched)),k(),V("ngIf",((A=R.pacienteForm.get("mail"))==null?null:A.hasError("email"))&&((A=R.pacienteForm.get("mail"))==null?null:A.touched)),k(),V("ngIf",R.emailEnUso),k(4),V("ngIf",((P=R.pacienteForm.get("contrasenia"))==null?null:P.hasError("required"))&&((P=R.pacienteForm.get("contrasenia"))==null?null:P.touched)),k(),V("ngIf",((D=R.pacienteForm.get("contrasenia"))==null?null:D.hasError("minlength"))&&((D=R.pacienteForm.get("contrasenia"))==null?null:D.touched)),k(4),ur(R.imagen1URL?44:45),k(3),ur(R.imagen1URL?-1:47),k(4),ur(R.imagen2URL?51:52),k(3),ur(R.imagen2URL?-1:54),k(2),V("ngIf",((L=R.pacienteForm.get("imagenesPerfil"))==null?null:L.hasError("required"))&&((L=R.pacienteForm.get("imagenesPerfil"))==null?null:L.touched)),k(),V("disabled",!R.pacienteForm.valid)}}function OU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre es requerido."),E()())}function FU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre solo puede contener letras."),E()())}function VU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido es requerido."),E()())}function LU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido solo puede contener letras."),E()())}function jU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad es requerida."),E()())}function UU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad debe ser de al menos 18 a\xF1os."),E()())}function BU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad no puede exceder los 99 a\xF1os."),E()())}function $U(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI es requerido."),E()())}function HU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI debe tener entre 7 y 8 d\xEDgitos."),E()())}function qU(t,e){if(t&1&&(T(0,"option",41),M(1),E()),t&2){let n=e.$implicit;V("value",n),k(),wm(n)}}function zU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La especialidad es requerida."),E()())}function GU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email es requerido."),E()())}function WU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email debe ser v\xE1lido."),E()())}function KU(t,e){t&1&&(T(0,"div",31)(1,"small",31),M(2,"Este email ya est\xE1 en uso."),E()())}function QU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a es requerida."),E()())}function ZU(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a debe tener al menos 6 caracteres."),E()())}function YU(t,e){if(t&1&&oe(0,"img",25),t&2){let n=Ee(2);V("src",n.imagen1URL,dn)}}function JU(t,e){t&1&&(ca(),T(0,"svg",26),oe(1,"g",32)(2,"g",33),E())}function XU(t,e){t&1&&(T(0,"span"),M(1,"Seleccione una imagen"),E())}function eB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La imagen de perfil es requerida."),E()())}function tB(t,e){if(t&1){let n=kt();T(0,"div",34)(1,"h2"),M(2,"Registro de Especialista"),E(),T(3,"form",12),we("ngSubmit",function(){rt(n);let i=Ee();return it(i.registrarEspecialista())}),T(4,"label"),M(5,"Nombre:"),E(),oe(6,"input",13),X(7,OU,3,0,"div",14)(8,FU,3,0,"div",14),T(9,"label"),M(10,"Apellido:"),E(),oe(11,"input",15),X(12,VU,3,0,"div",14)(13,LU,3,0,"div",14),T(14,"label"),M(15,"Edad:"),E(),oe(16,"input",16),X(17,jU,3,0,"div",14)(18,UU,3,0,"div",14)(19,BU,3,0,"div",14),T(20,"label"),M(21,"DNI:"),E(),oe(22,"input",17),X(23,$U,3,0,"div",14)(24,HU,3,0,"div",14),T(25,"label"),M(26,"Selecciona Especialidad:"),E(),T(27,"select",35)(28,"option",36),M(29,"Seleccione una especialidad"),E(),X(30,qU,2,2,"option",37),E(),X(31,zU,3,0,"div",14),T(32,"label"),M(33,"Agregar nueva especialidad:"),E(),oe(34,"input",38),T(35,"button",39),we("click",function(){rt(n);let i=Ee();return it(i.agregarEspecialidad())}),M(36,"A\xF1adir"),E(),T(37,"label"),M(38,"Email:"),E(),oe(39,"input",19),X(40,GU,3,0,"div",14)(41,WU,3,0,"div",14)(42,KU,3,0,"div",20),T(43,"label"),M(44,"Contrase\xF1a:"),E(),oe(45,"input",21),X(46,QU,3,0,"div",14)(47,ZU,3,0,"div",14),T(48,"label",23)(49,"div",24),X(50,YU,1,1,"img",25)(51,JU,3,0,":svg:svg",26),E(),T(52,"div",27),X(53,XU,2,0,"span"),E(),T(54,"input",40,0),we("input",function(i){rt(n);let o=Ee();return it(o.obtenerImagen(i,1,"especialista"))}),E()(),X(56,eB,3,0,"div",14),T(57,"button",30),M(58,"Registrar Especialista"),E()()()}if(t&2){let n,r,i,o,s,c,u,l,h,p,g,v,A,P,D,L,R=Ee();k(3),V("formGroup",R.especialistaForm),k(4),V("ngIf",((n=R.especialistaForm.get("nombre"))==null?null:n.hasError("required"))&&((n=R.especialistaForm.get("nombre"))==null?null:n.touched)),k(),V("ngIf",((r=R.especialistaForm.get("nombre"))==null?null:r.hasError("pattern"))&&((r=R.especialistaForm.get("nombre"))==null?null:r.touched)),k(4),V("ngIf",((i=R.especialistaForm.get("apellido"))==null?null:i.hasError("required"))&&((i=R.especialistaForm.get("apellido"))==null?null:i.touched)),k(),V("ngIf",((o=R.especialistaForm.get("apellido"))==null?null:o.hasError("pattern"))&&((o=R.especialistaForm.get("apellido"))==null?null:o.touched)),k(4),V("ngIf",((s=R.especialistaForm.get("edad"))==null?null:s.hasError("required"))&&((s=R.especialistaForm.get("edad"))==null?null:s.touched)),k(),V("ngIf",((c=R.especialistaForm.get("edad"))==null?null:c.hasError("min"))&&((c=R.especialistaForm.get("edad"))==null?null:c.touched)),k(),V("ngIf",((u=R.especialistaForm.get("edad"))==null?null:u.hasError("max"))&&((u=R.especialistaForm.get("edad"))==null?null:u.touched)),k(4),V("ngIf",((l=R.especialistaForm.get("dni"))==null?null:l.hasError("required"))&&((l=R.especialistaForm.get("dni"))==null?null:l.touched)),k(),V("ngIf",((h=R.especialistaForm.get("dni"))==null?null:h.hasError("pattern"))&&((h=R.especialistaForm.get("dni"))==null?null:h.touched)),k(6),V("ngForOf",R.especialidades),k(),V("ngIf",((p=R.especialistaForm.get("especialidad"))==null?null:p.hasError("required"))&&((p=R.especialistaForm.get("especialidad"))==null?null:p.touched)),k(4),V("disabled",!((g=R.especialistaForm.get("nuevaEspecialidad"))!=null&&g.value)),k(5),V("ngIf",((v=R.especialistaForm.get("mail"))==null?null:v.hasError("required"))&&((v=R.especialistaForm.get("mail"))==null?null:v.touched)),k(),V("ngIf",((A=R.especialistaForm.get("mail"))==null?null:A.hasError("email"))&&((A=R.especialistaForm.get("mail"))==null?null:A.touched)),k(),V("ngIf",R.emailEnUso),k(4),V("ngIf",((P=R.especialistaForm.get("contrasenia"))==null?null:P.hasError("required"))&&((P=R.especialistaForm.get("contrasenia"))==null?null:P.touched)),k(),V("ngIf",((D=R.especialistaForm.get("contrasenia"))==null?null:D.hasError("minlength"))&&((D=R.especialistaForm.get("contrasenia"))==null?null:D.touched)),k(3),ur(R.imagen1URL?50:51),k(3),ur(R.imagen1URL?-1:53),k(3),V("ngIf",((L=R.especialistaForm.get("imagenPerfil"))==null?null:L.hasError("required"))&&((L=R.especialistaForm.get("imagenPerfil"))==null?null:L.touched)),k(),V("disabled",!R.especialistaForm.valid)}}function nB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre es requerido."),E()())}function rB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El nombre solo puede contener letras."),E()())}function iB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido es requerido."),E()())}function oB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El apellido solo puede contener letras."),E()())}function sB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad es requerida."),E()())}function aB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad debe ser de al menos 18 a\xF1os."),E()())}function cB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La edad no puede exceder los 99 a\xF1os."),E()())}function uB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI es requerido."),E()())}function lB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El DNI debe tener entre 7 y 8 d\xEDgitos."),E()())}function dB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email es requerido."),E()())}function hB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"El email debe ser v\xE1lido."),E()())}function fB(t,e){t&1&&(T(0,"div",31)(1,"small",31),M(2,"Este email ya est\xE1 en uso."),E()())}function pB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a es requerida."),E()())}function mB(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La contrase\xF1a debe tener al menos 6 caracteres."),E()())}function gB(t,e){if(t&1&&oe(0,"img",25),t&2){let n=Ee(2);V("src",n.imagen1URL,dn)}}function yB(t,e){t&1&&(ca(),T(0,"svg",26),oe(1,"g",32)(2,"g",33),E())}function vB(t,e){t&1&&(T(0,"span"),M(1,"Seleccione una imagen"),E())}function _B(t,e){t&1&&(T(0,"div")(1,"small",31),M(2,"La imagen de perfil es requerida."),E()())}function wB(t,e){if(t&1){let n=kt();T(0,"div",42)(1,"h2"),M(2,"Registro de Administrador"),E(),T(3,"form",12),we("ngSubmit",function(){rt(n);let i=Ee();return it(i.registrarAdmin())}),T(4,"label"),M(5,"Nombre:"),E(),oe(6,"input",13),X(7,nB,3,0,"div",14)(8,rB,3,0,"div",14),T(9,"label"),M(10,"Apellido:"),E(),oe(11,"input",15),X(12,iB,3,0,"div",14)(13,oB,3,0,"div",14),T(14,"label"),M(15,"Edad:"),E(),oe(16,"input",16),X(17,sB,3,0,"div",14)(18,aB,3,0,"div",14)(19,cB,3,0,"div",14),T(20,"label"),M(21,"DNI:"),E(),oe(22,"input",17),X(23,uB,3,0,"div",14)(24,lB,3,0,"div",14),T(25,"label"),M(26,"Email:"),E(),oe(27,"input",19),X(28,dB,3,0,"div",14)(29,hB,3,0,"div",14)(30,fB,3,0,"div",20),T(31,"label"),M(32,"Contrase\xF1a:"),E(),oe(33,"input",21),X(34,pB,3,0,"div",14)(35,mB,3,0,"div",14),T(36,"label",23)(37,"div",24),X(38,gB,1,1,"img",25)(39,yB,3,0,":svg:svg",26),E(),T(40,"div",27),X(41,vB,2,0,"span"),E(),T(42,"input",40,0),we("input",function(i){rt(n);let o=Ee();return it(o.obtenerImagen(i,1,"administrador"))}),E()(),X(44,_B,3,0,"div",14),T(45,"button",30),M(46,"Registrar Administrador"),E()()()}if(t&2){let n,r,i,o,s,c,u,l,h,p,g,v,A,P,D=Ee();k(3),V("formGroup",D.adminForm),k(4),V("ngIf",((n=D.adminForm.get("nombre"))==null?null:n.hasError("required"))&&((n=D.adminForm.get("nombre"))==null?null:n.touched)),k(),V("ngIf",((r=D.adminForm.get("nombre"))==null?null:r.hasError("pattern"))&&((r=D.adminForm.get("nombre"))==null?null:r.touched)),k(4),V("ngIf",((i=D.adminForm.get("apellido"))==null?null:i.hasError("required"))&&((i=D.adminForm.get("apellido"))==null?null:i.touched)),k(),V("ngIf",((o=D.adminForm.get("apellido"))==null?null:o.hasError("pattern"))&&((o=D.adminForm.get("apellido"))==null?null:o.touched)),k(4),V("ngIf",((s=D.adminForm.get("edad"))==null?null:s.hasError("required"))&&((s=D.adminForm.get("edad"))==null?null:s.touched)),k(),V("ngIf",((c=D.adminForm.get("edad"))==null?null:c.hasError("min"))&&((c=D.adminForm.get("edad"))==null?null:c.touched)),k(),V("ngIf",((u=D.adminForm.get("edad"))==null?null:u.hasError("max"))&&((u=D.adminForm.get("edad"))==null?null:u.touched)),k(4),V("ngIf",((l=D.adminForm.get("dni"))==null?null:l.hasError("required"))&&((l=D.adminForm.get("dni"))==null?null:l.touched)),k(),V("ngIf",((h=D.adminForm.get("dni"))==null?null:h.hasError("pattern"))&&((h=D.adminForm.get("dni"))==null?null:h.touched)),k(4),V("ngIf",((p=D.adminForm.get("mail"))==null?null:p.hasError("required"))&&((p=D.adminForm.get("mail"))==null?null:p.touched)),k(),V("ngIf",((g=D.adminForm.get("mail"))==null?null:g.hasError("email"))&&((g=D.adminForm.get("mail"))==null?null:g.touched)),k(),V("ngIf",D.emailEnUso),k(4),V("ngIf",((v=D.adminForm.get("contrasenia"))==null?null:v.hasError("required"))&&((v=D.adminForm.get("contrasenia"))==null?null:v.touched)),k(),V("ngIf",((A=D.adminForm.get("contrasenia"))==null?null:A.hasError("minlength"))&&((A=D.adminForm.get("contrasenia"))==null?null:A.touched)),k(3),ur(D.imagen1URL?38:39),k(3),ur(D.imagen1URL?-1:41),k(3),V("ngIf",((P=D.adminForm.get("imagenPerfil"))==null?null:P.hasError("required"))&&((P=D.adminForm.get("imagenPerfil"))==null?null:P.touched)),k(),V("disabled",!D.adminForm.valid)}}function EB(t,e){if(t&1&&(T(0,"div",43),M(1),E()),t&2){let n=Ee();k(),Fe(" ",n.mensajeVerificacion,`
`)}}var Mh=class t{constructor(e,n,r,i,o){this.router=e;this.firestore=n;this.firebaseService=r;this.fb=i;this.loadingService=o;this.pacienteForm=this.fb.group({nombre:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],apellido:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],edad:["",[Y.required,Y.min(1),Y.max(99),Y.pattern(/^[0-9]+$/)]],dni:["",[Y.required,Y.pattern(/^\d{7,8}$/)]],obraSocial:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],mail:["",[Y.required,Y.email]],contrasenia:["",[Y.required,Y.minLength(6)]],imagenesPerfil:[null,Y.required]}),this.especialistaForm=this.fb.group({nombre:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],apellido:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],edad:["",[Y.required,Y.min(18),Y.max(99),Y.pattern(/^[0-9]+$/)]],dni:["",[Y.required,Y.pattern(/^\d{7,8}$/)]],especialidad:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],nuevaEspecialidad:[""],mail:["",[Y.required,Y.email]],contrasenia:["",[Y.required,Y.minLength(6)]],imagenPerfil:[null,Y.required]}),this.adminForm=this.fb.group({nombre:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],apellido:["",[Y.required,Y.pattern(/^[A-Za-zÀ-ÿ\s]+$/)]],edad:["",[Y.required,Y.min(1),Y.max(99),Y.pattern(/^[0-9]+$/)]],dni:["",[Y.required,Y.pattern(/^\d{7,8}$/)]],mail:["",[Y.required,Y.email]],contrasenia:["",[Y.required,Y.minLength(6)]],imagenPerfil:[null,Y.required]}),this.cargarEspecialidades()}seleccionPaciente=!1;seleccionEspecialista=!1;pacienteForm;especialistaForm;especialidades=[];subscripcion;nuevaEspecialidad="";mensajeVerificacion="";mostrarMensaje=!1;imagen1URL="";imagen2URL="";emailEnUso=!1;isAdmin=!1;adminForm;seleccionAdmin=!1;ngOnInit(){return O(this,null,function*(){let e=this.firebaseService.getUsuarioActual();if(e){let n=yield this.firebaseService.getAdminEmails();this.isAdmin=n.includes(e.email||"")}})}cargarEspecialidades(){let e=At(this.firestore,"especialidades"),n=vc(e,aS("especialidad"));this.subscripcion=oS(n).subscribe(r=>{this.especialidades=r.map(i=>i.especialidad)})}agregarEspecialidad(){return O(this,null,function*(){let e=At(this.firestore,"especialidades"),n={especialidad:this.especialistaForm.value.nuevaEspecialidad.trim()};try{yield Bi(e,n),this.especialistaForm.patchValue({nuevaEspecialidad:""})}catch(r){console.log(r)}})}seleccionarPaciente(){this.seleccionPaciente=!0,this.seleccionEspecialista=!1,this.isAdmin&&(this.seleccionAdmin=!1),this.limpiarFormularioPaciente()}seleccionarEspecialista(){this.seleccionPaciente=!1,this.seleccionEspecialista=!0,this.isAdmin&&(this.seleccionAdmin=!1),this.limpiarFormularioEspecialista()}seleccionarAdmin(){this.seleccionAdmin=!0,this.seleccionEspecialista=!1,this.seleccionPaciente=!1,this.limpiarFormularioAdmin()}registrarPaciente(){return O(this,null,function*(){if(this.pacienteForm.valid){this.emailEnUso=!1,this.loadingService.show();try{let e=this.pacienteForm.value.imagenesPerfil;yield this.firebaseService.registro(this.pacienteForm.value.mail,this.pacienteForm.value.contrasenia);let n=new Ah(this.pacienteForm.value.nombre,this.pacienteForm.value.apellido,this.pacienteForm.value.edad,this.pacienteForm.value.dni,this.pacienteForm.value.mail,this.pacienteForm.value.obraSocial,e),r=At(this.firestore,"pacientes");yield Bi(r,B({},n)),yield this.firebaseService.sendEmailVerification(),this.mostrarMensaje=!0,this.mensajeVerificacion="Se ha enviado un correo de verificaci\xF3n.",setTimeout(()=>{this.mostrarMensaje=!1},3e3),this.limpiarFormularioPaciente()}catch(e){e.code==="auth/email-already-in-use"&&(this.emailEnUso=!0)}finally{this.loadingService.hide()}}})}registrarEspecialista(){return O(this,null,function*(){if(this.especialistaForm.valid){this.emailEnUso=!1,this.loadingService.show();try{let e=this.especialistaForm.value.imagenPerfil;yield this.firebaseService.registro(this.especialistaForm.value.mail,this.especialistaForm.value.contrasenia);let n=new Sh(this.especialistaForm.value.nombre,this.especialistaForm.value.apellido,this.especialistaForm.value.edad,this.especialistaForm.value.dni,this.especialistaForm.value.mail,this.especialistaForm.value.especialidad,e,!1),r=At(this.firestore,"especialistas");yield Bi(r,B({},n)),yield this.firebaseService.sendEmailVerification(),this.mostrarMensaje=!0,this.mensajeVerificacion="Se ha enviado un correo de verificaci\xF3n.",setTimeout(()=>{this.mostrarMensaje=!1},3e3),this.limpiarFormularioEspecialista()}catch(e){e.code==="auth/email-already-in-use"&&(this.emailEnUso=!0)}finally{this.loadingService.hide()}}})}registrarAdmin(){return O(this,null,function*(){if(this.adminForm.valid){this.emailEnUso=!1,this.loadingService.show();try{let e=this.adminForm.value.imagenPerfil;yield this.firebaseService.registro(this.adminForm.value.mail,this.adminForm.value.contrasenia);let n=new xh(this.adminForm.value.nombre,this.adminForm.value.apellido,this.adminForm.value.edad,this.adminForm.value.dni,this.adminForm.value.mail,e),r=At(this.firestore,"administradores");yield Bi(r,B({},n)),yield this.firebaseService.sendEmailVerification(),this.mostrarMensaje=!0,this.mensajeVerificacion="Se ha enviado un correo de verificaci\xF3n.",setTimeout(()=>{this.mostrarMensaje=!1},3e3),this.limpiarFormularioAdmin()}catch(e){e.code==="auth/email-already-in-use"&&(this.emailEnUso=!0)}finally{this.loadingService.hide()}}})}obtenerImagen(e,n,r="paciente"){return O(this,null,function*(){let i=e.target.files[0];if(i)try{let o=new FileReader;o.onload=u=>{r==="paciente"?n===1?this.imagen1URL=u.target.result:n===2&&(this.imagen2URL=u.target.result):r==="especialista"?this.imagen1URL=u.target.result:r==="administrador"&&(this.imagen1URL=u.target.result)},o.readAsDataURL(i);let s=`imagenes/${r}-${i.name}`,c=yield this.firebaseService.subirImagen(i,s);if(r==="paciente"){let l=[...this.pacienteForm.get("imagenesPerfil")?.value||[]];l[n-1]=c,this.pacienteForm.patchValue({imagenesPerfil:l})}else r==="especialista"?this.especialistaForm.patchValue({imagenPerfil:c}):r==="administrador"&&this.adminForm.patchValue({imagenPerfil:c})}catch(o){console.error("Error al cargar la imagen:",o)}})}limpiarFormularioPaciente(){this.pacienteForm.reset(),this.imagen1URL="",this.imagen2URL="";let e=document.getElementById("perfil1"),n=document.getElementById("perfil2");e&&(e.value=""),n&&(n.value="")}limpiarFormularioEspecialista(){this.especialistaForm.reset(),this.imagen1URL="";let e=document.getElementById("perfil");e&&(e.value="")}limpiarFormularioAdmin(){this.adminForm.reset(),this.imagen1URL="";let e=document.getElementById("perfil");e&&(e.value="")}IrABienvenida(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/bienvenida"])}finally{this.loadingService.hide()}})}IrAUsuarios(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/usuarios"])}finally{this.loadingService.hide()}})}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe()}static \u0275fac=function(n){return new(n||t)(z(Nn),z(Ir),z($n),z(KD),z(rn))};static \u0275cmp=gt({type:t,selectors:[["app-registro"]],standalone:!0,features:[yt],decls:10,vars:5,consts:[["fileInput",""],[1,"botones-seleccion-container"],[1,"boton-paciente",3,"click"],[1,"boton-especialista",3,"click"],["class","boton-administrador",3,"click",4,"ngIf"],[1,"boton-volver","btn-volver",3,"click"],["class","formulario-paciente",4,"ngIf"],["class","formulario-especialista",4,"ngIf"],["class","formulario-administrador",4,"ngIf"],["class","mensaje-verificacion",4,"ngIf"],[1,"boton-administrador",3,"click"],[1,"formulario-paciente"],[3,"ngSubmit","formGroup"],["formControlName","nombre","type","text"],[4,"ngIf"],["formControlName","apellido","type","text"],["formControlName","edad","type","number"],["formControlName","dni","type","text"],["formControlName","obraSocial","type","text"],["formControlName","mail","type","email"],["class","error-message",4,"ngIf"],["formControlName","contrasenia","type","password"],[1,"imagenes-perfil-container"],[1,"custum-file-upload"],[1,"icon"],[2,"width","125px","height","100px",3,"src"],["xmlns","http://www.w3.org/2000/svg","fill","","viewBox","0 0 24 24"],[1,"text"],["required","","name","imagen1","type","file","id","perfil1","accept","image/*",3,"input"],["required","","name","imagen2","type","file","id","perfil2","accept","image/*",3,"input"],["type","submit",3,"disabled"],[1,"error-message"],["stroke-width","0","id","SVGRepo_bgCarrier"],["stroke-linejoin","round","stroke-linecap","round"],[1,"formulario-especialista"],["formControlName","especialidad"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","nuevaEspecialidad","type","text","placeholder","Ingrese nueva especialidad"],["type","button",1,"boton-anadir",3,"click","disabled"],["type","file","id","perfil","accept","image/*",3,"input"],[3,"value"],[1,"formulario-administrador"],[1,"mensaje-verificacion"]],template:function(n,r){n&1&&(T(0,"div",1)(1,"button",2),we("click",function(){return r.seleccionarPaciente()}),E(),T(2,"button",3),we("click",function(){return r.seleccionarEspecialista()}),E(),X(3,lU,1,0,"button",4),T(4,"button",5),we("click",function(){return r.isAdmin?r.IrAUsuarios():r.IrABienvenida()}),M(5," \u2190 "),E()(),X(6,kU,59,23,"div",6)(7,tB,59,22,"div",7)(8,wB,47,19,"div",8)(9,EB,2,1,"div",9)),n&2&&(k(3),V("ngIf",r.isAdmin),k(3),V("ngIf",r.seleccionPaciente),k(),V("ngIf",r.seleccionEspecialista),k(),V("ngIf",r.seleccionAdmin),k(),V("ngIf",r.mostrarMensaje))},dependencies:[QD,pd,qD,GD,Wo,Og,md,ld,dd,Fg,Vg,hn,Ro,Mn],styles:[".botones-seleccion-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem;gap:1rem}.formulario-paciente[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;max-width:500px;margin:2rem auto;padding:2rem}.formulario-paciente[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:1.5rem}.formulario-paciente[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.formulario-paciente[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#34495e;margin-bottom:.25rem}.formulario-paciente[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #cbd5e1;border-radius:4px;font-size:1rem;transition:border-color .3s}.formulario-paciente[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .formulario-especialista[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .formulario-administrador[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2980b9;box-shadow:0 0 0 2px #2980b91a}.formulario-paciente[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;padding:.75rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s;margin-top:1rem}.formulario-paciente[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover, .formulario-especialista[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover, .formulario-administrador[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#1f6392}.formulario-paciente[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled, .formulario-especialista[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled, .formulario-administrador[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.boton-anadir[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;padding:.5rem 1.5rem;border:none;border-radius:4px;font-size:.9rem;cursor:pointer;transition:background-color .3s;align-self:center}.boton-anadir[_ngcontent-%COMP%]:hover{background-color:#1f6392}.boton-anadir[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.formulario-especialista[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #cbd5e1;border-radius:4px;font-size:1rem;transition:border-color .3s;outline:none}.formulario-especialista[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#2980b9;box-shadow:0 0 0 2px #2980b91a}.error-message[_ngcontent-%COMP%]{color:red;font-size:.8rem;margin-top:.25rem}.btn-volver[_ngcontent-%COMP%]{position:absolute;background-color:#ff3636;color:#fff;border:none;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;width:auto;min-width:100px;text-align:center;left:10px;top:10px}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#ff4747}.mensaje-verificacion[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#2980b9;color:#fff;padding:20px;border-radius:5px;z-index:1000}.boton-especialista[_ngcontent-%COMP%]{width:80px;height:80px;border:none;border-radius:50%;background-image:url(https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/especialista.webp?alt=media&token=cc39bd5a-6c87-4a6a-a990-b29c1859af40);background-size:cover;background-position:center;cursor:pointer;transition:transform .2s}.boton-especialista[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.boton-paciente[_ngcontent-%COMP%]{width:80px;height:80px;border:none;border-radius:50%;background-image:url(https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/paciente.webp?alt=media&token=f2ab856a-da67-4110-9ffb-e17cb9f66626);background-size:cover;background-position:center;cursor:pointer;transition:transform .2s}.boton-paciente[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.boton-administrador[_ngcontent-%COMP%]{width:80px;height:80px;border:none;border-radius:50%;background-image:url(https://firebasestorage.googleapis.com/v0/b/clinica-online-72196.appspot.com/o/administrador.webp?alt=media&token=92f4d6a6-73fa-4890-9566-58dc6dd03d6c);background-size:cover;background-position:center;cursor:pointer;transition:transform .2s}.boton-administrador[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.sample-users[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.sample-users[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6e6e6e;font-size:1.2rem;margin-bottom:1rem}.user-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.user-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;width:80px;text-align:center}.user-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;border:2px solid #2980b9;transition:transform .3s}.user-icon[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.user-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2c3e50;font-size:.9rem;margin-top:.5rem}.imagenes-perfil-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-top:1rem}.custum-file-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:125px;margin:0;cursor:pointer}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:125px;height:100px;display:flex;align-items:center;justify-content:center;border:2px dashed #cbd5e1;border-radius:50%;overflow:hidden;padding:2px}.custum-file-upload[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.custum-file-upload[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.85rem;color:#555}.custum-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.formulario-especialista[_ngcontent-%COMP%]   .custum-file-upload[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   .custum-file-upload[_ngcontent-%COMP%]{margin:0 auto}.formulario-paciente[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:.75rem}.formulario-paciente[_ngcontent-%COMP%]   .imagenes-perfil-container[_ngcontent-%COMP%], .formulario-especialista[_ngcontent-%COMP%]   .custum-file-upload[_ngcontent-%COMP%], .formulario-administrador[_ngcontent-%COMP%]   .custum-file-upload[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}"]})};function IB(t,e){if(t&1){let n=kt();T(0,"button",2),we("click",function(){rt(n);let i=Ee();return it(i.irAUsuarios())}),M(1,"Usuarios"),E()}}var Rh=class t{constructor(e,n,r){this.router=e;this.firebaseService=n;this.loadingService=r}isAdmin=!1;ngOnInit(){return O(this,null,function*(){let e=this.firebaseService.getUsuarioActual();if(e){let n=yield this.firebaseService.getAdminEmails();this.isAdmin=n.includes(e.email||"")}})}irAUsuarios(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/usuarios"])}finally{this.loadingService.hide()}})}static \u0275fac=function(n){return new(n||t)(z(Nn),z($n),z(rn))};static \u0275cmp=gt({type:t,selectors:[["app-home"]],standalone:!0,features:[yt],decls:2,vars:1,consts:[[1,"button-container"],["class","usuarios-btn","type","button",3,"click",4,"ngIf"],["type","button",1,"usuarios-btn",3,"click"]],template:function(n,r){n&1&&(T(0,"div",0),X(1,IB,2,0,"button",1),E()),n&2&&(k(),V("ngIf",r.isAdmin))},dependencies:[hn,Mn],styles:[".usuarios-btn[_ngcontent-%COMP%]{background-color:#2980b9;color:#fff;border:none;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;width:auto;min-width:100px}.usuarios-btn[_ngcontent-%COMP%]:hover{background-color:#2573a7}.button-container[_ngcontent-%COMP%]{position:absolute;right:10px}"]})};function CB(t,e){if(t&1){let n=kt();T(0,"li",12),we("click",function(){let i=rt(n).$implicit,o=Ee();return it(o.seleccionarEspecialista(i))}),M(1),E()}if(t&2){let n=e.$implicit,r=Ee();Vr("selected",r.especialistaSeleccionado===n),k(),ua(" ",n.nombre," ",n.apellido," ")}}function DB(t,e){if(t&1){let n=kt();T(0,"li",12),we("click",function(){let i=rt(n).$implicit,o=Ee();return it(o.seleccionarPaciente(i))}),M(1),E()}if(t&2){let n=e.$implicit,r=Ee();Vr("selected",r.pacienteSeleccionado===n),k(),ua(" ",n.nombre," ",n.apellido," ")}}function bB(t,e){if(t&1){let n=kt();T(0,"li",12),we("click",function(){let i=rt(n).$implicit,o=Ee();return it(o.seleccionarAdministrador(i))}),M(1),E()}if(t&2){let n=e.$implicit,r=Ee();Vr("selected",r.administradorSeleccionado===n),k(),ua(" ",n.nombre," ",n.apellido," ")}}function TB(t,e){t&1&&(T(0,"span"),M(1,"\u2714"),E())}function SB(t,e){t&1&&(T(0,"span"),M(1,"\u2718"),E())}function AB(t,e){if(t&1){let n=kt();T(0,"div",13)(1,"h2"),M(2,"Detalles del Especialista"),E(),T(3,"p")(4,"strong"),M(5,"Nombre:"),E(),M(6),E(),T(7,"p")(8,"strong"),M(9,"Apellido:"),E(),M(10),E(),T(11,"p")(12,"strong"),M(13,"Edad:"),E(),M(14),E(),T(15,"p")(16,"strong"),M(17,"DNI:"),E(),M(18),E(),T(19,"p")(20,"strong"),M(21,"Especialidad:"),E(),M(22),E(),T(23,"p")(24,"strong"),M(25,"Email:"),E(),M(26),E(),T(27,"div",14),oe(28,"img",15),E(),T(29,"div",16)(30,"span",17),M(31,"Validado:"),E(),T(32,"div",18),we("click",function(){rt(n);let i=Ee();return it(i.toggleValidado(i.especialistaSeleccionado))}),X(33,TB,2,0,"span",19)(34,SB,2,0,"span",19),E()()()}if(t&2){let n=Ee();k(6),Fe(" ",n.especialistaSeleccionado.nombre,""),k(4),Fe(" ",n.especialistaSeleccionado.apellido,""),k(4),Fe(" ",n.especialistaSeleccionado.edad,""),k(4),Fe(" ",n.especialistaSeleccionado.dni,""),k(4),Fe(" ",n.especialistaSeleccionado.especialidad,""),k(4),Fe(" ",n.especialistaSeleccionado.mail,""),k(2),V("src",n.especialistaSeleccionado.imagenPerfil,dn),k(4),V("ngClass",n.especialistaSeleccionado.validado?"validado-true":"validado-false"),k(),V("ngIf",n.especialistaSeleccionado.validado),k(),V("ngIf",!n.especialistaSeleccionado.validado)}}function xB(t,e){if(t&1&&(T(0,"div",14),oe(1,"img",24),E()),t&2){let n=e.$implicit;k(),V("src",n,dn)}}function MB(t,e){if(t&1&&(T(0,"div",22),X(1,xB,2,1,"div",23),E()),t&2){let n=Ee(2);k(),V("ngForOf",n.pacienteSeleccionado.imagenesPerfil)}}function RB(t,e){if(t&1&&(T(0,"div",20)(1,"h2"),M(2,"Detalles del Paciente"),E(),T(3,"p")(4,"strong"),M(5,"Nombre:"),E(),M(6),E(),T(7,"p")(8,"strong"),M(9,"Apellido:"),E(),M(10),E(),T(11,"p")(12,"strong"),M(13,"Edad:"),E(),M(14),E(),T(15,"p")(16,"strong"),M(17,"DNI:"),E(),M(18),E(),T(19,"p")(20,"strong"),M(21,"Email:"),E(),M(22),E(),T(23,"p")(24,"strong"),M(25,"Obra Social:"),E(),M(26),E(),X(27,MB,2,1,"div",21),E()),t&2){let n=Ee();k(6),Fe(" ",n.pacienteSeleccionado.nombre,""),k(4),Fe(" ",n.pacienteSeleccionado.apellido,""),k(4),Fe(" ",n.pacienteSeleccionado.edad,""),k(4),Fe(" ",n.pacienteSeleccionado.dni,""),k(4),Fe(" ",n.pacienteSeleccionado.mail,""),k(4),Fe(" ",n.pacienteSeleccionado.obraSocial,""),k(),V("ngIf",n.pacienteSeleccionado.imagenesPerfil&&n.pacienteSeleccionado.imagenesPerfil.length>0)}}function NB(t,e){if(t&1&&(T(0,"div",25)(1,"h2"),M(2,"Detalles del Administrador"),E(),T(3,"p")(4,"strong"),M(5,"Nombre:"),E(),M(6),E(),T(7,"p")(8,"strong"),M(9,"Apellido:"),E(),M(10),E(),T(11,"p")(12,"strong"),M(13,"Edad:"),E(),M(14),E(),T(15,"p")(16,"strong"),M(17,"DNI:"),E(),M(18),E(),T(19,"p")(20,"strong"),M(21,"Email:"),E(),M(22),E(),T(23,"div",14),oe(24,"img",26),E()()),t&2){let n=Ee();k(6),Fe(" ",n.administradorSeleccionado.nombre,""),k(4),Fe(" ",n.administradorSeleccionado.apellido,""),k(4),Fe(" ",n.administradorSeleccionado.edad,""),k(4),Fe(" ",n.administradorSeleccionado.dni,""),k(4),Fe(" ",n.administradorSeleccionado.mail,""),k(2),V("src",n.administradorSeleccionado.imagenPerfil,dn)}}var Nh=class t{constructor(e,n,r){this.firebaseService=e;this.loadingService=n;this.router=r}especialistas=[];especialistaSeleccionado=null;pacientes=[];pacienteSeleccionado=null;administradores=[];administradorSeleccionado=null;ngOnInit(){return O(this,null,function*(){this.especialistas=yield this.firebaseService.traerEspecialistas(),this.pacientes=yield this.firebaseService.traerPacientes(),this.administradores=yield this.firebaseService.traerAdministradores()})}seleccionarEspecialista(e){this.especialistaSeleccionado=e,this.pacienteSeleccionado=null,this.administradorSeleccionado=null}toggleValidado(e){e.validado=!e.validado,this.firebaseService.actualizarValidacionEspecialista(e)}seleccionarPaciente(e){this.pacienteSeleccionado=e,this.especialistaSeleccionado=null,this.administradorSeleccionado=null}seleccionarAdministrador(e){this.administradorSeleccionado=e,this.especialistaSeleccionado=null,this.pacienteSeleccionado=null}irARegistro(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/registro"])}finally{this.loadingService.hide()}})}IrAHome(){return O(this,null,function*(){this.loadingService.show();try{yield this.router.navigate(["/home"])}finally{this.loadingService.hide()}})}static \u0275fac=function(n){return new(n||t)(z($n),z(rn),z(Nn))};static \u0275cmp=gt({type:t,selectors:[["app-usuarios"]],standalone:!0,features:[yt],decls:25,vars:6,consts:[[1,"btn-volver",3,"click"],["type","button",1,"usuarios-btn",3,"click"],[1,"container"],[1,"list-container"],[1,"especialistas-list"],["class","list-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"pacientes-list"],[1,"administradores-list"],[1,"details-container"],["class","especialista-detalle",4,"ngIf"],["class","paciente-detalle",4,"ngIf"],["class","administrador-detalle",4,"ngIf"],[1,"list-item",3,"click"],[1,"especialista-detalle"],[1,"profile-image-container"],["alt","Imagen de perfil",1,"profile-image",3,"src"],[1,"validacion-container"],[1,"validacion-text"],[1,"validacion",3,"click","ngClass"],[4,"ngIf"],[1,"paciente-detalle"],["class","profile-images-container",4,"ngIf"],[1,"profile-images-container"],["class","profile-image-container",4,"ngFor","ngForOf"],["alt","Imagen de perfil del paciente",1,"profile-image",3,"src"],[1,"administrador-detalle"],["alt","Imagen de perfil del administrador",1,"profile-image",3,"src"]],template:function(n,r){n&1&&(T(0,"button",0),we("click",function(){return r.IrAHome()}),M(1,"\u2190"),E(),T(2,"button",1),we("click",function(){return r.irARegistro()}),M(3,"Agregar Usuarios"),E(),T(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2"),M(8,"Especialistas"),E(),T(9,"ul"),X(10,CB,2,4,"li",5),E()(),T(11,"div",6)(12,"h2"),M(13,"Pacientes"),E(),T(14,"ul"),X(15,DB,2,4,"li",5),E()(),T(16,"div",7)(17,"h2"),M(18,"Administradores"),E(),T(19,"ul"),X(20,bB,2,4,"li",5),E()()(),T(21,"div",8),X(22,AB,35,10,"div",9)(23,RB,28,7,"div",10)(24,NB,25,6,"div",11),E()()),n&2&&(k(10),V("ngForOf",r.especialistas),k(5),V("ngForOf",r.pacientes),k(5),V("ngForOf",r.administradores),k(2),V("ngIf",r.especialistaSeleccionado),k(),V("ngIf",r.pacienteSeleccionado),k(),V("ngIf",r.administradorSeleccionado))},dependencies:[hn,wC,Ro,Mn],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:60px;margin-left:40px}.usuarios-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#2980b9;color:#fff;border:none;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;min-width:100px}.usuarios-btn[_ngcontent-%COMP%]:hover{background-color:#2573a7}.list-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.especialistas-list[_ngcontent-%COMP%], .pacientes-list[_ngcontent-%COMP%], .administradores-list[_ngcontent-%COMP%]{background-color:#f4f4f4;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:20px}.list-item[_ngcontent-%COMP%]{cursor:pointer;padding:10px;border-radius:5px;transition:background-color .3s}.list-item.selected[_ngcontent-%COMP%], .list-item[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.details-container[_ngcontent-%COMP%]{flex:1;margin-left:40px}.especialista-detalle[_ngcontent-%COMP%], .paciente-detalle[_ngcontent-%COMP%], .administrador-detalle[_ngcontent-%COMP%]{background-color:#f4f4f4;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:20px}.profile-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.profile-image[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:10px}.profile-images-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:10px}.validacion-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.validacion-text[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.validacion[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.5rem;color:#fff;border-radius:5px}.validado-true[_ngcontent-%COMP%]{background-color:green}.validado-false[_ngcontent-%COMP%]{background-color:red}.btn-volver[_ngcontent-%COMP%]{position:absolute;background-color:#ff3636;color:#fff;border:none;padding:.75rem 2rem;font-size:1rem;border-radius:4px;cursor:pointer;transition:background-color .3s;width:auto;min-width:100px;text-align:center;left:10px;top:10px}.btn-volver[_ngcontent-%COMP%]:hover{background-color:#ff4747}"]})};var iA=[{path:"",redirectTo:"bienvenida",pathMatch:"full"},{path:"bienvenida",component:Th},{path:"registro",component:Mh},{path:"home",component:Rh},{path:"usuarios",component:Nh}];var oA={providers:[sC({eventCoalescing:!0}),hD(iA),YD(()=>_d(vh)),XD(()=>wd()),iS(()=>yh())]};function PB(t,e){t&1&&(T(0,"div",1),oe(1,"div",2),E())}var Ph=class t{constructor(e){this.loadingService=e;this.loadingService.loading$.subscribe(n=>{this.isLoading=n})}isLoading=!1;static \u0275fac=function(n){return new(n||t)(z(rn))};static \u0275cmp=gt({type:t,selectors:[["app-loading-spinner"]],standalone:!0,features:[yt],decls:1,vars:1,consts:[["class","spinner-container",4,"ngIf"],[1,"spinner-container"],[1,"spinner"]],template:function(n,r){n&1&&X(0,PB,2,0,"div",0),n&2&&V("ngIf",r.isLoading)},dependencies:[hn,Mn],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #2980b9;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var kh=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=gt({type:t,selectors:[["app-root"]],standalone:!0,features:[yt],decls:2,vars:0,template:function(n,r){n&1&&oe(0,"app-loading-spinner")(1,"router-outlet")},dependencies:[yg,Ph]})};xC(kh,oA).catch(t=>console.error(t));
